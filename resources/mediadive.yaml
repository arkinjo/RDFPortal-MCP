# MediaDive MIE File - Complete RDF Schema Analysis
# This file provides comprehensive analysis of the MediaDive RDF schema with focus on DSMZ Medium 119

schema_info: 
  title: MediaDive RDF Schema
  description: A comprehensive resource for bacterial culture media compositions, growth conditions, and strain information from DSMZ (German Collection of Microorganisms and Cell Cultures)
  endpoint: https://rdfportal.org/primary/sparql
  base_uri: https://purl.dsmz.de/
  graphs:
    - http://rdfportal.org/dataset/mediadive

prefixes:
  rdf: http://www.w3.org/1999/02/22-rdf-syntax-ns#
  rdfs: http://www.w3.org/2000/01/rdf-schema#
  owl: http://www.w3.org/2002/07/owl#
  xsd: http://www.w3.org/2001/XMLSchema#
  schema: https://purl.dsmz.de/schema/
  mediadive: https://purl.dsmz.de/mediadive/
  bacdive: https://purl.dsmz.de/bacdive/
  dcterms: http://purl.org/dc/terms/

shape_expressions:
  schema:Strain:
    description: A bacterial strain entity with complete taxonomic classification and growth characteristics
    properties:
      rdfs:label:
        description: The full scientific name and strain identifier
        type: xsd:string
        required: true
      dcterms:description:
        description: Detailed description of the strain including origin and characteristics
        type: xsd:string
        required: false
      schema:hasTaxID:
        description: NCBI Taxonomy ID for taxonomic classification
        type: xsd:string
        required: false
      schema:hasBacDiveID:
        description: BacDive database identifier for cross-referencing
        type: xsd:string
        required: false
      schema:hasSpecies:
        description: Species name in binomial nomenclature
        type: xsd:string
        required: true
      schema:hasGenus:
        description: Genus name for taxonomic classification
        type: xsd:string
        required: true
      schema:hasFamily:
        description: Taxonomic family classification
        type: xsd:string
        required: false
      schema:hasOrder:
        description: Taxonomic order classification
        type: xsd:string
        required: false
      schema:hasClass:
        description: Taxonomic class classification
        type: xsd:string
        required: false
      schema:hasPhylum:
        description: Taxonomic phylum classification
        type: xsd:string
        required: false
      schema:hasDomain:
        description: Taxonomic domain (typically Bacteria or Archaea)
        type: xsd:string
        required: false
      schema:hasDesignation:
        description: Official strain designation or identifier
        type: xsd:string
        required: false

  schema:Medium:
    description: A culture medium formulation for bacterial growth with detailed composition
    properties:
      rdfs:label:
        description: The official name of the culture medium
        type: xsd:string
        required: true
      dcterms:identifier:
        description: Unique identifier URI following identifiers.org standard
        type: xsd:anyURI
        required: true
      schema:belongsToGroup:
        description: Medium group or category classification
        type: xsd:string
        required: false
      schema:fromSource:
        description: Source organization (DSMZ, JCM, etc.)
        type: xsd:string
        required: false
      schema:hasFinalPH:
        description: Final pH value of the prepared medium
        type: xsd:decimal
        required: false
      schema:hasMaxPH:
        description: Maximum acceptable pH value
        type: xsd:decimal
        required: false
      schema:hasMinPH:
        description: Minimum acceptable pH value
        type: xsd:decimal
        required: false
      schema:hasMainSolution:
        description: References to main solution components
        type: schema:Solution
        required: false
      schema:includesSolution:
        description: All solutions included in the medium formulation
        type: schema:Solution
        required: false
      schema:isComplex:
        description: Boolean indicating complex (1) or defined (0) medium type
        type: xsd:boolean
        required: false
      schema:hasLinkToSource:
        description: URL link to official source documentation
        type: xsd:anyURI
        required: false

  schema:Ingredient:
    description: A chemical component used in culture media with extensive cross-references
    properties:
      rdfs:label:
        description: The common or chemical name of the ingredient
        type: xsd:string
        required: true
      dcterms:identifier:
        description: Unique internal identifier for the ingredient
        type: xsd:string
        required: true
      schema:belongsToGroup:
        description: Chemical group or functional category
        type: xsd:string
        required: false
      schema:hasPubChem:
        description: PubChem Compound ID for chemical information cross-reference
        type: xsd:string
        required: false
      schema:hasGMO:
        description: GMO database cross-reference URI for genetic modification information
        type: xsd:anyURI
        required: false
      schema:hasSynonym:
        description: Alternative names and synonyms for the ingredient
        type: xsd:string
        required: false
      schema:isComplexCarbonSource:
        description: Boolean indicating if it serves as a complex carbon source
        type: xsd:boolean
        required: false
      schema:hasCAS:
        description: CAS Registry Number for chemical identification
        type: xsd:string
        required: false
      schema:hasChEBI:
        description: ChEBI database identifier for chemical ontology
        type: xsd:string
        required: false
      schema:hasFormula:
        description: Chemical formula notation
        type: xsd:string
        required: false
      schema:hasMass:
        description: Molecular mass in daltons
        type: xsd:decimal
        required: false
      schema:hasZVG:
        description: ZVG catalog number for procurement
        type: xsd:string
        required: false

  schema:Solution:
    description: A solution component of a culture medium with volume and composition details
    properties:
      rdfs:label:
        description: The descriptive name of the solution
        type: xsd:string
        required: true
      dcterms:identifier:
        description: Unique identifier for the solution
        type: xsd:string
        required: true
      schema:hasVolume:
        description: Volume of the solution in milliliters
        type: xsd:decimal
        required: false
      schema:firstDefinedInMedium:
        description: Medium where this solution was originally defined
        type: schema:Medium
        required: false
      schema:isStockSolution:
        description: Numeric indicator for stock solution type
        type: xsd:integer
        required: false

  schema:SolutionRecipe:
    description: Individual ingredient specification within a solution with precise quantities
    properties:
      dcterms:identifier:
        description: Unique identifier for the recipe entry
        type: xsd:string
        required: true
      schema:includesIngredient:
        description: Reference to the ingredient used
        type: schema:Ingredient
        required: true
      schema:ingredientAmount:
        description: Quantity of the ingredient
        type: xsd:decimal
        required: true
      schema:ingredientUnit:
        description: Unit of measurement (g, mg, ml, etc.)
        type: xsd:string
        required: true
      schema:isIngredientOptional:
        description: Boolean indicating if ingredient is optional (0=required, 1=optional)
        type: xsd:boolean
        required: false
      schema:partOfSolution:
        description: Solution that contains this ingredient
        type: schema:Solution
        required: true
      schema:positionInRecipe:
        description: Order position in the recipe preparation
        type: xsd:integer
        required: false
      schema:gramsPerLiter:
        description: Calculated grams per liter concentration
        type: xsd:decimal
        required: false
      schema:mmolPerLiter:
        description: Calculated millimoles per liter concentration
        type: xsd:decimal
        required: false

  schema:GrowthCondition:
    description: Experimental growth conditions linking strains to specific media and parameters
    properties:
      schema:growthTemperature:
        description: Growth temperature in degrees Celsius
        type: xsd:decimal
        required: false
      schema:hasGrowthIndicator:
        description: Growth result indicator (1=positive growth, 0=no growth)
        type: xsd:boolean
        required: false
      schema:partOfMedium:
        description: Medium used for growth testing
        type: schema:Medium
        required: true
      schema:relatedToStrain:
        description: Strain tested under these conditions
        type: schema:Strain
        required: true

sample_rdf_entries:
  dsmz_medium_119:
    description: DSMZ Medium 119 (METHANOBACTERIUM MEDIUM) - A complex anaerobic medium for methanogenic bacteria
    RDF: |
      <https://purl.dsmz.de/mediadive/medium/119> a schema:Medium ;
        rdfs:label "METHANOBACTERIUM MEDIUM" ;
        dcterms:identifier "https://identifiers.org/mediadive.medium:119" ;
        schema:fromSource "DSMZ" ;
        schema:hasFinalPH "6.8-7.0" ;
        schema:isComplex "1" ;
        schema:hasLinkToSource "https://www.dsmz.de/microorganisms/medium/pdf/DSMZ_Medium119.pdf" ;
        schema:hasMainSolution <https://purl.dsmz.de/mediadive/solution/207>, <https://purl.dsmz.de/mediadive/solution/208> ;
        schema:includesSolution <https://purl.dsmz.de/mediadive/solution/207>, <https://purl.dsmz.de/mediadive/solution/208>, 
                               <https://purl.dsmz.de/mediadive/solution/209>, <https://purl.dsmz.de/mediadive/solution/595>,
                               <https://purl.dsmz.de/mediadive/solution/5861> .

  main_solution_119:
    description: Main solution 119 with detailed ingredient composition
    RDF: |
      <https://purl.dsmz.de/mediadive/solution/207> a schema:Solution ;
        rdfs:label "Main sol. 119" ;
        dcterms:identifier "207" ;
        schema:hasVolume "1003" ;
        schema:firstDefinedInMedium <https://purl.dsmz.de/mediadive/medium/119> .

  solution_recipe_example:
    description: Detailed recipe entry for NaHCO3 in main solution 119
    RDF: |
      <https://purl.dsmz.de/mediadive/solution_recipe/1014> a schema:SolutionRecipe ;
        dcterms:identifier "1014" ;
        schema:includesIngredient <https://purl.dsmz.de/mediadive/ingredient/55> ;
        schema:ingredientAmount "4.0" ;
        schema:ingredientUnit "g" ;
        schema:isIngredientOptional "0" ;
        schema:partOfSolution <https://purl.dsmz.de/mediadive/solution/207> ;
        schema:gramsPerLiter "3.98804" ;
        schema:mmolPerLiter "47.5005" .

  bacterial_strain_example:
    description: Example bacterial strain with taxonomic hierarchy
    RDF: |
      <https://purl.dsmz.de/bacdive/strain/170921> a schema:Strain ;
        rdfs:label "Ramlibacter lithotrophicus 170921" ;
        dcterms:description "Chemolithoautotrophic bacterium isolated from co-culture" ;
        schema:hasTaxID "2606681" ;
        schema:hasBacDiveID "170921" ;
        schema:hasSpecies "Ramlibacter lithotrophicus" ;
        schema:hasGenus "Ramlibacter" ;
        schema:hasFamily "Comamonadaceae" ;
        schema:hasOrder "Burkholderiales" ;
        schema:hasClass "Betaproteobacteria" ;
        schema:hasPhylum "Pseudomonadota" ;
        schema:hasDomain "Bacteria" .

  ingredient_with_crossrefs:
    description: Sorbitol ingredient with extensive cross-references to external databases
    RDF: |
      <https://purl.dsmz.de/mediadive/ingredient/1010> a schema:Ingredient ;
        rdfs:label "Sorbitol" ;
        dcterms:identifier "1010" ;
        schema:belongsToGroup "D-Sorbitol" ;
        schema:hasPubChem "5780" ;
        schema:hasGMO <http://purl.jp/bio/10/gmo/GMO_001369> ;
        schema:hasCAS "50-70-4" ;
        schema:hasChEBI "30911" ;
        schema:hasFormula "C6H14O6" ;
        schema:hasMass "182.17" ;
        schema:hasSynonym "D-Glucitol", "D-Sorbitol", "glucitol" ;
        schema:hasZVG "30670" ;
        schema:isComplexCarbonSource "0" .

sparql_query_examples:
  get_medium_119_composition:
    description: Retrieve the complete composition of DSMZ Medium 119 including all solutions and ingredients
    sparql: |
      PREFIX schema: <https://purl.dsmz.de/schema/>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      
      SELECT ?solution_label ?ingredient ?ing_label ?amount ?unit WHERE {
        <https://purl.dsmz.de/mediadive/medium/119> schema:includesSolution ?solution .
        ?solution rdfs:label ?solution_label .
        ?recipe schema:partOfSolution ?solution .
        ?recipe schema:includesIngredient ?ingredient .
        ?ingredient rdfs:label ?ing_label .
        ?recipe schema:ingredientAmount ?amount .
        ?recipe schema:ingredientUnit ?unit .
      } ORDER BY ?solution_label, DESC(?amount)

  get_complex_media_with_ph:
    description: Find all complex culture media with their pH ranges
    sparql: |
      PREFIX schema: <https://purl.dsmz.de/schema/>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      
      SELECT ?medium ?label ?ph WHERE {
        ?medium a schema:Medium .
        ?medium rdfs:label ?label .
        ?medium schema:isComplex "1" .
        ?medium schema:hasFinalPH ?ph .
      } ORDER BY ?ph

  find_methanogen_suitable_media:
    description: Find media suitable for methanogenic bacteria growth
    sparql: |
      PREFIX schema: <https://purl.dsmz.de/schema/>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      
      SELECT ?medium ?label ?species WHERE { 
        ?strain a schema:Strain .
        ?strain schema:hasSpecies ?species .
        ?growthCondition schema:relatedToStrain ?strain .
        ?growthCondition schema:partOfMedium ?medium .
        ?medium rdfs:label ?label .
        ?growthCondition schema:hasGrowthIndicator "1" .
        FILTER(CONTAINS(LCASE(?species), "methan"))
      } ORDER BY ?label

  get_anaerobic_indicators:
    description: Find ingredients that indicate anaerobic conditions in media
    sparql: |
      PREFIX schema: <https://purl.dsmz.de/schema/>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      
      SELECT ?ingredient ?label ?medium_count WHERE {
        ?ingredient a schema:Ingredient .
        ?ingredient rdfs:label ?label .
        FILTER(CONTAINS(LCASE(?label), "cysteine") || 
               CONTAINS(LCASE(?label), "resazurin") || 
               CONTAINS(LCASE(?label), "sulfide"))
        {
          SELECT ?ingredient (COUNT(DISTINCT ?medium) as ?medium_count) WHERE {
            ?recipe schema:includesIngredient ?ingredient .
            ?recipe schema:partOfSolution ?solution .
            ?medium schema:includesSolution ?solution .
          } GROUP BY ?ingredient
        }
      } ORDER BY DESC(?medium_count)

  get_strain_taxonomy_hierarchy:
    description: Retrieve complete taxonomic classification for bacterial strains
    sparql: |
      PREFIX schema: <https://purl.dsmz.de/schema/>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      
      SELECT ?strain ?species ?genus ?family ?order ?class ?phylum ?domain WHERE {
        ?strain a schema:Strain .
        ?strain schema:hasSpecies ?species .
        ?strain schema:hasGenus ?genus .
        OPTIONAL { ?strain schema:hasFamily ?family }
        OPTIONAL { ?strain schema:hasOrder ?order }
        OPTIONAL { ?strain schema:hasClass ?class }
        OPTIONAL { ?strain schema:hasPhylum ?phylum }
        OPTIONAL { ?strain schema:hasDomain ?domain }
      } LIMIT 100

cross_references:
  pubchem_chemical_compounds:
    description: Ingredients with PubChem compound cross-references for detailed chemical information
    sparql: |
      PREFIX schema: <https://purl.dsmz.de/schema/>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      
      SELECT ?ingredient ?label ?pubchem_id WHERE {
        ?ingredient a schema:Ingredient .
        ?ingredient rdfs:label ?label .
        ?ingredient schema:hasPubChem ?pubchem_id .
        FILTER(?pubchem_id > 0)
      } ORDER BY ?label

  gmo_database_references:
    description: Ingredients with GMO database cross-references for genetic modification information
    sparql: |
      PREFIX schema: <https://purl.dsmz.de/schema/>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      
      SELECT ?ingredient ?label ?gmo_uri WHERE {
        ?ingredient a schema:Ingredient .
        ?ingredient rdfs:label ?label .
        ?ingredient schema:hasGMO ?gmo_uri .
      } ORDER BY ?label

  ncbi_taxonomy_references:
    description: Strains with NCBI Taxonomy database cross-references for phylogenetic analysis
    sparql: |
      PREFIX schema: <https://purl.dsmz.de/schema/>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      
      SELECT ?strain ?label ?tax_id WHERE {
        ?strain a schema:Strain .
        ?strain rdfs:label ?label .
        ?strain schema:hasTaxID ?tax_id .
        FILTER(REGEX(?tax_id, "^[0-9]+$"))
      } LIMIT 100

  chebi_chemical_ontology:
    description: Ingredients with ChEBI database cross-references for chemical ontology classification
    sparql: |
      PREFIX schema: <https://purl.dsmz.de/schema/>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      
      SELECT ?ingredient ?label ?chebi_id WHERE {
        ?ingredient a schema:Ingredient .
        ?ingredient rdfs:label ?label .
        ?ingredient schema:hasChEBI ?chebi_id .
      } ORDER BY ?label

  bacdive_strain_database:
    description: Strains with BacDive database cross-references for comprehensive bacterial information
    sparql: |
      PREFIX schema: <https://purl.dsmz.de/schema/>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      
      SELECT ?strain ?label ?bacdive_id WHERE {
        ?strain a schema:Strain .
        ?strain rdfs:label ?label .
        ?strain schema:hasBacDiveID ?bacdive_id .
      } LIMIT 100

architectural_notes:
  design_patterns:
    - Uses DSMZ schema vocabulary (https://purl.dsmz.de/schema/) for all domain-specific terms
    - Implements hierarchical composition model: Medium -> Solution -> SolutionRecipe -> Ingredient
    - Provides extensive cross-references to major biological and chemical databases
    - Uses Dublin Core Terms for standardized metadata (identifiers, descriptions)
    - Employs identifiers.org URIs for medium identification following FAIR data principles
    - Maintains both quantitative (amount/unit) and calculated (concentration) values
    - Links strains to experimental growth conditions with specific media and results
    - Supports both complex and defined medium classifications
    - Provides complete taxonomic hierarchy from domain to species level for strains

  cross_reference_strategy:
    - PubChem IDs stored as strings with "0" indicating unavailable cross-reference
    - GMO database links stored as complete URIs (http://purl.jp/bio/10/gmo/GMO_XXXXXX)
    - NCBI Taxonomy IDs stored as numeric strings for phylogenetic classification
    - BacDive strain IDs provide links to comprehensive bacterial phenotype data
    - CAS Registry Numbers for precise chemical compound identification
    - ChEBI IDs for chemical ontology and classification integration
    - ZVG catalog numbers for practical procurement information

  data_quality_considerations:
    - Optional ingredients clearly marked to distinguish required vs supplementary components
    - Stock solution indicators help identify preparation methods
    - Concentration calculations (g/L, mmol/L) provided alongside raw amounts
    - pH ranges given as strings to accommodate both precise values and ranges
    - Recipe position numbers enable proper preparation sequence ordering

  performance_considerations:
    - Large dataset requires indexing on taxonomic properties for species-level queries
    - Cross-reference properties should be indexed for external database integration
    - Solution composition queries benefit from ingredient-based indexing
    - Growth condition queries may require temperature and result-based optimization
    - Medium name and identifier searches should be optimized for user interface queries

data_statistics:
  total_classes: 13
  total_strains: 143019
  total_media: 3291
  total_ingredients: 1489
  total_solutions: ~5000
  total_solution_recipes: ~50000
  total_growth_conditions: ~350000
  primary_sources: ["DSMZ", "JCM", "ATCC", "Others"]
  medium_types: 
    complex: ~2800
    defined: ~491
  last_updated: '2024-01-01T00:00:00Z'
