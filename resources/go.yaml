schema_info:
  title: Gene Ontology (GO) RDF Schema Analysis
  description: This document provides a comprehensive analysis of the Gene Ontology RDF schema including shape expressions, cross-references, and biologically relevant SPARQL queries
  endpoint: https://rdfportal.org/primary/sparql
  base_uri: http://purl.obolibrary.org/obo/
  version: Latest available from RDF Portal
  last_analyzed: '2025-01-28'

prefixes:
  rdf: http://www.w3.org/1999/02/22-rdf-syntax-ns#
  rdfs: http://www.w3.org/2000/01/rdf-schema#
  owl: http://www.w3.org/2002/07/owl#
  xsd: http://www.w3.org/2001/XMLSchema#
  obo: http://purl.obolibrary.org/obo/
  go: http://purl.obolibrary.org/obo/GO_
  oboInOwl: http://www.geneontology.org/formats/oboInOwl#
  IAO: http://purl.obolibrary.org/obo/IAO_
  BFO: http://purl.obolibrary.org/obo/BFO_
  RO: http://purl.obolibrary.org/obo/RO_
  togoid: http://togoid.dbcls.jp/ontology#

shape_expressions:
  GO_Term:
    description: A Gene Ontology term representing biological concepts
    target_class: owl:Class
    properties:
      go_id:
        property: oboInOwl:id
        type: xsd:string
        pattern: "^GO:[0-9]{7}$"
        required: true
        description: Official GO identifier in format GO:XXXXXXX
      label:
        property: rdfs:label
        type: xsd:string
        required: true
        description: Human-readable name of the GO term
      definition:
        property: IAO:0000115
        type: xsd:string
        required: false
        description: Textual definition of the biological concept
      subclass_of:
        property: rdfs:subClassOf
        type: IRI
        required: false
        multiple: true
        description: Parent terms in the GO hierarchy
      cross_references:
        property: togoid:TIO_000007
        type: IRI
        required: false
        multiple: true
        description: Links to UniProt and other external databases
      ec_number:
        property: oboInOwl:hasDbXref
        type: xsd:string
        pattern: "^EC:[0-9]+\\.[0-9]+\\.[0-9]+\\.[0-9]+$"
        required: false
        multiple: true
        description: Enzyme Commission number for molecular functions
      obsolete_status:
        property: IAO:0000231
        type: IRI
        required: false
        description: Indicates if term is obsolete
      replacement_term:
        property: IAO:0000233
        type: IRI
        required: false
        description: Suggested replacement for obsolete terms

  Molecular_Function:
    description: GO terms describing molecular-level activities
    extends: GO_Term
    target_pattern: "^http://purl.obolibrary.org/obo/GO_"
    constraints:
      - rdfs:subClassOf* obo:GO_0003674  # molecular_function root
    properties:
      enzyme_activity:
        property: oboInOwl:hasDbXref
        type: xsd:string
        pattern: "^EC:"
        required: false
        description: Associated enzyme commission number

  Biological_Process:
    description: GO terms describing biological processes
    extends: GO_Term
    target_pattern: "^http://purl.obolibrary.org/obo/GO_"
    constraints:
      - rdfs:subClassOf* obo:GO_0008150  # biological_process root
    properties:
      regulates:
        property: RO:0002211
        type: IRI
        required: false
        multiple: true
        description: Processes that this term regulates
      occurs_in:
        property: BFO:0000066
        type: IRI
        required: false
        description: Cellular component where process occurs

  Cellular_Component:
    description: GO terms describing cellular locations and structures
    extends: GO_Term
    target_pattern: "^http://purl.obolibrary.org/obo/GO_"
    constraints:
      - rdfs:subClassOf* obo:GO_0005575  # cellular_component root
    properties:
      part_of:
        property: BFO:0000050
        type: IRI
        required: false
        multiple: true
        description: Larger cellular structure this is part of

sample_rdf_entries:
  molecular_function_example:
    description: Acyl binding molecular function
    RDF: |
      obo:GO_0000035 a owl:Class ;
        rdfs:label "acyl binding" ;
        oboInOwl:id "GO:0000035" ;
        IAO:0000115 "Binding to an acyl group, any group formally derived by removal of the hydroxyl group from the acid function of a carboxylic acid." ;
        rdfs:subClassOf obo:GO_0036094 ;
        togoid:TIO_000007 <http://purl.uniprot.org/uniprot/P59449> .

  biological_process_example:
    description: Cell wall mannoprotein biosynthetic process
    RDF: |
      obo:GO_0000032 a owl:Class ;
        rdfs:label "cell wall mannoprotein biosynthetic process" ;
        oboInOwl:id "GO:0000032" ;
        IAO:0000115 "The chemical reactions and pathways resulting in the formation of cell wall mannoproteins, any cell wall protein that contains covalently bound mannose residues." ;
        rdfs:subClassOf obo:GO_0006057, obo:GO_0031506 ;
        togoid:TIO_000007 <http://purl.uniprot.org/uniprot/G0V782> .

  cellular_component_example:
    description: Cellular component root term
    RDF: |
      obo:GO_0005575 a owl:Class ;
        rdfs:label "cellular_component" ;
        oboInOwl:id "GO:0005575" ;
        IAO:0000115 "A location, relative to cellular compartments and structures, occupied by a macromolecular machine." .

  enzyme_activity_example:
    description: Enzyme with EC number cross-reference
    RDF: |
      obo:GO_0000225 a owl:Class ;
        rdfs:label "N-acetylglucosaminylphosphatidylinositol deacetylase activity" ;
        oboInOwl:id "GO:0000225" ;
        IAO:0000115 "Catalysis of the reaction: N-acetyl-D-glucosaminylphosphatidylinositol + H2O = D-glucosaminylphosphatidylinositol + acetate." ;
        oboInOwl:hasDbXref "EC:3.5.1.89" .

  regulatory_process_example:
    description: Process regulation relationship
    RDF: |
      obo:GO_0002718 a owl:Class ;
        rdfs:label "regulation of cytokine production involved in immune response" ;
        RO:0002211 obo:GO_0002367 ;  # regulates cytokine production
        BFO:0000066 obo:GO_0006955 .  # occurs_in immune response

sparql_query_examples:
  get_root_terms:
    description: Retrieve the three main GO root terms (molecular function, biological process, cellular component)
    sparql: |
      SELECT ?term ?label ?definition
      WHERE { 
        VALUES ?term { 
          <http://purl.obolibrary.org/obo/GO_0003674>
          <http://purl.obolibrary.org/obo/GO_0008150> 
          <http://purl.obolibrary.org/obo/GO_0005575>
        }
        ?term <http://www.w3.org/2000/01/rdf-schema#label> ?label .
        OPTIONAL { ?term <http://purl.obolibrary.org/obo/IAO_0000115> ?definition }
      }

  get_enzyme_activities:
    description: Find GO terms with associated Enzyme Commission numbers
    sparql: |
      SELECT DISTINCT ?term ?label ?ec_number
      WHERE {
        ?term <http://www.w3.org/2000/01/rdf-schema#label> ?label .
        ?term <http://www.geneontology.org/formats/oboInOwl#hasDbXref> ?ec_number .
        FILTER(STRSTARTS(STR(?term), "http://purl.obolibrary.org/obo/GO_"))
        FILTER(STRSTARTS(STR(?ec_number), "EC:"))
      }
      ORDER BY ?ec_number
      LIMIT 20

  get_hierarchical_relationships:
    description: Explore parent-child relationships in GO hierarchy
    sparql: |
      SELECT ?term ?parent ?label
      WHERE {
        ?term <http://www.w3.org/2000/01/rdf-schema#subClassOf> ?parent .
        ?term <http://www.w3.org/2000/01/rdf-schema#label> ?label .
        FILTER(STRSTARTS(STR(?term), "http://purl.obolibrary.org/obo/GO_"))
        FILTER(STRSTARTS(STR(?parent), "http://purl.obolibrary.org/obo/GO_"))
      }
      LIMIT 15

  get_localization_relationships:
    description: Find biological processes and their cellular locations
    sparql: |
      SELECT ?term ?occurs_in ?label
      WHERE {
        ?term <http://purl.obolibrary.org/obo/BFO_0000066> ?occurs_in .
        ?term <http://www.w3.org/2000/01/rdf-schema#label> ?label .
        FILTER(STRSTARTS(STR(?term), "http://purl.obolibrary.org/obo/GO_"))
      }
      LIMIT 10

  get_regulatory_relationships:
    description: Find regulation relationships between biological processes
    sparql: |
      SELECT DISTINCT ?term ?regulates_label ?target_label
      WHERE {
        ?term <http://purl.obolibrary.org/obo/RO_0002211> ?target .
        ?term <http://www.w3.org/2000/01/rdf-schema#label> ?regulates_label .
        ?target <http://www.w3.org/2000/01/rdf-schema#label> ?target_label .
        FILTER(STRSTARTS(STR(?term), "http://purl.obolibrary.org/obo/GO_"))
      }
      LIMIT 10

  get_go_terms_with_definitions:
    description: Retrieve GO terms with their definitions and basic properties
    sparql: |
      SELECT DISTINCT ?term ?label ?definition
      WHERE {
        ?term <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://www.w3.org/2002/07/owl#Class> .
        ?term <http://www.w3.org/2000/01/rdf-schema#label> ?label .
        OPTIONAL { ?term <http://purl.obolibrary.org/obo/IAO_0000115> ?definition }
        FILTER(STRSTARTS(STR(?term), "http://purl.obolibrary.org/obo/GO_"))
      } 
      LIMIT 20

cross_references:
  uniprot_mappings:
    description: Cross-references from GO terms to UniProt protein entries via TogoID
    sparql: |
      SELECT ?go_term ?go_label ?uniprot_protein
      WHERE { 
        ?go_term <http://www.w3.org/2000/01/rdf-schema#label> ?go_label .
        ?go_term <http://togoid.dbcls.jp/ontology#TIO_000007> ?uniprot_protein .
        FILTER(STRSTARTS(STR(?go_term), "http://purl.obolibrary.org/obo/GO_"))
        FILTER(CONTAINS(STR(?uniprot_protein), "uniprot.org"))
      }
      LIMIT 15

  enzyme_commission_xrefs: 
    description: Cross-references to Enzyme Commission classification system
    sparql: |
      SELECT ?go_term ?go_label ?ec_number
      WHERE {
        ?go_term <http://www.w3.org/2000/01/rdf-schema#label> ?go_label .
        ?go_term <http://www.geneontology.org/formats/oboInOwl#hasDbXref> ?ec_number .
        FILTER(STRSTARTS(STR(?go_term), "http://purl.obolibrary.org/obo/GO_"))
        FILTER(REGEX(STR(?ec_number), "^EC:[0-9]+\\.[0-9]+\\.[0-9]+\\.[0-9]+$"))
      }
      ORDER BY ?ec_number

  obsolete_term_tracking:
    description: Handle obsolete terms and their replacement suggestions
    sparql: |
      SELECT ?term ?label ?replacement
      WHERE {
        ?term <http://www.w3.org/2000/01/rdf-schema#label> ?label .
        ?term <http://purl.obolibrary.org/obo/IAO_0000231> <http://purl.obolibrary.org/obo/IAO_0000227> .
        OPTIONAL { ?term <http://purl.obolibrary.org/obo/IAO_0000233> ?replacement }
        FILTER(STRSTARTS(STR(?term), "http://purl.obolibrary.org/obo/GO_"))
      }
      LIMIT 10

  transitive_relationship_techniques:
    description: Advanced methods for exploring transitive relations in ontologies
    concepts:
      property_paths:
        - "Use + for one-or-more transitive closure"
        - "Use * for zero-or-more transitive closure"
        - "Use ? for optional single step"
      examples:
        ancestors: "?term rdfs:subClassOf+ ?ancestor"
        descendants: "?descendant rdfs:subClassOf+ ?term"
        optional_parent: "?term rdfs:subClassOf? ?parent"
      performance_tips:
        - "Limit result sets when exploring large hierarchies"
        - "Use DISTINCT to avoid duplicate paths"
        - "Filter by namespace early in the query"
        - "Order results for consistent output"
    
  architectural_notes:
  design_patterns:
    - "GO follows the Open Biomedical Ontologies (OBO) format principles"
    - "Three-branch structure: molecular function, biological process, cellular component"
    - "Directed acyclic graph (DAG) structure allowing multiple inheritance"
    - "Uses standard relation ontology (RO) properties for relationships"
    - "Extensive cross-referencing to external databases via TogoID mappings"
    - "Systematic handling of obsolete terms with replacement suggestions"
  
  namespace_organization:
    - "Core GO terms use http://purl.obolibrary.org/obo/GO_ namespace"
    - "Properties from Information Artifact Ontology (IAO) for metadata"
    - "Basic Formal Ontology (BFO) relations for part-of relationships"
    - "Relation Ontology (RO) for regulatory and occurrence relationships"
  
  cross_reference_strategy:
    - "TogoID provides systematic cross-references to UniProt proteins"
    - "Direct EC number cross-references for enzyme activities"
    - "Obsolete term handling with IAO properties"
    - "External database mappings maintained separately from core ontology"
  
  performance_considerations:
    - "Hierarchical queries benefit from SPARQL property paths (rdfs:subClassOf*)"
    - "Cross-reference queries should filter by namespace to improve performance"
    - "Use specific GO term ranges when possible to limit result sets"
    - "Consider indexing on frequently queried properties like rdfs:label and cross-references"

data_statistics:
  estimated_go_classes: "40,000+"
  root_terms: 3
  main_branches: 
    - "Molecular Function (GO:0003674)"
    - "Biological Process (GO:0008150)" 
    - "Cellular Component (GO:0005575)"
  cross_reference_types:
    - "UniProt proteins via TogoID"
    - "Enzyme Commission numbers"
    - "Various biological databases"
  relationship_types:
    - "is_a (rdfs:subClassOf)"
    - "part_of (BFO:0000050)"
    - "occurs_in (BFO:0000066)"
    - "regulates (RO:0002211)"
  last_updated: '2025-01-28T10:00:00Z'

validation_notes:
  tested_queries: "All SPARQL queries have been tested against the RDF Portal GO endpoint and return meaningful results"
  shape_expressions: "ShEx patterns derived from actual data analysis of GO RDF structure"
  cross_references: "Cross-reference patterns validated through sample queries"
  coverage: "Analysis covers all three main GO branches and key relationship types"