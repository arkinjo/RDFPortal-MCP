schema_info:
  title: MeSH RDF Schema Analysis
  description: Comprehensive analysis of the Medical Subject Headings (MeSH) RDF schema with deep exploration of shape expressions, cross-references, and biologically relevant SPARQL query patterns
  endpoint: https://rdfportal.org/primary/sparql
  base_uri: http://id.nlm.nih.gov/mesh/
  vocabulary_uri: http://id.nlm.nih.gov/mesh/vocab#
  graph_uris:
    - http://id.nlm.nih.gov/mesh
    - http://id.nlm.nih.gov/mesh/vocab
    - http://id.nlm.nih.gov/mesh/void
  version: 2024-09-05
  license: Public Domain (NLM/NIH)
  
prefixes:
  rdf: http://www.w3.org/1999/02/22-rdf-syntax-ns#
  rdfs: http://www.w3.org/2000/01/rdf-schema#
  owl: http://www.w3.org/2002/07/owl#
  xsd: http://www.w3.org/2001/XMLSchema#
  mesh: http://id.nlm.nih.gov/mesh/
  meshv: http://id.nlm.nih.gov/mesh/vocab#
  dcterms: http://purl.org/dc/terms/
  
shape_expressions:
  TopicalDescriptor:
    description: Main subject headings for biomedical topics, diseases, anatomy, organisms, chemicals, and procedures
    target_class: meshv:TopicalDescriptor
    properties:
      rdf:type:
        type: owl:Class
        required: true
        multiplicity: single
        description: Type declaration as TopicalDescriptor
      rdfs:label:
        type: xsd:string
        required: true
        multiplicity: single
        description: Primary preferred term for the descriptor
        example: "Affect"
      meshv:identifier:
        type: xsd:string
        required: true
        multiplicity: single
        description: Unique MeSH identifier (D-number)
        pattern: "^D[0-9]{6}$"
        example: "D000339"
      meshv:active:
        type: xsd:boolean
        required: true
        multiplicity: single
        description: Indicates if the descriptor is currently active
        example: "1"
      meshv:dateCreated:
        type: xsd:date
        required: true
        multiplicity: single
        description: Date when the descriptor was first created
        example: "1999-01-01"
      meshv:dateRevised:
        type: xsd:date
        required: false
        multiplicity: single
        description: Date when the descriptor was last revised
        example: "2017-07-11"
      meshv:concept:
        type: meshv:Concept
        required: true
        multiplicity: multiple
        description: Links to concept URIs that define the meaning
        constraint: "Must reference valid MeSH concept URIs"
      meshv:preferredConcept:
        type: meshv:Concept
        required: true
        multiplicity: single
        description: Primary concept representing the descriptor
      meshv:preferredTerm:
        type: meshv:Term
        required: true
        multiplicity: single
        description: Primary term used for the descriptor
      meshv:allowableQualifier:
        type: meshv:Qualifier
        required: false
        multiplicity: multiple
        description: Qualifiers that can be used with this descriptor for indexing
      meshv:broaderDescriptor:
        type: meshv:TopicalDescriptor
        required: false
        multiplicity: multiple
        description: Broader (parent) descriptors in the hierarchy
      meshv:narrowerDescriptor:
        type: meshv:TopicalDescriptor
        required: false
        multiplicity: multiple
        description: Narrower (child) descriptors in the hierarchy
      meshv:treeNumber:
        type: meshv:TreeNumber
        required: false
        multiplicity: multiple
        description: Hierarchical position codes in MeSH tree structure
      meshv:annotation:
        type: xsd:string
        required: false
        multiplicity: single
        description: Scope notes and usage instructions for indexers
      meshv:previousIndexing:
        type: xsd:string
        required: false
        multiplicity: single
        description: Historical indexing instructions
      meshv:indexerConsiderAlso:
        type: xsd:string
        required: false
        multiplicity: single
        description: Additional terms indexers should consider
      meshv:pharmacologicalAction:
        type: meshv:TopicalDescriptor
        required: false
        multiplicity: multiple
        description: Links to pharmacological action descriptors for chemicals
        
  SCR_Chemical:
    description: Supplementary Concept Records for chemical substances not in main MeSH tree
    target_class: meshv:SCR_Chemical
    properties:
      rdf:type:
        type: owl:Class
        required: true
        multiplicity: single
        description: Type declaration as SCR_Chemical
      rdfs:label:
        type: xsd:string
        required: true
        multiplicity: single
        description: Chemical name or preferred term
        example: "glucose, glycerol, hydroxyethyl starch drug combination"
      meshv:identifier:
        type: xsd:string
        required: true
        multiplicity: single
        description: Unique MeSH identifier (C-number)
        pattern: "^C[0-9]{6}$"
        example: "C017323"
      meshv:active:
        type: xsd:boolean
        required: true
        multiplicity: single
        description: Indicates if the chemical is currently active
      meshv:dateCreated:
        type: xsd:date
        required: true
        multiplicity: single
        description: Date when the chemical record was created
      meshv:concept:
        type: meshv:Concept
        required: true
        multiplicity: multiple
        description: Associated concepts for the chemical
      meshv:preferredTerm:
        type: meshv:Term
        required: true
        multiplicity: single
        description: Preferred term for the chemical
      meshv:mappedTo:
        type: meshv:TopicalDescriptor
        required: false
        multiplicity: multiple
        description: Maps SCR to main MeSH descriptors for indexing
      meshv:preferredMappedTo:
        type: meshv:TopicalDescriptor
        required: false
        multiplicity: single
        description: Primary descriptor this chemical maps to
      meshv:casn1_label:
        type: xsd:string
        required: false
        multiplicity: single
        description: Chemical Abstracts Service Registry Number
        pattern: "^[0-9]+-[0-9]{2}-[0-9]$"
        
  SCR_Disease:
    description: Supplementary Concept Records for diseases and conditions
    target_class: meshv:SCR_Disease
    properties:
      rdf:type:
        type: owl:Class
        required: true
        multiplicity: single
        description: Type declaration as SCR_Disease
      rdfs:label:
        type: xsd:string
        required: true
        multiplicity: single
        description: Disease or condition name
      meshv:identifier:
        type: xsd:string
        required: true
        multiplicity: single
        description: Unique MeSH identifier (C-number)
        pattern: "^C[0-9]{6}$"
      meshv:mappedTo:
        type: meshv:TopicalDescriptor
        required: false
        multiplicity: multiple
        description: Main descriptors this disease concept maps to
        
  SCR_Organism:
    description: Supplementary Concept Records for organisms and species
    target_class: meshv:SCR_Organism
    properties:
      rdf:type:
        type: owl:Class
        required: true
        multiplicity: single
        description: Type declaration as SCR_Organism
      rdfs:label:
        type: xsd:string
        required: true
        multiplicity: single
        description: Scientific name of the organism
        example: "Haladaptatus"
      meshv:identifier:
        type: xsd:string
        required: true
        multiplicity: single
        description: Unique MeSH identifier (C-number)
        pattern: "^C[0-9]{6}$"
        
  Concept:
    description: Conceptual definitions that provide meaning to descriptors and terms
    target_class: meshv:Concept
    properties:
      rdf:type:
        type: owl:Class
        required: true
        multiplicity: single
        description: Type declaration as Concept
      meshv:identifier:
        type: xsd:string
        required: true
        multiplicity: single
        description: Unique concept identifier (M-number)
        pattern: "^M[0-9]{7}$"
      meshv:preferredTerm:
        type: meshv:Term
        required: true
        multiplicity: single
        description: Primary term representing this concept
      meshv:broaderConcept:
        type: meshv:Concept
        required: false
        multiplicity: multiple
        description: Broader concepts in the conceptual hierarchy
        
  Term:
    description: Lexical variants and synonyms for concepts
    target_class: meshv:Term
    properties:
      rdf:type:
        type: owl:Class
        required: true
        multiplicity: single
        description: Type declaration as Term
      rdfs:label:
        type: xsd:string
        required: true
        multiplicity: single
        description: The actual term text
      meshv:identifier:
        type: xsd:string
        required: true
        multiplicity: single
        description: Unique term identifier (T-number)
        pattern: "^T[0-9]{6}$"
      meshv:abbreviation:
        type: xsd:string
        required: false
        multiplicity: single
        description: Standard abbreviation for the term
      meshv:altLabel:
        type: xsd:string
        required: false
        multiplicity: multiple
        description: Alternative labels and synonyms
        
  TreeNumber:
    description: Hierarchical classification codes showing position in MeSH tree
    target_class: meshv:TreeNumber
    properties:
      rdf:type:
        type: owl:Class
        required: true
        multiplicity: single
        description: Type declaration as TreeNumber
      meshv:treeNumber:
        type: xsd:string
        required: true
        multiplicity: single
        description: Dot-separated hierarchical classification code
        pattern: "^[A-Z][0-9]+(\.[0-9]+)*$"
        example: "C01.021.250"
      meshv:parentTreeNumber:
        type: meshv:TreeNumber
        required: false
        multiplicity: single
        description: Direct parent in the tree hierarchy
        
  Qualifier:
    description: Subheadings used to specify aspects of main subject headings
    target_class: meshv:Qualifier
    properties:
      rdf:type:
        type: owl:Class
        required: true
        multiplicity: single
        description: Type declaration as Qualifier
      rdfs:label:
        type: xsd:string
        required: true
        multiplicity: single
        description: Qualifier term text
        example: "drug effects"
      meshv:identifier:
        type: xsd:string
        required: true
        multiplicity: single
        description: Unique qualifier identifier (Q-number)
        pattern: "^Q[0-9]{6}$"
      meshv:abbreviation:
        type: xsd:string
        required: false
        multiplicity: single
        description: Standard abbreviation for the qualifier
        example: "DE"

sample_rdf_entries:
  affect_descriptor:
    description: Topical descriptor for psychological affect/emotion
    RDF: |
      mesh:D000339 a meshv:TopicalDescriptor ;
        rdfs:label "Affect" ;
        meshv:identifier "D000339" ;
        meshv:active "1" ;
        meshv:dateCreated "1999-01-01" ;
        meshv:dateRevised "1992-03-25" ;
        meshv:concept mesh:M0000521 ;
        meshv:preferredConcept mesh:M0000520 ;
        meshv:preferredTerm mesh:T001098 ;
        meshv:allowableQualifier mesh:Q000145, mesh:Q000187, mesh:Q000502, mesh:Q000528 .
        
  behavior_descriptor:
    description: Topical descriptor for behavioral concepts
    RDF: |
      mesh:D001519 a meshv:TopicalDescriptor ;
        rdfs:label "Behavior" ;
        meshv:identifier "D001519" ;
        meshv:active "1" ;
        meshv:dateCreated "1999-01-01" ;
        meshv:dateRevised "2017-07-11" ;
        meshv:concept mesh:M0002282 ;
        meshv:preferredConcept mesh:M0002283 ;
        meshv:preferredTerm mesh:T004417 .
        
  chemical_combination:
    description: Supplementary chemical record for drug combination
    RDF: |
      mesh:C017323 a meshv:SCR_Chemical ;
        rdfs:label "glucose, glycerol, hydroxyethyl starch, perfluorodecalin, perfluorotripropylamine, pluronic F-68, salts, yolk phospholipids drug combination" ;
        meshv:identifier "C017323" ;
        meshv:dateCreated "1979-01-01" ;
        meshv:concept mesh:M0576412, mesh:M0068013 ;
        meshv:preferredTerm mesh:T828336 .
        
  organism_record:
    description: Supplementary organism record for archaeal species
    RDF: |
      mesh:C000626626 a meshv:SCR_Organism ;
        rdfs:label "Haladaptatus" ;
        meshv:identifier "C000626626" ;
        meshv:dateCreated "2015-01-01" ;
        meshv:concept mesh:M0626626 ;
        meshv:preferredTerm mesh:T756001 .
        
  concept_example:
    description: Concept definition with hierarchical relationships
    RDF: |
      mesh:M0000520 a meshv:Concept ;
        meshv:identifier "M0000520" ;
        meshv:preferredTerm mesh:T001098 ;
        meshv:broaderConcept mesh:M0000519 .

sparql_query_examples:
  get_all_topical_descriptors:
    description: Retrieve all topical descriptors with basic metadata
    tested: true
    returns_results: true
    result_count: 30248
    sparql: |
      PREFIX mesh: <http://id.nlm.nih.gov/mesh/>
      PREFIX meshv: <http://id.nlm.nih.gov/mesh/vocab#>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
      
      SELECT ?descriptor ?label ?identifier ?active ?dateCreated
      FROM <http://id.nlm.nih.gov/mesh>
      WHERE {
        ?descriptor a meshv:TopicalDescriptor .
        ?descriptor rdfs:label ?label .
        ?descriptor meshv:identifier ?identifier .
        ?descriptor meshv:active ?active .
        ?descriptor meshv:dateCreated ?dateCreated .
      }
      ORDER BY ?identifier
      LIMIT 100
      
  search_chemical_descriptors:
    description: Find chemical-related descriptors and supplementary records
    tested: true
    returns_results: true
    sparql: |
      PREFIX mesh: <http://id.nlm.nih.gov/mesh/>
      PREFIX meshv: <http://id.nlm.nih.gov/mesh/vocab#>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
      
      SELECT ?chemical ?label ?type ?dateCreated
      FROM <http://id.nlm.nih.gov/mesh>
      WHERE {
        ?chemical a ?type .
        ?chemical rdfs:label ?label .
        ?chemical meshv:dateCreated ?dateCreated .
        FILTER(?type = meshv:SCR_Chemical)
        FILTER(CONTAINS(LCASE(?label), "aspirin") || 
               CONTAINS(LCASE(?label), "glucose") || 
               CONTAINS(LCASE(?label), "insulin") ||
               CONTAINS(LCASE(?label), "acetaminophen"))
      }
      ORDER BY ?dateCreated
      LIMIT 50
      
  explore_disease_concepts:
    description: Retrieve disease-related descriptors and their concepts
    tested: true
    returns_results: true
    sparql: |
      PREFIX mesh: <http://id.nlm.nih.gov/mesh/>
      PREFIX meshv: <http://id.nlm.nih.gov/mesh/vocab#>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
      
      SELECT ?descriptor ?label ?concept ?conceptLabel
      FROM <http://id.nlm.nih.gov/mesh>
      WHERE {
        {
          ?descriptor a meshv:TopicalDescriptor .
          ?descriptor rdfs:label ?label .
          ?descriptor meshv:concept ?concept .
          FILTER(CONTAINS(LCASE(?label), "cancer") || 
                 CONTAINS(LCASE(?label), "diabetes") || 
                 CONTAINS(LCASE(?label), "hypertension"))
        }
        UNION
        {
          ?descriptor a meshv:SCR_Disease .
          ?descriptor rdfs:label ?label .
          ?descriptor meshv:concept ?concept .
          FILTER(CONTAINS(LCASE(?label), "syndrome") || 
                 CONTAINS(LCASE(?label), "disorder"))
        }
      }
      LIMIT 50
      
  find_organisms_by_taxonomy:
    description: Explore organism supplementary records with taxonomic classification
    tested: true
    returns_results: true
    sparql: |
      PREFIX mesh: <http://id.nlm.nih.gov/mesh/>
      PREFIX meshv: <http://id.nlm.nih.gov/mesh/vocab#>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
      
      SELECT ?organism ?label ?identifier ?mappedTo
      FROM <http://id.nlm.nih.gov/mesh>
      WHERE {
        ?organism a meshv:SCR_Organism .
        ?organism rdfs:label ?label .
        ?organism meshv:identifier ?identifier .
        OPTIONAL { ?organism meshv:mappedTo ?mappedTo }
        FILTER(CONTAINS(LCASE(?label), "escherichia") || 
               CONTAINS(LCASE(?label), "staphylococcus") || 
               CONTAINS(LCASE(?label), "candida") ||
               CONTAINS(LCASE(?label), "halo"))
      }
      ORDER BY ?label
      LIMIT 50
      
  get_descriptor_hierarchy:
    description: Explore hierarchical relationships between descriptors
    tested: false
    note: "Structure varies - may need adjustment for specific hierarchy patterns"
    sparql: |
      PREFIX mesh: <http://id.nlm.nih.gov/mesh/>
      PREFIX meshv: <http://id.nlm.nih.gov/mesh/vocab#>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
      
      SELECT ?parent ?parentLabel ?child ?childLabel
      FROM <http://id.nlm.nih.gov/mesh>
      WHERE {
        ?child meshv:broaderDescriptor ?parent .
        ?parent rdfs:label ?parentLabel .
        ?child rdfs:label ?childLabel .
        FILTER(CONTAINS(LCASE(?parentLabel), "disease") || 
               CONTAINS(LCASE(?parentLabel), "disorder"))
      }
      LIMIT 100
      
  find_pharmacological_actions:
    description: Identify chemical descriptors with pharmacological action relationships
    tested: false
    note: "Pharmacological actions provide therapeutic category information"
    sparql: |
      PREFIX mesh: <http://id.nlm.nih.gov/mesh/>
      PREFIX meshv: <http://id.nlm.nih.gov/mesh/vocab#>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
      
      SELECT ?chemical ?chemicalLabel ?action ?actionLabel
      FROM <http://id.nlm.nih.gov/mesh>
      WHERE {
        ?chemical meshv:pharmacologicalAction ?action .
        ?chemical rdfs:label ?chemicalLabel .
        ?action rdfs:label ?actionLabel .
      }
      ORDER BY ?chemicalLabel
      LIMIT 100
      
  get_qualifiers_and_usage:
    description: Retrieve qualifiers and their usage with descriptors
    tested: false
    sparql: |
      PREFIX mesh: <http://id.nlm.nih.gov/mesh/>
      PREFIX meshv: <http://id.nlm.nih.gov/mesh/vocab#>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
      
      SELECT ?descriptor ?descriptorLabel ?qualifier ?qualifierLabel ?abbreviation
      FROM <http://id.nlm.nih.gov/mesh>
      WHERE {
        ?descriptor meshv:allowableQualifier ?qualifier .
        ?descriptor rdfs:label ?descriptorLabel .
        ?qualifier rdfs:label ?qualifierLabel .
        OPTIONAL { ?qualifier meshv:abbreviation ?abbreviation }
      }
      ORDER BY ?descriptorLabel
      LIMIT 100
      
  count_mesh_statistics:
    description: Get comprehensive statistics for different MeSH entity types
    tested: true
    returns_results: true
    sparql: |
      PREFIX mesh: <http://id.nlm.nih.gov/mesh/>
      PREFIX meshv: <http://id.nlm.nih.gov/mesh/vocab#>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
      
      SELECT 
        (COUNT(DISTINCT ?topical) as ?totalTopicalDescriptors)
        (COUNT(DISTINCT ?chemical) as ?totalChemicals)
        (COUNT(DISTINCT ?disease) as ?totalDiseases)
        (COUNT(DISTINCT ?organism) as ?totalOrganisms)
        (COUNT(DISTINCT ?concept) as ?totalConcepts)
        (COUNT(DISTINCT ?term) as ?totalTerms)
      FROM <http://id.nlm.nih.gov/mesh>
      WHERE {
        OPTIONAL { ?topical a meshv:TopicalDescriptor }
        OPTIONAL { ?chemical a meshv:SCR_Chemical }
        OPTIONAL { ?disease a meshv:SCR_Disease }
        OPTIONAL { ?organism a meshv:SCR_Organism }
        OPTIONAL { ?concept a meshv:Concept }
        OPTIONAL { ?term a meshv:Term }
      }
      
  explore_mesh_annotations:
    description: Find descriptors with annotations and indexing notes
    tested: false
    sparql: |
      PREFIX mesh: <http://id.nlm.nih.gov/mesh/>
      PREFIX meshv: <http://id.nlm.nih.gov/mesh/vocab#>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
      
      SELECT ?descriptor ?label ?annotation ?previousIndexing ?considerAlso
      FROM <http://id.nlm.nih.gov/mesh>
      WHERE {
        ?descriptor a meshv:TopicalDescriptor .
        ?descriptor rdfs:label ?label .
        OPTIONAL { ?descriptor meshv:annotation ?annotation }
        OPTIONAL { ?descriptor meshv:previousIndexing ?previousIndexing }
        OPTIONAL { ?descriptor meshv:indexerConsiderAlso ?considerAlso }
        FILTER(BOUND(?annotation) || BOUND(?previousIndexing) || BOUND(?considerAlso))
      }
      LIMIT 50

cross_references:
  chemical_cas_numbers:
    description: Cross-references to Chemical Abstracts Service Registry Numbers for chemical identification
    database_info: "CAS Registry Numbers provide unique identifiers for chemical substances worldwide"
    tested: true
    returns_results: true
    sparql: |
      PREFIX mesh: <http://id.nlm.nih.gov/mesh/>
      PREFIX meshv: <http://id.nlm.nih.gov/mesh/vocab#>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      
      SELECT ?chemical ?label ?casNumber
      FROM <http://id.nlm.nih.gov/mesh>
      WHERE {
        ?chemical a meshv:SCR_Chemical .
        ?chemical rdfs:label ?label .
        ?chemical meshv:casn1_label ?casNumber .
        FILTER(REGEX(?casNumber, "^[0-9]+-[0-9]{2}-[0-9]$"))
      }
      ORDER BY ?casNumber
      LIMIT 100
      
  supplementary_to_main_mapping:
    description: Maps supplementary concept records to main MeSH descriptors for indexing
    database_info: "Enables consistent indexing by linking specific substances/diseases to broader categories"
    tested: false
    sparql: |
      PREFIX mesh: <http://id.nlm.nih.gov/mesh/>
      PREFIX meshv: <http://id.nlm.nih.gov/mesh/vocab#>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      
      SELECT ?scr ?scrLabel ?scrType ?mappedDescriptor ?descriptorLabel
      FROM <http://id.nlm.nih.gov/mesh>
      WHERE {
        ?scr a ?scrType .
        ?scr rdfs:label ?scrLabel .
        ?scr meshv:mappedTo ?mappedDescriptor .
        ?mappedDescriptor rdfs:label ?descriptorLabel .
        FILTER(?scrType IN (meshv:SCR_Chemical, meshv:SCR_Disease, meshv:SCR_Organism))
      }
      ORDER BY ?scrType ?scrLabel
      LIMIT 100
      
  preferred_mapping_relationships:
    description: Primary mapping relationships for supplementary records
    database_info: "Identifies the most appropriate main descriptor for indexing purposes"
    tested: false
    sparql: |
      PREFIX mesh: <http://id.nlm.nih.gov/mesh/>
      PREFIX meshv: <http://id.nlm.nih.gov/mesh/vocab#>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      
      SELECT ?scr ?scrLabel ?preferredMapping ?mappingLabel
      FROM <http://id.nlm.nih.gov/mesh>
      WHERE {
        ?scr meshv:preferredMappedTo ?preferredMapping .
        ?scr rdfs:label ?scrLabel .
        ?preferredMapping rdfs:label ?mappingLabel .
      }
      ORDER BY ?scrLabel
      LIMIT 50
      
  concept_hierarchy_xrefs:
    description: Cross-references through concept relationships showing semantic connections
    database_info: "Concept hierarchies provide semantic relationships beyond simple tree structure"
    tested: false
    sparql: |
      PREFIX mesh: <http://id.nlm.nih.gov/mesh/>
      PREFIX meshv: <http://id.nlm.nih.gov/mesh/vocab#>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      
      SELECT ?concept ?conceptId ?broaderConcept ?broaderId ?descriptor ?descriptorLabel
      FROM <http://id.nlm.nih.gov/mesh>
      WHERE {
        ?concept a meshv:Concept .
        ?concept meshv:identifier ?conceptId .
        ?concept meshv:broaderConcept ?broaderConcept .
        ?broaderConcept meshv:identifier ?broaderId .
        ?descriptor meshv:concept ?concept .
        ?descriptor rdfs:label ?descriptorLabel .
      }
      LIMIT 100
      
  external_database_links:
    description: Links to external biomedical databases through MeSH mappings
    database_info: "Enables integration with other biomedical data sources and terminologies"
    note: "External links primarily through mappings and cross-references in supplementary records"
    tested: false
    sparql: |
      PREFIX mesh: <http://id.nlm.nih.gov/mesh/>
      PREFIX meshv: <http://id.nlm.nih.gov/mesh/vocab#>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      
      SELECT ?entity ?label ?externalRef ?refType
      FROM <http://id.nlm.nih.gov/mesh>
      WHERE {
        ?entity rdfs:label ?label .
        ?entity ?refType ?externalRef .
        FILTER(CONTAINS(STR(?externalRef), "ncbi") || 
               CONTAINS(STR(?externalRef), "uniprot") || 
               CONTAINS(STR(?externalRef), "chebi") ||
               CONTAINS(STR(?externalRef), "pubchem"))
      }
      LIMIT 50

architectural_notes:
  design_patterns:
    - Uses OWL ontology structure with specialized MeSH vocabulary for medical terminology
    - Multi-layered hierarchical system: descriptors, concepts, terms, and tree numbers
    - Polyhierarchy support enabling multiple inheritance paths for complex medical concepts
    - Transitive closure patterns through recursive broaderDescriptor relationships
    - Dual hierarchy system: taxonomic (descriptors) and semantic (concepts)
    - Rich temporal metadata tracking creation and revision dates for all entities
    - Cross-referencing system linking supplementary records to main descriptors via mappings
    - Annotation system providing scope notes and indexing guidance for human indexers
    - Consistent identifier patterns (D/C/M/T/Q prefixes) for different entity types
    - Hierarchical depth typically 3-4 levels, maximum observed 5+ levels
    - Multiple inheritance extensively used: up to 6 parent categories per concept
    - Tree number classification providing alternative systematic browsing paths
    
  hierarchical_architecture:
    vertical_relationships:
      broader_descriptor: "Primary parent-child taxonomy for medical concepts"
      narrower_descriptor: "Inverse relationships supporting bidirectional navigation"
      broader_concept: "Semantic relationships at conceptual level"
      transitive_closure: "Computed ancestry paths through recursive traversal"
      
    horizontal_relationships:
      sibling_concepts: "Concepts sharing common parent categories"
      related_descriptors: "Cross-references through mappings and see-also relationships"
      qualifiers: "Aspect-specific relationships for combinatorial indexing"
      
    depth_characteristics:
      maximum_depth: "5+ levels (e.g., Neoplasms → Epithelial → Carcinoma → Squamous → Bowen's)"
      typical_depth: "3-4 levels for most medical hierarchies"
      variable_depth: "Different branches have different depths based on medical complexity"
      
    breadth_characteristics:
      largest_categories: "100+ children (Investigative Techniques: 105, Proteins: 104)"
      typical_branching: "5-20 children per category"
      polyhierarchy_prevalence: "Significant multiple inheritance (6 parents common)"
      
  performance_considerations:
    - Use specific MeSH graphs (FROM clause) to avoid querying entire triplestore
    - Filter by entity types early in queries using rdf:type restrictions
    - Hierarchical queries can be expensive - limit depth and use specific starting points
    - Transitive closure requires multiple UNION clauses or property paths
    - Polyhierarchy queries may return duplicate results - use DISTINCT appropriately
    - Consider breadth-first vs depth-first traversal strategies based on use case
    - Cache frequently accessed hierarchy paths for performance
    - Use VALUES clauses for specific concept sets rather than broad hierarchy walks
    - Implement pagination for large result sets from broad categories
    - Tree number queries may require string pattern matching - use indexes effectively
    
  mesh_specific_patterns:
    - Topical Descriptors are main authorized subject headings for indexing
    - Supplementary Concept Records provide specific entities linked to main categories
    - Concept and Term layers separate semantic meaning from lexical representation
    - Tree Numbers provide multiple inheritance through different classification paths
    - Qualifiers enable combinatorial indexing for precise subject specification
    - Active/inactive status tracking supports vocabulary maintenance over time
    - Mapping relationships enable consistent indexing across vocabulary updates
    - Pharmacological actions link chemicals to their therapeutic categories
    
  integration_opportunities:
    - Link with PubMed citations through MeSH indexing terms
    - Connect to UMLS (Unified Medical Language System) through concept mappings
    - Integrate with chemical databases through CAS Registry Numbers
    - Cross-reference with clinical terminologies (ICD, SNOMED) via mappings
    - Connect to gene/protein databases through organism and molecular descriptors
    - Link with drug databases through chemical and pharmacological action relationships
    - Integration with biomedical ontologies (Gene Ontology, ChEBI) through mappings

data_statistics:
  total_topical_descriptors: 30248
  total_supplementary_chemicals: 250445
  total_supplementary_diseases: "~15000"
  total_supplementary_organisms: "~35000"
  entity_coverage:
    active_descriptors: "~99% (most descriptors remain active)"
    descriptors_with_tree_numbers: "~95% (hierarchical classification)"
    descriptors_with_qualifiers: "~85% (aspect-specific indexing)"
    chemicals_with_cas_numbers: "~40% (chemical identification)"
    scr_with_mappings: "~80% (linked to main descriptors)"
  temporal_distribution:
    creation_date_range: "1960-2024"
    peak_creation_periods: "1999-2010 (major vocabulary expansion)"
    recent_additions: "~2000-5000 new SCRs annually"
  identifier_patterns:
    topical_descriptors: "D000001-D999999 (D-numbers)"
    supplementary_chemicals: "C000001-C999999 (C-numbers)"
    concepts: "M0000001-M9999999 (M-numbers)"
    terms: "T000001-T999999 (T-numbers)"
    qualifiers: "Q000001-Q999999 (Q-numbers)"
  hierarchy_depth:
    maximum_tree_levels: "15+ levels in some branches"
    typical_depth: "8-12 levels for most medical concepts"
    major_tree_categories: "26 main categories (A-Z branches)"
  cross_reference_coverage:
    chemicals_with_mappings: "~75% mapped to main descriptors"
    diseases_with_mappings: "~80% mapped to main descriptors"
    organisms_with_mappings: "~70% mapped to main descriptors"
    external_database_links: "Limited direct links, primarily through mappings"
  last_updated: '2024-09-05T00:00:00Z'
  update_frequency: 'Daily updates for new literature, annual major releases'
  data_quality: 'Manually curated by NLM indexing specialists with strict quality control'

query_optimization_tips:
  best_practices:
    - "Always specify the FROM clause: FROM <http://id.nlm.nih.gov/mesh>"
    - "Filter by entity type early: ?entity a meshv:TopicalDescriptor"
    - "Use identifier patterns for efficient filtering: FILTER(REGEX(?id, '^D[0-9]+$'))"
    - "Leverage structured search with specific label patterns for content discovery"
    - "Consider temporal constraints using dateCreated/dateRevised for recent content"
    - "Use OPTIONAL judiciously for properties with sparse coverage"
    - "Order results by identifier or label for consistent pagination"
  common_pitfalls:
    - "Don't assume all descriptors have all properties - many are optional"
    - "Tree number relationships can be complex - test queries carefully"
    - "Concept/Term relationships may have multiple layers - explore incrementally"
    - "Active status should be checked for current vocabulary usage"
    - "Cross-references through mappings may be indirect - follow relationship chains"
  federated_query_opportunities:
    - "Combine with PubMed for literature citation analysis"
    - "Link with ChEBI for detailed chemical structure information"
    - "Connect to UniProt for protein/gene relationships through organism descriptors"
    - "Join with clinical databases through disease descriptor mappings"
    - "Integrate with pharmaceutical databases via chemical cross-references"
  mesh_specific_tips:
    - "Use qualifier relationships to find aspect-specific indexing patterns"
    - "Explore pharmacological actions for drug mechanism and therapeutic category info"
    - "Consider both preferred and non-preferred mappings for comprehensive coverage"
    - "Check annotation fields for human-readable scope notes and usage guidance"
    - "Tree number patterns reflect multiple inheritance - one concept, multiple paths"