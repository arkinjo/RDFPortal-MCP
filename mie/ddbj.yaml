schema_info:
  title: DDBJ (DNA Data Bank of Japan) RDF
  description: |
    The DNA Data Bank of Japan (DDBJ) is a comprehensive nucleotide sequence database that collects and provides DNA and RNA sequences from researchers around the world. This RDF representation includes entries for complete genomes, chromosomes, plasmids, and other nucleotide sequences along with their associated features including genes, coding sequences (CDS), RNA features, and protein products.
    
    The DDBJ RDF database uses the INSDC (International Nucleotide Sequence Database Collaboration) ontology and FALDO (Feature Annotation Location Description Ontology) to represent sequence features and their genomic locations. It contains extensive cross-references to BioProject, BioSample, NCBI Taxonomy, NCBI Protein, UniProt, and Sequence Ontology (SO).
    
    Key features:
    - Over 262 million nucleotide entries
    - Over 225 million gene features
    - Over 247 million coding sequences
    - Detailed location information using FALDO
    - Rich metadata including organism information, taxonomy, and references
    - Cross-references to major biological databases
  endpoint: https://rdfportal.org/ddbj/sparql
  base_uri: http://identifiers.org/insdc/
  ontology_uri: http://ddbj.nig.ac.jp/ontologies/nucleotide/
  graphs:
    - http://rdfportal.org/dataset/ddbj
  version: 2024
  license: CC0 1.0 Universal
  citation: "DDBJ: DNA Data Bank of Japan"

prefixes:
  rdf: http://www.w3.org/1999/02/22-rdf-syntax-ns#
  rdfs: http://www.w3.org/2000/01/rdf-schema#
  xsd: http://www.w3.org/2001/XMLSchema#
  owl: http://www.w3.org/2002/07/owl#
  dcterms: http://purl.org/dc/terms/
  skos: http://www.w3.org/2004/02/skos/core#
  insdc: http://ddbj.nig.ac.jp/ontologies/nucleotide/
  faldo: http://biohackathon.org/resource/faldo#
  obo: http://purl.obolibrary.org/obo/
  so: http://purl.obolibrary.org/obo/SO_
  ro: http://purl.obolibrary.org/obo/RO_
  bfo: http://purl.obolibrary.org/obo/BFO_
  sio: http://semanticscience.org/resource/
  identifiers: http://identifiers.org/
  bioproject: http://identifiers.org/bioproject/
  biosample: http://identifiers.org/biosample/
  taxonomy: http://identifiers.org/taxonomy/
  ncbiprotein: http://identifiers.org/ncbiprotein/

shape_expressions: |
  # Entry shape - represents a nucleotide sequence entry
  insdc:Entry {
    a [ insdc:Entry ] ;
    dcterms:identifier xsd:string ;
    rdfs:label xsd:string ;
    insdc:definition xsd:string ;
    insdc:organism xsd:string ;
    insdc:taxonomy xsd:string ? ;
    insdc:division IRI ? ;
    insdc:source xsd:string ? ;
    insdc:sequence IRI ? ;
    insdc:sequence_date xsd:date ? ;
    insdc:sequence_version xsd:string ? ;
    insdc:comment xsd:string ? ;
    insdc:dblink IRI * ;  # Links to BioProject, BioSample, etc.
    insdc:reference IRI * ;
  }
  
  # Gene feature shape
  insdc:Gene {
    a [ insdc:Gene ] ;
    rdfs:subClassOf [ obo:SO_0000704 obo:SO_0000010 ] * ;
    rdfs:label xsd:string ;
    dcterms:identifier xsd:string ;
    skos:prefLabel xsd:string ;
    insdc:locus_tag xsd:string ;
    insdc:gene xsd:string ? ;  # Gene symbol
    insdc:location xsd:string ;
    faldo:location IRI ;
    bfo:BFO_0000050 IRI ;  # part_of relationship to sequence
    bfo:BFO_0000051 IRI * ;  # has_part relationship to exons
    ro:RO_0002162 IRI ;  # in_taxon - links to NCBI Taxonomy
    sio:SIO_000974 IRI ? ;  # has_attribute UUID
  }
  
  # Coding Sequence (CDS) shape
  insdc:Coding_Sequence {
    a [ insdc:Coding_Sequence ] ;
    rdfs:subClassOf [ obo:SO_0000316 obo:SO_0000673 ] * ;
    rdfs:label xsd:string ;
    dcterms:identifier xsd:string ;
    skos:prefLabel xsd:string ;
    insdc:locus_tag xsd:string ;
    insdc:gene xsd:string ? ;
    insdc:product xsd:string ? ;
    insdc:translation xsd:string ? ;  # Amino acid sequence
    insdc:codon_start xsd:integer ? ;
    insdc:transl_table xsd:integer ? ;
    insdc:inference xsd:string * ;
    insdc:location xsd:string ;
    faldo:location IRI ;
    rdfs:seeAlso IRI ? ;  # Link to NCBI Protein
    sio:SIO_010081 IRI ? ;  # is_encoded_by relationship to gene
    bfo:BFO_0000050 IRI ;  # part_of gene
    bfo:BFO_0000051 IRI * ;  # has_part exons
    ro:RO_0002162 IRI ;  # in_taxon
    sio:SIO_000974 IRI ? ;
  }
  
  # Ribosomal RNA shape
  insdc:Ribosomal_RNA {
    a [ insdc:Ribosomal_RNA ] ;
    rdfs:subClassOf [ obo:SO_0000252 obo:SO_0000673 ] * ;
    rdfs:label xsd:string ;
    dcterms:identifier xsd:string ;
    skos:prefLabel xsd:string ;
    insdc:locus_tag xsd:string ;
    insdc:product xsd:string ? ;
    insdc:location xsd:string ;
    faldo:location IRI ;
    sio:SIO_010081 IRI ? ;  # is_encoded_by
    bfo:BFO_0000050 IRI ;
    bfo:BFO_0000051 IRI * ;
    ro:RO_0002162 IRI ;
    sio:SIO_000974 IRI ? ;
  }
  
  # FALDO Region shape - represents genomic locations
  faldo:Region {
    a [ faldo:Region ] ;
    faldo:begin IRI ;
    faldo:end IRI ;
  }
  
  # FALDO Position shapes
  faldo:ExactPosition {
    a [ faldo:ExactPosition ] ;
    faldo:position xsd:integer ;
  }
  
  faldo:ForwardStrandPosition {
    a [ faldo:ForwardStrandPosition ] ;
    faldo:position xsd:integer ;
  }
  
  faldo:ReverseStrandPosition {
    a [ faldo:ReverseStrandPosition ] ;
    faldo:position xsd:integer ;
  }
  
  # Protein shape
  insdc:Protein {
    a [ insdc:Protein ] ;
    rdfs:label xsd:string ;
    dcterms:identifier xsd:string ;
    sio:SIO_000068 IRI ;  # is_part_of namespace
  }
  
  # Reference shape
  insdc:Reference {
    rdf:value xsd:integer ;
    insdc:reference#journal xsd:string ? ;
    insdc:reference#author xsd:string * ;
    insdc:reference#title xsd:string ? ;
    insdc:reference#pubmed IRI ? ;
  }

sample_rdf_entries:
  - title: Complete bacterial genome entry
    description: A complete genome entry for Symmachiella dynata with metadata including organism information, taxonomy, database cross-references, and sequence details.
    rdf: |
      @prefix insdc: <http://ddbj.nig.ac.jp/ontologies/nucleotide/> .
      @prefix dcterms: <http://purl.org/dc/terms/> .
      @prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
      
      <http://identifiers.org/insdc/CP036276.1> a insdc:Entry ;
        dcterms:identifier "CP036276.1" ;
        rdfs:label "Symmachiella dynata strain Mal52 chromosome, complete genome." ;
        insdc:definition "Symmachiella dynata strain Mal52 chromosome, complete genome." ;
        insdc:organism "Symmachiella dynata" ;
        insdc:taxonomy "Bacteria; Planctomycetota; Planctomycetia; Planctomycetales; Planctomycetaceae; Symmachiella." ;
        insdc:division <http://ddbj.nig.ac.jp/ontologies/nucleotide/Division#BCT> ;
        insdc:sequence_date "2019-07-31" ;
        insdc:sequence_version "CP036276.1" ;
        insdc:dblink <http://identifiers.org/bioproject/PRJNA485700> ,
                     <http://identifiers.org/biosample/SAMN10954015> ;
        insdc:reference <http://identifiers.org/insdc/CP036276.1#reference.1> ;
        insdc:sequence <http://identifiers.org/insdc/CP036276.1#sequence> .
  
  - title: Gene feature with location and taxonomy
    description: A gene feature (clpX) showing genomic location using FALDO, gene symbol, locus tag, and taxonomic classification.
    rdf: |
      @prefix insdc: <http://ddbj.nig.ac.jp/ontologies/nucleotide/> .
      @prefix faldo: <http://biohackathon.org/resource/faldo#> .
      @prefix obo: <http://purl.obolibrary.org/obo/> .
      @prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
      @prefix dcterms: <http://purl.org/dc/terms/> .
      @prefix skos: <http://www.w3.org/2004/02/skos/core#> .
      
      <http://identifiers.org/insdc/CP036276.1#feature:1001623-1002915:1:gene.47722> 
        a insdc:Gene ;
        rdfs:subClassOf obo:SO_0000010 , obo:SO_0000704 ;
        insdc:locus_tag "Mal52_08030" ;
        insdc:gene "clpX" ;
        rdfs:label "Mal52_08030" ;
        dcterms:identifier "Mal52_08030" ;
        skos:prefLabel "Mal52_08030" ;
        insdc:location "1001623..1002915" ;
        faldo:location <http://identifiers.org/insdc/CP036276.1#region:1001623-1002915:1> ;
        obo:BFO_0000050 <http://identifiers.org/insdc/CP036276.1#sequence> ;
        obo:BFO_0000051 <http://identifiers.org/insdc/CP036276.1#feature:1001623-1002915:1:exon> ;
        obo:RO_0002162 <http://identifiers.org/taxonomy/2527995> .
  
  - title: Coding sequence (CDS) with protein translation
    description: A CDS feature showing the encoded protein product (ClpX), amino acid translation, inference information, and cross-reference to NCBI Protein.
    rdf: |
      @prefix insdc: <http://ddbj.nig.ac.jp/ontologies/nucleotide/> .
      @prefix faldo: <http://biohackathon.org/resource/faldo#> .
      @prefix obo: <http://purl.obolibrary.org/obo/> .
      @prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
      @prefix sio: <http://semanticscience.org/resource/> .
      
      <http://identifiers.org/insdc/CP036276.1#feature:1001623-1002915:1:CDS.47054>
        a insdc:Coding_Sequence ;
        rdfs:subClassOf obo:SO_0000316 , obo:SO_0000673 ;
        insdc:locus_tag "Mal52_08030" ;
        insdc:gene "clpX" ;
        insdc:product "ATP-dependent Clp protease ATP-binding subunit ClpX" ;
        insdc:codon_start 1 ;
        insdc:transl_table 11 ;
        insdc:inference "ab initio prediction:Prodigal:2.6" ,
                       "similar to AA sequence:UniProtKB:P50866" ;
        insdc:translation "MPSGNDVTSGSRGATGKKNANCSFCRKSYREVGPLVEGPSDVYICGECIELCQSILEQERRRRGSSPSLFTKVPTPREIVENLEQYVIGQDRAKKVLAVAVHNHYKRLMISADADNDVEVEKSNIMLIGPTGCGKTLLARTLARTLQVPFAIGDATTLTEAGYVGEDVENLLLKLLHAADFDIEAAQRGILFIDEIDKIGKTSQNVSITRDVSGEGVQQALLKMLEGTVANVPPQGGRKHPEQQYIQMDTTNILFICGGTFVGLEDIIAKRLGNKVIGFGSSGSGGGSTRSENEKGELLSQVCVDDILEFGLIPELVGRLPVATALTPLDKEHLVRIMQEPRNSLVRQYQKFFEMENAELEFTPEALLEIAGMAKEKDTGARGLRSIVEQVMFDIMYELPERTEHGKYILNDRMVRGEEQMFSQDDSAAA" ;
        rdfs:seeAlso <http://identifiers.org/ncbiprotein/QDU42347.1> ;
        faldo:location <http://identifiers.org/insdc/CP036276.1#region:1001623-1002915:1> ;
        sio:SIO_010081 <http://identifiers.org/insdc/CP036276.1#feature:1001623-1002915:1:gene.47722> ;
        obo:BFO_0000050 <http://identifiers.org/insdc/CP036276.1#feature:1001623-1002915:1:gene.47722> ;
        obo:RO_0002162 <http://identifiers.org/taxonomy/2527995> .
  
  - title: Ribosomal RNA feature
    description: A 23S ribosomal RNA feature showing its genomic location and relationship to the parent gene.
    rdf: |
      @prefix insdc: <http://ddbj.nig.ac.jp/ontologies/nucleotide/> .
      @prefix faldo: <http://biohackathon.org/resource/faldo#> .
      @prefix obo: <http://purl.obolibrary.org/obo/> .
      @prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
      @prefix sio: <http://semanticscience.org/resource/> .
      
      <http://identifiers.org/insdc/CP036276.1#feature:1040576-1043484:1:rRNA.37>
        a insdc:Ribosomal_RNA ;
        rdfs:subClassOf obo:SO_0000252 , obo:SO_0000673 ;
        insdc:locus_tag "Mal52_08310" ;
        insdc:product "23S ribosomal RNA" ;
        insdc:location "1040576..1043484" ;
        faldo:location <http://identifiers.org/insdc/CP036276.1#region:1040576-1043484:1> ;
        sio:SIO_010081 <http://identifiers.org/insdc/CP036276.1#feature:1040576-1043484:1:gene.47750> ;
        obo:BFO_0000050 <http://identifiers.org/insdc/CP036276.1#feature:1040576-1043484:1:gene.47750> ;
        obo:RO_0002162 <http://identifiers.org/taxonomy/2527995> .
  
  - title: FALDO Region with strand information
    description: A genomic region with precise start and end positions on the forward strand using FALDO ontology.
    rdf: |
      @prefix faldo: <http://biohackathon.org/resource/faldo#> .
      @prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
      
      <http://identifiers.org/insdc/CP036276.1#region:1001623-1002915:1>
        a faldo:Region ;
        faldo:begin <http://identifiers.org/insdc/CP036276.1#position:1001623:1> ;
        faldo:end <http://identifiers.org/insdc/CP036276.1#position:1002915:1> .
      
      <http://identifiers.org/insdc/CP036276.1#position:1001623:1>
        a faldo:ExactPosition , faldo:ForwardStrandPosition ;
        faldo:position "1001623"^^xsd:integer .
      
      <http://identifiers.org/insdc/CP036276.1#position:1002915:1>
        a faldo:ExactPosition , faldo:ForwardStrandPosition ;
        faldo:position "1002915"^^xsd:integer .
  
  - title: Reference citation
    description: A reference entry showing publication authors and journal information.
    rdf: |
      @prefix insdc: <http://ddbj.nig.ac.jp/ontologies/nucleotide/> .
      @prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
      
      <http://identifiers.org/insdc/CP036276.1#reference.1>
        rdf:value 1 ;
        insdc:reference#journal "Unpublished" ;
        insdc:reference#author "Amann, R." ,
                               "Boedeker, C." ,
                               "Jogler, C." ,
                               "Jogler, M." .
  
  - title: NCBI Protein entry
    description: A protein entry representing a translated product with its identifier and namespace.
    rdf: |
      @prefix insdc: <http://ddbj.nig.ac.jp/ontologies/nucleotide/> .
      @prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
      @prefix dcterms: <http://purl.org/dc/terms/> .
      @prefix sio: <http://semanticscience.org/resource/> .
      
      <http://identifiers.org/ncbiprotein/QDU42347.1>
        a insdc:Protein ;
        rdfs:label "QDU42347.1" ;
        dcterms:identifier "QDU42347.1" ;
        sio:SIO_000068 <http://identifiers.org/ncbiprotein> .

sparql_query_examples:
  - title: Retrieve basic entry information
    description: Get basic metadata about nucleotide sequence entries including accession, organism name, and definition/description.
    question: What are some bacterial genome entries in DDBJ and what organisms do they represent?
    complexity: basic
    sparql: |
      PREFIX insdc: <http://ddbj.nig.ac.jp/ontologies/nucleotide/>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      PREFIX dcterms: <http://purl.org/dc/terms/>
      
      SELECT ?entry ?accession ?organism ?definition
      FROM <http://rdfportal.org/dataset/ddbj>
      WHERE {
        ?entry a insdc:Entry .
        ?entry dcterms:identifier ?accession .
        ?entry insdc:organism ?organism .
        ?entry rdfs:label ?definition .
      }
      LIMIT 10
  
  - title: Find entries for specific organism
    description: Search for all nucleotide entries from a specific organism (e.g., Escherichia coli).
    question: What genome sequences are available for Escherichia coli?
    complexity: basic
    sparql: |
      PREFIX insdc: <http://ddbj.nig.ac.jp/ontologies/nucleotide/>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      PREFIX dcterms: <http://purl.org/dc/terms/>
      
      SELECT ?entry ?accession ?definition
      FROM <http://rdfportal.org/dataset/ddbj>
      WHERE {
        ?entry a insdc:Entry .
        ?entry dcterms:identifier ?accession .
        ?entry insdc:organism ?organism .
        ?entry rdfs:label ?definition .
        FILTER(CONTAINS(?organism, "Escherichia coli"))
      }
      LIMIT 20
  
  - title: Get genes with specific gene symbols
    description: Find all gene features with a particular gene symbol (e.g., clpX) across different organisms.
    question: Where can I find information about the clpX gene across different bacterial genomes?
    complexity: intermediate
    sparql: |
      PREFIX insdc: <http://ddbj.nig.ac.jp/ontologies/nucleotide/>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      
      SELECT ?gene ?locus_tag ?gene_symbol ?location
      FROM <http://rdfportal.org/dataset/ddbj>
      WHERE {
        ?gene a insdc:Gene .
        ?gene insdc:gene ?gene_symbol .
        ?gene insdc:locus_tag ?locus_tag .
        ?gene insdc:location ?location .
        FILTER(?gene_symbol = "clpX")
      }
      LIMIT 10
  
  - title: Find coding sequences with products
    description: Retrieve coding sequences (CDS) along with their protein products and locus tags from a specific genome.
    question: What proteins are encoded by genes in a specific genome entry?
    complexity: intermediate
    sparql: |
      PREFIX insdc: <http://ddbj.nig.ac.jp/ontologies/nucleotide/>
      
      SELECT ?cds ?locus_tag ?product ?location
      FROM <http://rdfportal.org/dataset/ddbj>
      WHERE {
        ?cds a insdc:Coding_Sequence .
        ?cds insdc:locus_tag ?locus_tag .
        ?cds insdc:product ?product .
        ?cds insdc:location ?location .
        FILTER(CONTAINS(STR(?cds), "CP036276.1"))
      }
      LIMIT 20
  
  - title: Get genomic coordinates using FALDO
    description: Retrieve precise genomic positions (start, end, strand) for gene features using FALDO ontology.
    question: What are the exact genomic coordinates and strand orientation of genes?
    complexity: intermediate
    sparql: |
      PREFIX insdc: <http://ddbj.nig.ac.jp/ontologies/nucleotide/>
      PREFIX faldo: <http://biohackathon.org/resource/faldo#>
      
      SELECT ?gene ?locus_tag ?begin ?end ?strand
      FROM <http://rdfportal.org/dataset/ddbj>
      WHERE {
        ?gene a insdc:Gene .
        ?gene insdc:locus_tag ?locus_tag .
        ?gene faldo:location ?region .
        ?region faldo:begin ?beginPos .
        ?region faldo:end ?endPos .
        ?beginPos faldo:position ?begin .
        ?endPos faldo:position ?end .
        OPTIONAL {
          ?beginPos a ?strandType .
          FILTER(?strandType IN (faldo:ForwardStrandPosition, faldo:ReverseStrandPosition))
          BIND(IF(?strandType = faldo:ForwardStrandPosition, "+", "-") AS ?strand)
        }
      }
      LIMIT 10
  
  - title: Find ribosomal RNA features
    description: Search for ribosomal RNA (rRNA) features and their products (16S, 23S, 5S rRNA).
    question: What ribosomal RNA genes are annotated in bacterial genomes?
    complexity: basic
    sparql: |
      PREFIX insdc: <http://ddbj.nig.ac.jp/ontologies/nucleotide/>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      
      SELECT ?rrna ?locus_tag ?product ?location
      FROM <http://rdfportal.org/dataset/ddbj>
      WHERE {
        ?rrna a insdc:Ribosomal_RNA .
        ?rrna insdc:locus_tag ?locus_tag .
        ?rrna insdc:product ?product .
        ?rrna insdc:location ?location .
      }
      LIMIT 20
  
  - title: Link CDS to protein products
    description: Find the relationship between coding sequences and their translated protein products via NCBI Protein cross-references.
    question: How can I find the protein accession numbers for translated genes?
    complexity: intermediate
    sparql: |
      PREFIX insdc: <http://ddbj.nig.ac.jp/ontologies/nucleotide/>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      
      SELECT ?cds ?locus_tag ?product ?protein
      FROM <http://rdfportal.org/dataset/ddbj>
      WHERE {
        ?cds a insdc:Coding_Sequence .
        ?cds insdc:locus_tag ?locus_tag .
        ?cds insdc:product ?product .
        ?cds rdfs:seeAlso ?protein .
        FILTER(CONTAINS(STR(?protein), "ncbiprotein"))
      }
      LIMIT 15
  
  - title: Get entries with BioProject links
    description: Find nucleotide entries and their associated BioProject identifiers for tracking research projects.
    question: Which genome sequences are part of specific research projects?
    complexity: intermediate
    sparql: |
      PREFIX insdc: <http://ddbj.nig.ac.jp/ontologies/nucleotide/>
      PREFIX dcterms: <http://purl.org/dc/terms/>
      
      SELECT ?entry ?accession ?organism ?bioproject
      FROM <http://rdfportal.org/dataset/ddbj>
      WHERE {
        ?entry a insdc:Entry .
        ?entry dcterms:identifier ?accession .
        ?entry insdc:organism ?organism .
        ?entry insdc:dblink ?bioproject .
        FILTER(CONTAINS(STR(?bioproject), "bioproject"))
      }
      LIMIT 10
  
  - title: Query by taxonomic classification
    description: Retrieve genes that belong to a specific taxonomic group using NCBI Taxonomy IDs.
    question: What genes are annotated for organisms in a specific taxonomic lineage?
    complexity: advanced
    sparql: |
      PREFIX insdc: <http://ddbj.nig.ac.jp/ontologies/nucleotide/>
      PREFIX obo: <http://purl.obolibrary.org/obo/>
      
      SELECT ?gene ?locus_tag ?gene_symbol ?taxon
      FROM <http://rdfportal.org/dataset/ddbj>
      WHERE {
        ?gene a insdc:Gene .
        ?gene insdc:locus_tag ?locus_tag .
        OPTIONAL { ?gene insdc:gene ?gene_symbol }
        ?gene obo:RO_0002162 ?taxon .
      }
      LIMIT 20
  
  - title: Find genes by Sequence Ontology classification
    description: Retrieve genes and their Sequence Ontology (SO) classifications for functional categorization.
    question: How are genes classified according to sequence features and types?
    complexity: intermediate
    sparql: |
      PREFIX insdc: <http://ddbj.nig.ac.jp/ontologies/nucleotide/>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      PREFIX obo: <http://purl.obolibrary.org/obo/>
      
      SELECT ?gene ?locus_tag ?so_class
      FROM <http://rdfportal.org/dataset/ddbj>
      WHERE {
        ?gene a insdc:Gene .
        ?gene insdc:locus_tag ?locus_tag .
        ?gene rdfs:subClassOf ?so_class .
        FILTER(STRSTARTS(STR(?so_class), "http://purl.obolibrary.org/obo/SO_"))
      }
      LIMIT 15
  
  - title: Get protein translations for coding sequences
    description: Retrieve the amino acid translations from CDS features for protein sequence analysis.
    question: What are the protein sequences encoded by specific genes?
    complexity: intermediate
    sparql: |
      PREFIX insdc: <http://ddbj.nig.ac.jp/ontologies/nucleotide/>
      
      SELECT ?cds ?locus_tag ?product ?translation
      FROM <http://rdfportal.org/dataset/ddbj>
      WHERE {
        ?cds a insdc:Coding_Sequence .
        ?cds insdc:locus_tag ?locus_tag .
        ?cds insdc:product ?product .
        ?cds insdc:translation ?translation .
      }
      LIMIT 5
  
  - title: Find entries with BioSample metadata
    description: Retrieve nucleotide entries linked to BioSample records containing sample metadata.
    question: Which genome sequences have associated biological sample information?
    complexity: basic
    sparql: |
      PREFIX insdc: <http://ddbj.nig.ac.jp/ontologies/nucleotide/>
      PREFIX dcterms: <http://purl.org/dc/terms/>
      
      SELECT ?entry ?accession ?organism ?biosample
      FROM <http://rdfportal.org/dataset/ddbj>
      WHERE {
        ?entry a insdc:Entry .
        ?entry dcterms:identifier ?accession .
        ?entry insdc:organism ?organism .
        ?entry insdc:dblink ?biosample .
        FILTER(CONTAINS(STR(?biosample), "biosample"))
      }
      LIMIT 10
  
  - title: Count feature types in the database
    description: Count the total number of different feature types (genes, CDS, rRNA, etc.) in the entire database to understand data composition.
    question: How many genes and coding sequences are in the DDBJ RDF database?
    complexity: basic
    sparql: |
      PREFIX insdc: <http://ddbj.nig.ac.jp/ontologies/nucleotide/>
      
      SELECT (COUNT(?gene) as ?total_genes)
      FROM <http://rdfportal.org/dataset/ddbj>
      WHERE {
        ?gene a insdc:Gene .
      }
  
  - title: Find genes with inference annotations
    description: Retrieve CDS features that have computational or similarity-based inference annotations.
    question: Which genes were predicted using computational methods or homology?
    complexity: intermediate
    sparql: |
      PREFIX insdc: <http://ddbj.nig.ac.jp/ontologies/nucleotide/>
      
      SELECT ?cds ?locus_tag ?product ?inference
      FROM <http://rdfportal.org/dataset/ddbj>
      WHERE {
        ?cds a insdc:Coding_Sequence .
        ?cds insdc:locus_tag ?locus_tag .
        ?cds insdc:product ?product .
        ?cds insdc:inference ?inference .
      }
      LIMIT 20

cross_references:
  - title: Link to BioProject
    description: |
      DDBJ entries are linked to NCBI BioProject via insdc:dblink property. BioProject provides organizational framework for genomics and other research projects. The identifiers follow the format http://identifiers.org/bioproject/PRJNA######.
    complexity: basic
    sparql: |
      PREFIX insdc: <http://ddbj.nig.ac.jp/ontologies/nucleotide/>
      PREFIX dcterms: <http://purl.org/dc/terms/>
      
      SELECT ?entry ?accession ?bioproject
      FROM <http://rdfportal.org/dataset/ddbj>
      WHERE {
        ?entry a insdc:Entry .
        ?entry dcterms:identifier ?accession .
        ?entry insdc:dblink ?bioproject .
        FILTER(CONTAINS(STR(?bioproject), "bioproject"))
      }
      LIMIT 20
  
  - title: Link to BioSample
    description: |
      DDBJ entries link to NCBI BioSample records via insdc:dblink property. BioSample contains sample metadata including isolation source, collection date, and geographic location. Format: http://identifiers.org/biosample/SAMN########.
    complexity: basic
    sparql: |
      PREFIX insdc: <http://ddbj.nig.ac.jp/ontologies/nucleotide/>
      PREFIX dcterms: <http://purl.org/dc/terms/>
      
      SELECT ?entry ?accession ?organism ?biosample
      FROM <http://rdfportal.org/dataset/ddbj>
      WHERE {
        ?entry a insdc:Entry .
        ?entry dcterms:identifier ?accession .
        ?entry insdc:organism ?organism .
        ?entry insdc:dblink ?biosample .
        FILTER(CONTAINS(STR(?biosample), "biosample"))
      }
      LIMIT 20
  
  - title: Link to NCBI Protein
    description: |
      Coding sequences (CDS) are linked to NCBI Protein database via rdfs:seeAlso property. This provides access to protein sequences and functional annotations. Format: http://identifiers.org/ncbiprotein/[ACCESSION].
    complexity: intermediate
    sparql: |
      PREFIX insdc: <http://ddbj.nig.ac.jp/ontologies/nucleotide/>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      
      SELECT ?cds ?locus_tag ?product ?protein_id
      FROM <http://rdfportal.org/dataset/ddbj>
      WHERE {
        ?cds a insdc:Coding_Sequence .
        ?cds insdc:locus_tag ?locus_tag .
        ?cds insdc:product ?product .
        ?cds rdfs:seeAlso ?protein_id .
        FILTER(CONTAINS(STR(?protein_id), "ncbiprotein"))
      }
      LIMIT 20
  
  - title: Link to NCBI Taxonomy
    description: |
      Gene and feature annotations are linked to NCBI Taxonomy via obo:RO_0002162 (in_taxon) property. This provides taxonomic classification and lineage information. Format: http://identifiers.org/taxonomy/[TAXID].
    complexity: intermediate
    sparql: |
      PREFIX insdc: <http://ddbj.nig.ac.jp/ontologies/nucleotide/>
      PREFIX obo: <http://purl.obolibrary.org/obo/>
      
      SELECT ?gene ?locus_tag ?taxon_id
      FROM <http://rdfportal.org/dataset/ddbj>
      WHERE {
        ?gene a insdc:Gene .
        ?gene insdc:locus_tag ?locus_tag .
        ?gene obo:RO_0002162 ?taxon_id .
        FILTER(CONTAINS(STR(?taxon_id), "taxonomy"))
      }
      LIMIT 20
  
  - title: Link to Sequence Ontology (SO)
    description: |
      Gene and feature classes are linked to Sequence Ontology via rdfs:subClassOf property. SO provides standardized terminology for sequence features. Format: http://purl.obolibrary.org/obo/SO_#######.
    complexity: intermediate
    sparql: |
      PREFIX insdc: <http://ddbj.nig.ac.jp/ontologies/nucleotide/>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      
      SELECT ?feature ?locus_tag ?so_term
      FROM <http://rdfportal.org/dataset/ddbj>
      WHERE {
        ?feature a insdc:Gene .
        ?feature insdc:locus_tag ?locus_tag .
        ?feature rdfs:subClassOf ?so_term .
        FILTER(STRSTARTS(STR(?so_term), "http://purl.obolibrary.org/obo/SO_"))
      }
      LIMIT 20
  
  - title: Link CDS to Gene via encoding relationship
    description: |
      Coding sequences are linked to their parent genes via sio:SIO_010081 (is_encoded_by) property. This establishes the gene-to-transcript-to-protein relationship.
    complexity: intermediate
    sparql: |
      PREFIX insdc: <http://ddbj.nig.ac.jp/ontologies/nucleotide/>
      PREFIX sio: <http://semanticscience.org/resource/>
      
      SELECT ?cds ?cds_locus ?gene ?gene_locus
      FROM <http://rdfportal.org/dataset/ddbj>
      WHERE {
        ?cds a insdc:Coding_Sequence .
        ?cds insdc:locus_tag ?cds_locus .
        ?cds sio:SIO_010081 ?gene .
        ?gene a insdc:Gene .
        ?gene insdc:locus_tag ?gene_locus .
      }
      LIMIT 20
  
  - title: Link to UniProtKB via inference
    description: |
      Coding sequences may reference UniProtKB entries in their inference annotations for protein similarity. The reference appears in the insdc:inference property value.
    complexity: intermediate
    sparql: |
      PREFIX insdc: <http://ddbj.nig.ac.jp/ontologies/nucleotide/>
      
      SELECT ?cds ?locus_tag ?product ?inference
      FROM <http://rdfportal.org/dataset/ddbj>
      WHERE {
        ?cds a insdc:Coding_Sequence .
        ?cds insdc:locus_tag ?locus_tag .
        ?cds insdc:product ?product .
        ?cds insdc:inference ?inference .
        FILTER(CONTAINS(?inference, "UniProtKB"))
      }
      LIMIT 20

architectural_notes: |
  ## Data Organization
  
  The DDBJ RDF database is organized hierarchically with nucleotide entries at the top level, containing multiple genomic features. The main organizational principles are:
  
  1. **Entry-Feature Hierarchy**: Each insdc:Entry represents a complete sequence (genome, chromosome, plasmid) and contains multiple features (genes, CDS, rRNA, etc.)
  
  2. **Location Modeling**: Genomic locations use FALDO (Feature Annotation Location Description Ontology) which provides precise, strand-aware coordinate systems. FALDO positions can be:
     - faldo:ExactPosition for precise coordinates
     - faldo:FuzzyPosition for uncertain boundaries
     - faldo:ForwardStrandPosition or faldo:ReverseStrandPosition for strand information
  
  3. **Feature Relationships**: Features are connected via:
     - obo:BFO_0000050 (part_of) - linking features to their parent sequences
     - obo:BFO_0000051 (has_part) - linking genes to exons
     - sio:SIO_010081 (is_encoded_by) - linking CDS to genes
  
  ## Ontology Integration
  
  The database extensively uses standard ontologies:
  - **Sequence Ontology (SO)**: For feature type classification
  - **FALDO**: For genomic coordinate representation  
  - **BFO (Basic Formal Ontology)**: For parthood relationships
  - **RO (Relations Ontology)**: For biological relationships (e.g., in_taxon)
  - **SIO (Semanticscience Integrated Ontology)**: For attribute and encoding relationships
  
  ## Cross-Reference Strategy
  
  External database links use standardized identifiers.org URIs:
  - BioProject: http://identifiers.org/bioproject/PRJNA######
  - BioSample: http://identifiers.org/biosample/SAMN########
  - NCBI Protein: http://identifiers.org/ncbiprotein/[ACCESSION]
  - NCBI Taxonomy: http://identifiers.org/taxonomy/[TAXID]
  
  ## Performance Considerations
  
  - **Large Dataset**: With over 1.5 billion triples, queries should use specific graph patterns
  - **Use LIMIT**: Always include LIMIT clauses for exploratory queries
  - **Filter Early**: Apply FILTER conditions as early as possible in query patterns
  - **Avoid Unrestricted COUNT**: Counting all instances without LIMIT can be slow
  - **Leverage Indexes**: Queries filtering by specific accessions or locus_tags are highly optimized
  
  ## Query Patterns
  
  Recommended query patterns for common tasks:
  
  1. **Finding Features by Entry**: Use FILTER(CONTAINS(STR(?feature), "ACCESSION")) for entry-specific queries
  2. **Cross-Database Links**: Use insdc:dblink with FILTER(CONTAINS()) for specific databases
  3. **Location Queries**: Use faldo:location to access genomic coordinates
  4. **Taxonomy Filtering**: Use obo:RO_0002162 to filter by taxonomic classification
  
  ## Data Provenance
  
  - References stored as separate resources with author lists and journal information
  - Inference annotations document computational predictions and similarity evidence
  - Version information preserved in insdc:sequence_version

data_statistics:
  total_triples: "~1.5 billion"
  entry_count: 262282607
  feature_types:
    - type: faldo:ExactPosition
      count: 1553440400
      description: Precise genomic positions
    - type: faldo:ForwardStrandPosition
      count: 1277952538
      description: Forward strand positions
    - type: faldo:Region
      count: 843858065
      description: Genomic regions
    - type: insdc:Exon
      count: 415554741
      description: Exon features
    - type: faldo:ReverseStrandPosition
      count: 284877319
      description: Reverse strand positions
    - type: insdc:Entry
      count: 262282607
      description: Nucleotide sequence entries
    - type: insdc:Coding_Sequence
      count: 247777551
      description: Protein-coding sequences
    - type: insdc:Protein
      count: 243269737
      description: Protein product references
    - type: insdc:Gene
      count: 225351782
      description: Gene features
    - type: insdc:Feature
      count: 196788560
      description: Generic sequence features
    - type: insdc:Assembly_Gap
      count: 99028356
      description: Assembly gaps
    - type: insdc:Mature_Peptide
      count: 88124671
      description: Mature peptide features
    - type: faldo:FuzzyPosition
      count: 86083674
      description: Uncertain boundary positions
    - type: insdc:Messenger_RNA
      count: 25032863
      description: mRNA features
    - type: insdc:Repeat_Region
      count: 19820276
      description: Repetitive sequence regions
    - type: insdc:Stem_Loop
      count: 16301951
      description: RNA stem-loop structures
    - type: insdc:Ribosomal_RNA
      count: 12895289
      description: rRNA features
  
  query_performance_tips:
    - "Use specific entry URIs when possible for fastest results"
    - "Include LIMIT clauses (recommended: 10-1000 results)"
    - "Filter by organism name early in the query pattern"
    - "Queries on locus_tag are well-indexed"
    - "For counting queries, consider using LIMIT 1 after COUNT to verify query works"