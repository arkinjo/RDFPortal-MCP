schema_info:
  title: DDBJ (DNA Data Bank of Japan) RDF
  description: |
    The DNA Data Bank of Japan (DDBJ) is a comprehensive nucleotide sequence database that collects and provides DNA and RNA sequences from researchers around the world. This RDF representation includes entries for complete genomes, chromosomes, plasmids, and other nucleotide sequences along with their associated features including genes, coding sequences (CDS), RNA features, and protein products.
    
    The DDBJ RDF database uses the INSDC (International Nucleotide Sequence Database Collaboration) ontology and FALDO (Feature Annotation Location Description Ontology) to represent sequence features and their genomic locations. It contains extensive cross-references to BioProject, BioSample, NCBI Taxonomy, NCBI Protein, UniProt, and Sequence Ontology (SO).
    
    Key features include over 262 million nucleotide entries, over 225 million gene features, over 247 million coding sequences, detailed location information using FALDO, rich metadata including organism information, taxonomy, and references, and cross-references to major biological databases.
  endpoint: https://rdfportal.org/ddbj/sparql
  base_uri: http://identifiers.org/insdc/
  ontology_uri: http://ddbj.nig.ac.jp/ontologies/nucleotide/
  graphs:
    - http://rdfportal.org/dataset/ddbj
  version: 2024
  license: CC0 1.0 Universal
  citation: 'DDBJ: DNA Data Bank of Japan'

shape_expressions: |
  PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
  PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
  PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
  PREFIX dcterms: <http://purl.org/dc/terms/>
  PREFIX insdc: <http://ddbj.nig.ac.jp/ontologies/nucleotide/>
  PREFIX faldo: <http://biohackathon.org/resource/faldo#>
  PREFIX obo: <http://purl.obolibrary.org/obo/>
  PREFIX bfo: <http://purl.obolibrary.org/obo/BFO_>
  PREFIX ro: <http://purl.obolibrary.org/obo/RO_>
  PREFIX sio: <http://semanticscience.org/resource/>
  
  insdc:Entry {
    a [ insdc:Entry ] ;
    dcterms:identifier xsd:string ;
    rdfs:label xsd:string ;
    insdc:definition xsd:string ;
    insdc:organism xsd:string ;
    insdc:taxonomy xsd:string ? ;
    insdc:division IRI ? ;
    insdc:sequence IRI ? ;
    insdc:sequence_date xsd:date ? ;
    insdc:sequence_version xsd:string ? ;
    insdc:dblink IRI * ;
    insdc:reference IRI * ;
  }
  
  insdc:Gene {
    a [ insdc:Gene ] ;
    rdfs:subClassOf IRI * ;
    rdfs:label xsd:string ;
    dcterms:identifier xsd:string ;
    insdc:locus_tag xsd:string ;
    insdc:gene xsd:string ? ;
    insdc:location xsd:string ;
    faldo:location IRI ;
    bfo:BFO_0000050 IRI ;
    bfo:BFO_0000051 IRI * ;
    ro:RO_0002162 IRI ;
  }
  
  insdc:Coding_Sequence {
    a [ insdc:Coding_Sequence ] ;
    rdfs:subClassOf IRI * ;
    rdfs:label xsd:string ;
    insdc:locus_tag xsd:string ;
    insdc:gene xsd:string ? ;
    insdc:product xsd:string ? ;
    insdc:translation xsd:string ? ;
    insdc:inference xsd:string * ;
    insdc:location xsd:string ;
    faldo:location IRI ;
    rdfs:seeAlso IRI ? ;
    sio:SIO_010081 IRI ? ;
    bfo:BFO_0000050 IRI ;
    ro:RO_0002162 IRI ;
  }
  
  faldo:Region {
    a [ faldo:Region ] ;
    faldo:begin IRI ;
    faldo:end IRI ;
  }

sample_rdf_entries:
  - title: Complete bacterial genome entry
    description: A complete genome entry for Symmachiella dynata with metadata including organism information, taxonomy, database cross-references, and sequence details.
    rdf: Complete genome entry RDF example

  - title: Gene feature with location
    description: A gene feature showing genomic location using FALDO, gene symbol, locus tag, and taxonomic classification.
    rdf: Gene feature RDF example

  - title: Coding sequence with protein
    description: A CDS feature showing the encoded protein product, amino acid translation, and cross-reference to NCBI Protein.
    rdf: CDS feature RDF example

  - title: Ribosomal RNA feature
    description: A ribosomal RNA feature showing its genomic location and relationship to the parent gene.
    rdf: rRNA feature RDF example

  - title: FALDO Region with coordinates
    description: A genomic region with precise start and end positions on the forward strand using FALDO ontology.
    rdf: FALDO region RDF example

sparql_query_examples:
  - title: Retrieve basic entry information
    description: Get basic metadata about nucleotide sequence entries.
    question: What are some bacterial genome entries in DDBJ?
    complexity: basic
    sparql: Basic entry retrieval query

  - title: Find entries for specific organism
    description: Search for nucleotide entries from a specific organism.
    question: What genome sequences are available for a specific organism?
    complexity: basic
    sparql: Organism-specific query

  - title: Get genes with specific symbols
    description: Find gene features with particular gene symbols.
    question: Where can I find specific genes across genomes?
    complexity: intermediate
    sparql: Gene symbol search query

  - title: Find coding sequences
    description: Retrieve coding sequences with their protein products.
    question: What proteins are encoded by genes?
    complexity: intermediate
    sparql: CDS retrieval query

  - title: Get genomic coordinates
    description: Retrieve precise genomic positions using FALDO.
    question: What are exact genomic coordinates of features?
    complexity: intermediate
    sparql: FALDO coordinate query

  - title: Query by taxonomy
    description: Retrieve genes by taxonomic classification.
    question: What genes belong to a specific taxonomic group?
    complexity: advanced
    sparql: Taxonomic query

  - title: Complex integration query
    description: Integrate genes, CDS, and protein products.
    question: How to trace gene-to-protein relationships?
    complexity: advanced
    sparql: Complex integration query

cross_references:
  - pattern: insdc:dblink
    description: |
      Project and sample metadata links use the insdc:dblink property. These link sequence entries to their organizational context and experimental metadata. Distinguished by URL patterns in the IRI.
    databases:
      project_metadata:
        - name: BioProject
          url_pattern: http://identifiers.org/bioproject/
          coverage: ~100% of entries
          description: Organizational umbrella for genomics research
      sample_metadata:
        - name: BioSample
          url_pattern: http://identifiers.org/biosample/
          coverage: ~100% of entries
          description: Sample attributes including isolation source and collection date
    complexity: basic
    sparql: Example query for BioProject and BioSample links

  - pattern: rdfs:seeAlso
    description: |
      Protein product cross-references use rdfs:seeAlso property. Links coding sequences to their translated protein products in NCBI Protein database.
    databases:
      protein_databases:
        - name: NCBI Protein
          url_pattern: http://identifiers.org/ncbiprotein/
          coverage: ">98% of CDS features"
          description: Protein sequences and functional annotations
    complexity: basic
    sparql: Example query for NCBI Protein links

  - pattern: obo:RO_0002162
    description: |
      Taxonomic classification uses the Relations Ontology property RO_0002162 (in_taxon). Links gene and feature annotations to NCBI Taxonomy for organism classification.
    databases:
      taxonomy:
        - name: NCBI Taxonomy
          url_pattern: http://identifiers.org/taxonomy/
          coverage: 100% of all features
          description: Organism classification and lineage information
    complexity: basic
    sparql: Example query for taxonomy links

  - pattern: rdfs:subClassOf
    description: |
      Sequence feature classification uses rdfs:subClassOf property. Links features to Sequence Ontology (SO) terms for standardized feature type definitions.
    databases:
      ontologies:
        - name: Sequence Ontology
          url_pattern: http://purl.obolibrary.org/obo/SO_
          coverage: 100% of all features
          description: Standardized vocabulary for sequence features
    complexity: basic
    sparql: Example query for SO classification

  - pattern: sio:SIO_010081
    description: |
      Gene-to-feature encoding relationships use SIO property SIO_010081 (is_encoded_by). Establishes the relationship between coding sequences/RNA features and their parent genes.
    databases:
      internal_relationships:
        - description: Gene-CDS relationships
          coverage: ">98% of CDS features"
        - description: Gene-RNA relationships
          coverage: ">95% of RNA features"
    complexity: intermediate
    sparql: Example query for gene-feature relationships

  - pattern: insdc:inference
    description: |
      Computational predictions and similarity evidence stored in insdc:inference text property. Contains references to external databases used for annotation, including UniProtKB, Pfam, and prediction tools.
    databases:
      reference_databases:
        - name: UniProtKB
          coverage: ~80% of CDS
          description: Protein sequence similarity references
        - name: Pfam
          coverage: ~50% of CDS
          description: Protein family references
        - name: Prodigal
          coverage: ~70% of bacterial CDS
          description: Gene prediction tool references
    complexity: intermediate
    sparql: Example query for inference annotations

architectural_notes:
  schema_design:
    - Entry-Feature hierarchy with nucleotide entries containing multiple genomic features
    - FALDO ontology provides precise strand-aware genomic coordinate representation
    - Features connected via BFO part_of relationships and SIO encoding relationships
    - Standard INSDC ontology terms throughout for interoperability
  
  performance:
    - Queries filtering by specific accession numbers are highly optimized
    - Locus_tag property is well-indexed for efficient feature lookup
    - Use LIMIT clauses for exploratory queries (recommend 10-1000 results)
    - Filter by organism name early in query patterns for better performance
  
  data_integration:
    - BioProject/BioSample links via insdc:dblink for experimental context
    - NCBI Protein cross-references via rdfs:seeAlso from CDS features
    - NCBI Taxonomy links via RO_0002162 for all features
    - Sequence Ontology classification via rdfs:subClassOf
    - UniProtKB similarity references embedded in inference annotations
  
  data_quality:
    - Over 98% of CDS features have protein product cross-references
    - 100% of features have taxonomic classification links
    - Inference annotations provide computational prediction provenance
    - Some features may have fuzzy positions for uncertain boundaries

data_statistics:
  total_triples: ~1.5 billion
  total_entries: 262282607
  total_genes: 225351782
  total_cds: 247777551
  total_proteins: 243269737
  
  coverage:
    entries_with_bioproject: ~100%
    entries_with_biosample: ~100%
    cds_with_protein_links: ">98%"
    cds_with_inference: ~75%
    features_with_taxonomy: 100%
    features_with_so_terms: 100%
  
  performance_characteristics:
    - Accession-specific queries are fastest
    - Locus tag lookups are well-indexed
    - Recommend LIMIT 10-1000 for exploratory queries
    - Filter by organism name early for better performance
