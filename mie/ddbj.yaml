# DDBJ RDF Schema - Metadata Information Exchange File
schema_info:
  title: DDBJ RDF Schema
  description: A comprehensive resource for nucleotide sequence data and genomic features from the DNA Data Bank of Japan. Part of the International Nucleotide Sequence Database Collaboration (INSDC), containing genomic sequences, genes, coding sequences, proteins, and RNA features with extensive cross-references to other biological databases.
  endpoint: https://rdfportal.org/ddbj/sparql
  base_uri: http://ddbj.nig.ac.jp/ontologies/nucleotide/
  graphs:
    - http://rdfportal.org/dataset/ddbj
    - http://rdfportal.org/ontology/nucleotide
    - http://rdfportal.org/ontology/faldo
    - http://rdfportal.org/ontology/so
    - http://rdfportal.org/ontology/sio

prefixes:
  rdf: http://www.w3.org/1999/02/22-rdf-syntax-ns#
  rdfs: http://www.w3.org/2000/01/rdf-schema#
  owl: http://www.w3.org/2002/07/owl#
  xsd: http://www.w3.org/2001/XMLSchema#
  nucleotide: http://ddbj.nig.ac.jp/ontologies/nucleotide/
  sio: http://semanticscience.org/resource/
  faldo: http://biohackathon.org/resource/faldo#
  so: http://purl.obolibrary.org/obo/SO_
  bfo: http://purl.obolibrary.org/obo/BFO_
  ro: http://purl.obolibrary.org/obo/RO_
  dcterms: http://purl.org/dc/terms/
  skos: http://www.w3.org/2004/02/skos/core#
  insdc: http://identifiers.org/insdc/
  biosample: http://identifiers.org/biosample/
  bioproject: http://identifiers.org/bioproject/
  taxonomy: http://identifiers.org/taxonomy/
  ncbiprotein: http://identifiers.org/ncbiprotein/

shape_expressions:
  nucleotide:Entry:
    description: A nucleotide sequence entry representing a complete sequence record
    properties:
      rdf:type:
        description: RDF type declaration
        type: nucleotide:Entry
        required: true
      rdfs:label:
        description: Human-readable label for the entry
        type: xsd:string
        required: true
      dcterms:identifier:
        description: INSDC accession number (e.g., CP036276.1)
        type: xsd:string
        required: true
      nucleotide:organism:
        description: Scientific name of the organism
        type: xsd:string
        required: true
      nucleotide:definition:
        description: Sequence definition line
        type: xsd:string
        required: false
      nucleotide:taxonomy:
        description: Taxonomic classification
        type: xsd:string
        required: false
      nucleotide:division:
        description: Database division (e.g., BCT for bacteria)
        type: nucleotide:Division
        required: false
      nucleotide:dblink:
        description: Links to BioProject and BioSample entries
        type: URI
        required: false

  nucleotide:BioProject:
    description: A BioProject represents a collection of biological data related to a single research effort
    properties:
      rdf:type:
        description: RDF type declaration
        type: nucleotide:BioProject
        required: true
      rdfs:label:
        description: BioProject identifier (e.g., PRJNA594547)
        type: xsd:string
        required: true
      sio:SIO_000068:
        description: Links to identifiers.org namespace
        type: URI
        required: false

  nucleotide:BioSample:
    description: A BioSample represents biological samples used in experiments
    properties:
      rdf:type:
        description: RDF type declaration
        type: nucleotide:BioSample
        required: true
      rdfs:label:
        description: BioSample identifier (e.g., SAMN12636418)
        type: xsd:string
        required: true
      sio:SIO_000068:
        description: Links to identifiers.org namespace
        type: URI
        required: false

  nucleotide:Gene:
    description: A gene feature representing a genomic locus
    properties:
      rdf:type:
        description: RDF type declaration
        type: nucleotide:Gene
        required: true
      nucleotide:locus_tag:
        description: Systematic gene identifier
        type: xsd:string
        required: true
      nucleotide:gene:
        description: Gene symbol or name
        type: xsd:string
        required: false
      rdfs:label:
        description: Human-readable label
        type: xsd:string
        required: true
      faldo:location:
        description: Genomic coordinates using FALDO
        type: URI
        required: true
      bfo:BFO_0000050:
        description: Sequence this gene belongs to
        type: URI
        required: true
      rdfs:subClassOf:
        description: Links to Sequence Ontology terms
        type: URI
        required: false
      ro:RO_0002162:
        description: Taxonomic classification via identifiers.org
        type: URI
        required: true

  nucleotide:Coding_Sequence:
    description: A coding sequence (CDS) feature representing protein-coding regions
    properties:
      rdf:type:
        description: RDF type declaration
        type: nucleotide:Coding_Sequence
        required: true
      nucleotide:gene:
        description: Associated gene name
        type: xsd:string
        required: false
      nucleotide:product:
        description: Protein product description
        type: xsd:string
        required: true
      nucleotide:locus_tag:
        description: Associated locus tag
        type: xsd:string
        required: false
      rdfs:seeAlso:
        description: NCBI protein accession cross-reference
        type: URI
        required: true
      nucleotide:translation:
        description: Amino acid sequence
        type: xsd:string
        required: false
      faldo:location:
        description: Genomic coordinates
        type: URI
        required: true
      nucleotide:codon_start:
        description: Reading frame offset
        type: xsd:integer
        required: false
      nucleotide:transl_table:
        description: Genetic code table number
        type: xsd:integer
        required: false
      nucleotide:EC_number:
        description: Enzyme Commission number
        type: xsd:string
        required: false
      ro:RO_0002162:
        description: Taxonomic classification
        type: URI
        required: true

  nucleotide:Ribosomal_RNA:
    description: A ribosomal RNA feature
    properties:
      rdf:type:
        description: RDF type declaration
        type: nucleotide:Ribosomal_RNA
        required: true
      nucleotide:product:
        description: rRNA type (e.g., "23S ribosomal RNA")
        type: xsd:string
        required: true
      nucleotide:locus_tag:
        description: Systematic identifier
        type: xsd:string
        required: false
      faldo:location:
        description: Genomic coordinates
        type: URI
        required: true

  nucleotide:Transfer_RNA:
    description: A transfer RNA feature  
    properties:
      rdf:type:
        description: RDF type declaration
        type: nucleotide:Transfer_RNA
        required: true
      nucleotide:product:
        description: tRNA specificity
        type: xsd:string
        required: true
      nucleotide:anticodon:
        description: Anticodon sequence
        type: xsd:string
        required: false
      faldo:location:
        description: Genomic coordinates
        type: URI
        required: true

sample_rdf_entries:
  bacterial_genome:
    description: Complete bacterial chromosome from Symmachiella dynata
    RDF: |
      <http://identifiers.org/insdc/CP036276.1> a nucleotide:Entry ;
        rdfs:label "Symmachiella dynata strain Mal52 chromosome, complete genome." ;
        dcterms:identifier "CP036276.1" ;
        nucleotide:organism "Symmachiella dynata" ;
        nucleotide:division nucleotide:Division#BCT ;
        nucleotide:taxonomy "Bacteria; Planctomycetota; Planctomycetia; Planctomycetales; Planctomycetaceae; Symmachiella." ;
        nucleotide:dblink <http://identifiers.org/biosample/SAMN10954015> ;
        nucleotide:dblink <http://identifiers.org/bioproject/PRJNA485700> .

  bioproject_entry:
    description: BioProject metadata entry
    RDF: |
      <http://identifiers.org/bioproject/PRJNA594547> a nucleotide:BioProject ;
        rdfs:label "PRJNA594547" ;
        sio:SIO_000068 <http://identifiers.org/bioproject> .

  biosample_entry:
    description: BioSample metadata entry
    RDF: |
      <http://identifiers.org/biosample/SAMN12636418> a nucleotide:BioSample ;
        rdfs:label "SAMN12636418" ;
        sio:SIO_000068 <http://identifiers.org/biosample> .

  gene_feature:
    description: Gene feature with locus tag and genomic location
    RDF: |
      <http://identifiers.org/insdc/CP036276.1#feature:1001623-1002915:1:gene.47722> a nucleotide:Gene ;
        nucleotide:locus_tag "Mal52_08030" ;
        nucleotide:gene "clpX" ;
        rdfs:label "Mal52_08030" ;
        faldo:location <http://identifiers.org/insdc/CP036276.1#region:1001623-1002915:1> ;
        bfo:BFO_0000050 <http://identifiers.org/insdc/CP036276.1#sequence> ;
        rdfs:subClassOf so:0000010, so:0000704 ;
        ro:RO_0002162 <http://identifiers.org/taxonomy/2527995> .

  coding_sequence:
    description: Protein-coding sequence with product annotation and cross-references
    RDF: |
      <http://identifiers.org/insdc/CP036276.1#feature:1001623-1002915:1:CDS.47054> a nucleotide:Coding_Sequence ;
        nucleotide:gene "clpX" ;
        nucleotide:product "ATP-dependent Clp protease ATP-binding subunit ClpX" ;
        nucleotide:locus_tag "Mal52_08030" ;
        faldo:location <http://identifiers.org/insdc/CP036276.1#region:1001623-1002915:1> ;
        rdfs:seeAlso <http://identifiers.org/ncbiprotein/QDU42347.1> ;
        ro:RO_0002162 <http://identifiers.org/taxonomy/2527995> .

  ribosomal_rna:
    description: 23S ribosomal RNA feature
    RDF: |
      <http://identifiers.org/insdc/CP036276.1#feature:1040576-1043484:1:rRNA.37> a nucleotide:Ribosomal_RNA ;
        nucleotide:locus_tag "Mal52_08310" ;
        nucleotide:product "23S ribosomal RNA" ;
        faldo:location <http://identifiers.org/insdc/CP036276.1#region:1040576-1043484:1> ;
        rdfs:subClassOf so:0000252, so:0000673 .

sparql_query_examples:
  get_bioproject_entries:
    description: Find all BioProject entries with metadata
    sparql: |
      PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      PREFIX nucleotide: <http://ddbj.nig.ac.jp/ontologies/nucleotide/>
      
      SELECT ?bioproject ?label
      WHERE {
        ?bioproject rdf:type nucleotide:BioProject ;
                   rdfs:label ?label .
      }
      LIMIT 20

  get_sequence_entries_with_links:
    description: Find nucleotide sequences with their associated BioProject and BioSample links
    sparql: |
      PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      PREFIX nucleotide: <http://ddbj.nig.ac.jp/ontologies/nucleotide/>
      PREFIX dcterms: <http://purl.org/dc/terms/>
      
      SELECT ?entry ?accession ?organism ?bioproject ?biosample
      WHERE {
        ?entry rdf:type nucleotide:Entry ;
               dcterms:identifier ?accession ;
               nucleotide:organism ?organism .
        OPTIONAL { ?entry nucleotide:dblink ?bioproject . 
                  FILTER(contains(str(?bioproject), "bioproject")) }
        OPTIONAL { ?entry nucleotide:dblink ?biosample . 
                  FILTER(contains(str(?biosample), "biosample")) }
      }
      LIMIT 15

  get_genes_with_products:
    description: Find genes and their associated coding sequences with protein products
    sparql: |
      PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
      PREFIX nucleotide: <http://ddbj.nig.ac.jp/ontologies/nucleotide/>
      
      SELECT ?gene ?gene_name ?locus_tag ?cds ?product
      WHERE {
        ?gene rdf:type nucleotide:Gene ;
              nucleotide:locus_tag ?locus_tag .
        OPTIONAL { ?gene nucleotide:gene ?gene_name }
        ?cds rdf:type nucleotide:Coding_Sequence ;
             nucleotide:locus_tag ?locus_tag ;
             nucleotide:product ?product .
      }
      LIMIT 15

  get_rna_features:
    description: Retrieve different types of RNA features (tRNA, rRNA, etc.)
    sparql: |
      PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
      PREFIX nucleotide: <http://ddbj.nig.ac.jp/ontologies/nucleotide/>
      
      SELECT ?rna ?type ?product ?locus_tag
      WHERE {
        ?rna rdf:type ?type ;
             nucleotide:product ?product ;
             nucleotide:locus_tag ?locus_tag .
        FILTER(?type = nucleotide:Transfer_RNA || 
               ?type = nucleotide:Ribosomal_RNA ||
               ?type = nucleotide:Non_Coding_RNA ||
               ?type = nucleotide:Messenger_RNA)
      }
      LIMIT 20

  get_bacterial_genomes:
    description: Find complete bacterial genomes with taxonomic information
    sparql: |
      PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      PREFIX nucleotide: <http://ddbj.nig.ac.jp/ontologies/nucleotide/>
      PREFIX dcterms: <http://purl.org/dc/terms/>
      
      SELECT ?entry ?accession ?organism ?taxonomy
      WHERE {
        ?entry rdf:type nucleotide:Entry ;
               dcterms:identifier ?accession ;
               nucleotide:organism ?organism ;
               nucleotide:taxonomy ?taxonomy .
      }
      LIMIT 15

  get_biosample_entries:
    description: Find all BioSample entries with metadata
    sparql: |
      PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      PREFIX nucleotide: <http://ddbj.nig.ac.jp/ontologies/nucleotide/>
      
      SELECT ?biosample ?label
      WHERE {
        ?biosample rdf:type nucleotide:BioSample ;
                   rdfs:label ?label .
      }
      LIMIT 15

  explore_feature_properties:
    description: Discover all properties used by coding sequence features
    sparql: |
      PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
      PREFIX nucleotide: <http://ddbj.nig.ac.jp/ontologies/nucleotide/>
      
      SELECT DISTINCT ?property
      WHERE {
        ?s rdf:type nucleotide:Coding_Sequence .
        ?s ?property ?o .
      }
      LIMIT 20

cross_references:
  protein_cross_references:
    description: Links from coding sequences to NCBI protein database entries
    sparql: |
      PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      PREFIX nucleotide: <http://ddbj.nig.ac.jp/ontologies/nucleotide/>
      
      SELECT ?cds ?product ?protein_xref
      WHERE {
        ?cds rdf:type nucleotide:Coding_Sequence ;
             nucleotide:product ?product ;
             rdfs:seeAlso ?protein_xref .
      }
      LIMIT 15

  taxonomic_cross_references:
    description: Links from genomic features to NCBI Taxonomy entries
    sparql: |
      PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
      PREFIX nucleotide: <http://ddbj.nig.ac.jp/ontologies/nucleotide/>
      PREFIX ro: <http://purl.obolibrary.org/obo/RO_>
      
      SELECT ?feature ?feature_type ?taxon
      WHERE {
        ?feature rdf:type ?feature_type ;
                 ro:0002162 ?taxon .
        FILTER(?feature_type = nucleotide:Gene || 
               ?feature_type = nucleotide:Coding_Sequence)
      }
      LIMIT 15

  bioproject_biosample_links:
    description: Retrieve cross-references from sequence entries to project and sample metadata
    sparql: |
      PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
      PREFIX nucleotide: <http://ddbj.nig.ac.jp/ontologies/nucleotide/>
      PREFIX dcterms: <http://purl.org/dc/terms/>
      
      SELECT ?entry ?accession ?link_type ?external_id
      WHERE {
        ?entry rdf:type nucleotide:Entry ;
               dcterms:identifier ?accession ;
               nucleotide:dblink ?external_id .
        BIND(
          IF(contains(str(?external_id), "bioproject"), "BioProject",
          IF(contains(str(?external_id), "biosample"), "BioSample", "Other"))
          AS ?link_type
        )
      }
      LIMIT 20

architectural_notes:
  design_patterns:
    - Hierarchical feature organization with Entries containing genes, CDS and other features
    - Cross-database linking using identifiers.org URIs for external references
    - FALDO integration for genomic coordinates representation
    - Sequence Ontology alignment via rdfs:subClassOf relationships
    - SIO integration for semantic relationships
    - BFO relationships for part-whole hierarchies
    - INSDC compliance ensuring compatibility with international standards
  
  cross_reference_handling:
    - BioProject/BioSample links using direct dblink properties
    - Protein references via rdfs:seeAlso to NCBI protein accessions
    - Taxonomy integration using RO:0002162 (in taxon) with identifiers.org URIs
    - Functional annotations through properties like EC_number
    - Standardized identifiers.org compliance across all external databases
  
  performance_considerations:
    - Graph-based indexing optimized for feature hierarchy traversal
    - Namespace partitioning organizing different feature types
    - Selective querying using FILTER clauses for large result sets
    - Cross-reference optimization through direct property paths

data_statistics:
  total_classes: 94
  total_properties: 91
  total_entries: 1000000
  major_entity_types: 8
  cross_reference_systems: 5
  taxonomic_coverage: "All domains of life with emphasis on microbial genomes"
  last_updated: '2025-01-27T12:00:00Z'