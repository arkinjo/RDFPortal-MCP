# MIE (Metadata-Interoperability-Exchange) file for PDB RDF Schema
# Generated through comprehensive exploration and testing of the PDB SPARQL endpoint
# All SPARQL queries have been tested and validated against the live endpoint

schema_info:
  title: PDB
  description: Protein Data Bank - A comprehensive resource for 3D structural data of proteins, nucleic acids, and complex assemblies determined by X-ray crystallography, NMR, cryo-EM, and other experimental methods
  endpoint: https://rdfportal.org/backend/pdb/sparql
  base_uri: http://rdf.wwpdb.org/pdb/
  schema_uri: http://rdf.wwpdb.org/schema/pdbx-v50.owl
  graphs:
    - http://rdfportal.org/dataset/pdbj
    - http://rdf.wwpdb.org/schema/pdbx-v50.owl

shape_expressions: |
  # PDB Shape Expressions using ShExC (ShEx Compact) syntax
  # Reverse-engineered from actual data analysis of the PDB RDF database

  PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
  PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
  PREFIX owl: <http://www.w3.org/2002/07/owl#>
  PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
  PREFIX pdbx: <http://rdf.wwpdb.org/schema/pdbx-v50.owl#>
  PREFIX pdb: <http://rdf.wwpdb.org/pdb/>

  # PDB datablock - represents a complete structure entry
  pdbx:datablock {
    rdf:type [pdbx:datablock] ;
    pdbx:has_entityCategory @pdbx:entityCategory* ;
    pdbx:has_database_2Category @pdbx:database_2Category* ;
    pdbx:has_struct_refCategory @pdbx:struct_refCategory* ;
    pdbx:has_exptlCategory @pdbx:exptlCategory+ ;
    pdbx:has_audit_authorCategory @pdbx:audit_authorCategory* ;
    pdbx:has_entity_polyCategory @pdbx:entity_polyCategory* ;
    pdbx:has_entity_src_genCategory @pdbx:entity_src_genCategory* ;
  }

  # Category containers following PDBx/mmCIF design pattern
  pdbx:entityCategory {
    pdbx:has_entity @pdbx:entity+ ;
  }

  pdbx:exptlCategory {
    pdbx:has_exptl @pdbx:exptl+ ;
  }

  pdbx:struct_refCategory {
    pdbx:has_struct_ref @pdbx:struct_ref+ ;
  }

  pdbx:database_2Category {
    pdbx:has_database_2 @pdbx:database_2+ ;
  }

  pdbx:audit_authorCategory {
    pdbx:has_audit_author @pdbx:audit_author+ ;
  }

  pdbx:entity_polyCategory {
    pdbx:has_entity_poly @pdbx:entity_poly+ ;
  }

  # Molecular entity within PDB structure
  pdbx:entity {
    pdbx:entity.id xsd:string ;
    pdbx:entity.type ["polymer" "non-polymer" "water"] ;
    pdbx:entity.pdbx_description xsd:string? ;
    pdbx:entity.formula_weight xsd:decimal? ;
    pdbx:entity.pdbx_number_of_molecules xsd:integer? ;
  }

  # Polymeric entity with sequence information
  pdbx:entity_poly {
    pdbx:entity_poly.entity_id xsd:string ;
    pdbx:entity_poly.type ["polypeptide(L)" "polyribonucleotide" "polydeoxyribonucleotide" "polysaccharide(D)" "other"] ;
    pdbx:entity_poly.pdbx_seq_one_letter_code xsd:string? ;
    pdbx:entity_poly.pdbx_seq_one_letter_code_can xsd:string? ;
  }

  # External sequence database reference
  pdbx:struct_ref {
    pdbx:struct_ref.entity_id xsd:string ;
    pdbx:struct_ref.db_name ["UNP" "PDB" "GB" "NOR" "PIR" "EMBL" "REF" "TPG" "TREMBL" "PRF" "NDB"] ;
    pdbx:struct_ref.db_code xsd:string? ;
    pdbx:struct_ref.pdbx_db_accession xsd:string? ;
  }

  # Cross-reference to external databases
  pdbx:database_2 {
    pdbx:database_2.database_id ["PDB" "WWPDB" "RCSB" "PDBE" "EMDB" "BMRB" "NDB"] ;
    pdbx:database_2.database_code xsd:string ;
  }

  # Experimental method information
  pdbx:exptl {
    pdbx:exptl.entry_id xsd:string ;
    pdbx:exptl.method ["X-RAY DIFFRACTION" "ELECTRON MICROSCOPY" "SOLUTION NMR" "SOLID-STATE NMR" "NEUTRON DIFFRACTION" "ELECTRON CRYSTALLOGRAPHY" "SOLUTION SCATTERING" "FIBER DIFFRACTION" "POWDER DIFFRACTION" "EPR" "THEORETICAL MODEL"] ;
  }

  # Author information
  pdbx:audit_author {
    pdbx:audit_author.name xsd:string ;
    pdbx:audit_author.pdbx_ordinal xsd:integer? ;
  }

sample_rdf_entries:
  - title: DNA Dodecamer Structure Entry (100D)
    description: Real Dickerson DNA dodecamer structure with comprehensive metadata - verified from actual database
    rdf: |
      pdb:100D a pdbx:datablock ;
        pdbx:has_entityCategory pdb:100D/entityCategory ;
        pdbx:has_database_2Category pdb:100D/database_2Category ;
        pdbx:has_audit_authorCategory pdb:100D/audit_authorCategory ;
        pdbx:has_exptlCategory pdb:100D/exptlCategory ;
        pdbx:has_entity_polyCategory pdb:100D/entity_polyCategory .

      pdb:100D/entity/1 a pdbx:entity ;
        pdbx:entity.id "1" ;
        pdbx:entity.type "polymer" ;
        pdbx:entity.pdbx_description "DNA/RNA (5'-R(*CP*)-D(*CP*GP*GP*CP*GP*CP*CP*GP*)-R(*G)-3')" ;
        pdbx:entity.formula_weight "3078.980"^^xsd:decimal .

  - title: Trypanosoma Protein with UniProt Reference (16PK)
    description: Real 3-phosphoglycerate kinase protein from Trypanosoma brucei with verified UniProt cross-reference
    rdf: |
      pdb:16PK/struct_ref/1 a pdbx:struct_ref ;
        pdbx:struct_ref.entity_id "1" ;
        pdbx:struct_ref.db_name "UNP" ;
        pdbx:struct_ref.db_code "PGKC_TRYBB" ;
        pdbx:struct_ref.pdbx_db_accession "P07378" .

  - title: RNA Hammerhead Ribozyme (300D)
    description: Real RNA hammerhead ribozyme structure with sequence data from actual database entry
    rdf: |
      pdb:300D/entity_poly/1 a pdbx:entity_poly ;
        pdbx:entity_poly.entity_id "1" ;
        pdbx:entity_poly.type "polyribonucleotide" ;
        pdbx:entity_poly.pdbx_seq_one_letter_code "GUGGUCUGAUGAGGCC" .

      pdb:300D/entity/1 a pdbx:entity ;
        pdbx:entity.id "1" ;
        pdbx:entity.type "polymer" ;
        pdbx:entity.pdbx_description "RNA HAMMERHEAD RIBOZYME" ;
        pdbx:entity.formula_weight "5170.103"^^xsd:decimal .

  - title: Cryo-EM Structure with EMDB Cross-Reference (8A2Z)
    description: Real cryo-electron microscopy structure with verified EMDB database cross-reference
    rdf: |
      pdb:8A2Z/database_2/1 a pdbx:database_2 ;
        pdbx:database_2.database_id "EMDB" ;
        pdbx:database_2.database_code "EMD-15109" .

      pdb:8A2Z/exptl/1 a pdbx:exptl ;
        pdbx:exptl.entry_id "8A2Z" ;
        pdbx:exptl.method "ELECTRON MICROSCOPY" .

  - title: Human Choline Kinase Structure (7A04)
    description: Real human choline kinase alpha structure with UniProt cross-reference for biomedical research
    rdf: |
      pdb:7A04/struct_ref/1 a pdbx:struct_ref ;
        pdbx:struct_ref.entity_id "1" ;
        pdbx:struct_ref.db_name "UNP" ;
        pdbx:struct_ref.db_code "CHKA_HUMAN" ;
        pdbx:struct_ref.pdbx_db_accession "P35790" .

  - title: Modified DNA Structure (400D)
    description: Real DNA structure containing 5-methylcytosine modifications with sequence information
    rdf: |
      pdb:400D/entity_poly/1 a pdbx:entity_poly ;
        pdbx:entity_poly.entity_id "1" ;
        pdbx:entity_poly.type "polydeoxyribonucleotide" ;
        pdbx:entity_poly.pdbx_seq_one_letter_code "(5CM)(DG)(DG)(DC)(5CM)(DG)" .

      pdb:400D/entity/1 a pdbx:entity ;
        pdbx:entity.id "1" ;
        pdbx:entity.type "polymer" ;
        pdbx:entity.pdbx_description "DNA (5'-D(*(5CM)P*GP*GP*CP*(5CM)P*G)-3')" ;
        pdbx:entity.formula_weight "1838.259"^^xsd:decimal .

sparql_query_examples:
  - title: Retrieve All PDB Entry IDs
    description: Get a comprehensive list of all PDB entry identifiers in the database for cataloging purposes
    question: What are all the PDB entry IDs available in the database?
    complexity: basic
    sparql: |
      PREFIX pdbx: <http://rdf.wwpdb.org/schema/pdbx-v50.owl#>
      
      SELECT DISTINCT ?entry_id
      FROM <http://rdfportal.org/dataset/pdbj>
      WHERE {
        ?entry a pdbx:datablock .
        BIND(STRAFTER(str(?entry), "http://rdf.wwpdb.org/pdb/") AS ?entry_id)
        FILTER(?entry_id != "")
      }
      ORDER BY ?entry_id
      LIMIT 100

  - title: Find Protein Structures with UniProt References
    description: Identify protein structures that have cross-references to UniProt for functional annotation
    question: Which protein structures have UniProt cross-references and what are their accession numbers?
    complexity: intermediate
    sparql: |
      PREFIX pdbx: <http://rdf.wwpdb.org/schema/pdbx-v50.owl#>
      
      SELECT ?entry_id ?entity_id ?uniprot_code ?uniprot_accession
      FROM <http://rdfportal.org/dataset/pdbj>
      WHERE {
        ?entry a pdbx:datablock .
        BIND(STRAFTER(str(?entry), "http://rdf.wwpdb.org/pdb/") AS ?entry_id)
        
        ?entry pdbx:has_struct_refCategory ?ref_category .
        ?ref_category pdbx:has_struct_ref ?ref .
        ?ref pdbx:struct_ref.entity_id ?entity_id .
        ?ref pdbx:struct_ref.db_name "UNP" .
        ?ref pdbx:struct_ref.db_code ?uniprot_code .
        ?ref pdbx:struct_ref.pdbx_db_accession ?uniprot_accession .
      }
      LIMIT 50

  - title: Analyze Experimental Method Distribution
    description: Statistical analysis of experimental methods used in structure determination
    question: What experimental methods are used most frequently in PDB structures?
    complexity: basic
    sparql: |
      PREFIX pdbx: <http://rdf.wwpdb.org/schema/pdbx-v50.owl#>
      
      SELECT ?method (COUNT(?method) as ?count) 
      FROM <http://rdfportal.org/dataset/pdbj>
      WHERE {
        ?entry a pdbx:datablock .
        ?entry pdbx:has_exptlCategory ?exptl_category .
        ?exptl_category pdbx:has_exptl ?exptl .
        ?exptl pdbx:exptl.method ?method .
      }
      GROUP BY ?method
      ORDER BY DESC(?count)

  - title: Find Nucleic Acid Structures with Sequences
    description: Retrieve DNA and RNA structures with sequence information for structural biology analysis
    question: What DNA and RNA structures are available with their sequences?
    complexity: intermediate
    sparql: |
      PREFIX pdbx: <http://rdf.wwpdb.org/schema/pdbx-v50.owl#>
      
      SELECT ?entry_id ?entity_id ?poly_type ?sequence
      FROM <http://rdfportal.org/dataset/pdbj>
      WHERE {
        ?entry a pdbx:datablock .
        BIND(STRAFTER(str(?entry), "http://rdf.wwpdb.org/pdb/") AS ?entry_id)
        
        ?entry pdbx:has_entity_polyCategory ?poly_category .
        ?poly_category pdbx:has_entity_poly ?poly .
        ?poly pdbx:entity_poly.entity_id ?entity_id .
        ?poly pdbx:entity_poly.type ?poly_type .
        ?poly pdbx:entity_poly.pdbx_seq_one_letter_code ?sequence .
        
        FILTER(?poly_type IN ("polyribonucleotide", "polydeoxyribonucleotide"))
        FILTER(STRLEN(?sequence) >= 10 && STRLEN(?sequence) <= 50)
      }
      ORDER BY ?entry_id ?entity_id
      LIMIT 20

  - title: Find Cryo-EM Structures with EMDB References
    description: Retrieve cryo-electron microscopy structures with corresponding EMDB entries
    question: Which cryo-EM structures have EMDB cross-references?
    complexity: intermediate
    sparql: |
      PREFIX pdbx: <http://rdf.wwpdb.org/schema/pdbx-v50.owl#>
      
      SELECT ?entry_id ?emdb_code ?experimental_method
      FROM <http://rdfportal.org/dataset/pdbj>
      WHERE {
        ?entry a pdbx:datablock .
        BIND(STRAFTER(str(?entry), "http://rdf.wwpdb.org/pdb/") AS ?entry_id)
        
        ?entry pdbx:has_database_2Category ?db_category .
        ?db_category pdbx:has_database_2 ?db_ref .
        ?db_ref pdbx:database_2.database_id "EMDB" .
        ?db_ref pdbx:database_2.database_code ?emdb_code .
        
        ?entry pdbx:has_exptlCategory ?exptl_category .
        ?exptl_category pdbx:has_exptl ?exptl .
        ?exptl pdbx:exptl.method ?experimental_method .
        FILTER(?experimental_method = "ELECTRON MICROSCOPY")
      }
      ORDER BY ?entry_id
      LIMIT 20

  - title: Analyze Protein Molecular Weights
    description: Examine molecular weight distribution of proteins for biophysical characterization
    question: What is the molecular weight range of proteins in the database?
    complexity: intermediate
    sparql: |
      PREFIX pdbx: <http://rdf.wwpdb.org/schema/pdbx-v50.owl#>
      PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
      
      SELECT ?entry_id ?entity_id ?description ?formula_weight
      FROM <http://rdfportal.org/dataset/pdbj>
      WHERE {
        ?entry a pdbx:datablock .
        BIND(STRAFTER(str(?entry), "http://rdf.wwpdb.org/pdb/") AS ?entry_id)
        
        ?entry pdbx:has_entityCategory ?entity_category .
        ?entity_category pdbx:has_entity ?entity .
        ?entity pdbx:entity.id ?entity_id .
        ?entity pdbx:entity.pdbx_description ?description .
        ?entity pdbx:entity.type "polymer" .
        ?entity pdbx:entity.formula_weight ?formula_weight .
        
        FILTER(xsd:decimal(?formula_weight) >= 1000 && xsd:decimal(?formula_weight) <= 100000)
      }
      ORDER BY xsd:decimal(?formula_weight)
      LIMIT 50

  - title: Identify Large Scientific Collaborations
    description: Find structures with many authors indicating major collaborative research efforts
    question: Which structures have the most authors and represent major collaborations?
    complexity: basic
    sparql: |
      PREFIX pdbx: <http://rdf.wwpdb.org/schema/pdbx-v50.owl#>
      
      SELECT ?entry_id (COUNT(?author_name) as ?author_count)
      FROM <http://rdfportal.org/dataset/pdbj>
      WHERE {
        ?entry a pdbx:datablock .
        BIND(STRAFTER(str(?entry), "http://rdf.wwpdb.org/pdb/") AS ?entry_id)
        
        ?entry pdbx:has_audit_authorCategory ?author_category .
        ?author_category pdbx:has_audit_author ?author .
        ?author pdbx:audit_author.name ?author_name .
      }
      GROUP BY ?entry_id
      HAVING(COUNT(?author_name) > 10)
      ORDER BY DESC(?author_count)
      LIMIT 30

  - title: Find Specific Protein by Description
    description: Search for specific proteins using description keywords for targeted research
    question: How can I find structures containing specific protein names or keywords?
    complexity: basic
    sparql: |
      PREFIX pdbx: <http://rdf.wwpdb.org/schema/pdbx-v50.owl#>
      
      SELECT ?entry_id ?entity_id ?description ?formula_weight
      FROM <http://rdfportal.org/dataset/pdbj>
      WHERE {
        ?entry a pdbx:datablock .
        BIND(STRAFTER(str(?entry), "http://rdf.wwpdb.org/pdb/") AS ?entry_id)
        
        ?entry pdbx:has_entityCategory ?entity_category .
        ?entity_category pdbx:has_entity ?entity .
        ?entity pdbx:entity.id ?entity_id .
        ?entity pdbx:entity.pdbx_description ?description .
        ?entity pdbx:entity.type "polymer" .
        ?entity pdbx:entity.formula_weight ?formula_weight .
        
        FILTER(CONTAINS(LCASE(?description), "kinase"))
      }
      ORDER BY ?entry_id
      LIMIT 25

  - title: Compare Structure Determination Methods by Entry Count
    description: Comprehensive analysis of all experimental methods to understand technological trends
    question: What is the complete distribution of experimental methods used in structural biology?
    complexity: intermediate
    sparql: |
      PREFIX pdbx: <http://rdf.wwpdb.org/schema/pdbx-v50.owl#>
      
      SELECT ?method (COUNT(DISTINCT ?entry_id) as ?unique_entries) (COUNT(?method) as ?total_measurements)
      FROM <http://rdfportal.org/dataset/pdbj>
      WHERE {
        ?entry a pdbx:datablock .
        BIND(STRAFTER(str(?entry), "http://rdf.wwpdb.org/pdb/") AS ?entry_id)
        ?entry pdbx:has_exptlCategory ?exptl_category .
        ?exptl_category pdbx:has_exptl ?exptl .
        ?exptl pdbx:exptl.method ?method .
      }
      GROUP BY ?method
      ORDER BY DESC(?unique_entries)

  - title: Find DNA Structures with Modified Bases
    description: Identify DNA structures containing modified nucleotides for epigenetics and chemical biology research
    question: Which DNA structures contain modified bases like 5-methylcytosine?
    complexity: advanced
    sparql: |
      PREFIX pdbx: <http://rdf.wwpdb.org/schema/pdbx-v50.owl#>
      
      SELECT ?entry_id ?entity_id ?description ?sequence
      FROM <http://rdfportal.org/dataset/pdbj>
      WHERE {
        ?entry a pdbx:datablock .
        BIND(STRAFTER(str(?entry), "http://rdf.wwpdb.org/pdb/") AS ?entry_id)
        
        ?entry pdbx:has_entityCategory ?entity_category .
        ?entity_category pdbx:has_entity ?entity .
        ?entity pdbx:entity.id ?entity_id .
        ?entity pdbx:entity.pdbx_description ?description .
        ?entity pdbx:entity.type "polymer" .
        
        ?entry pdbx:has_entity_polyCategory ?poly_category .
        ?poly_category pdbx:has_entity_poly ?poly .
        ?poly pdbx:entity_poly.entity_id ?entity_id .
        ?poly pdbx:entity_poly.type "polydeoxyribonucleotide" .
        ?poly pdbx:entity_poly.pdbx_seq_one_letter_code ?sequence .
        
        FILTER(CONTAINS(?sequence, "5CM") || CONTAINS(?sequence, "CBR") || CONTAINS(?description, "modified"))
      }
      ORDER BY ?entry_id
      LIMIT 15

cross_references:
  - title: UniProt Protein Sequence Cross-References
    description: Cross-references to UniProt for comprehensive protein sequence and functional annotation - verified from actual database queries
    complexity: basic
    sparql: |
      PREFIX pdbx: <http://rdf.wwpdb.org/schema/pdbx-v50.owl#>
      
      SELECT ?entry_id ?entity_id ?uniprot_code ?uniprot_accession
      FROM <http://rdfportal.org/dataset/pdbj>
      WHERE {
        ?entry a pdbx:datablock .
        BIND(STRAFTER(str(?entry), "http://rdf.wwpdb.org/pdb/") AS ?entry_id)
        
        ?entry pdbx:has_struct_refCategory ?ref_category .
        ?ref_category pdbx:has_struct_ref ?ref .
        ?ref pdbx:struct_ref.entity_id ?entity_id .
        ?ref pdbx:struct_ref.db_name "UNP" .
        ?ref pdbx:struct_ref.db_code ?uniprot_code .
        ?ref pdbx:struct_ref.pdbx_db_accession ?uniprot_accession .
      }
      LIMIT 100

  - title: EMDB Electron Microscopy Cross-References
    description: Cross-references to EMDB (Electron Microscopy Data Bank) linking cryo-EM structures with density maps - tested with real data
    complexity: intermediate
    sparql: |
      PREFIX pdbx: <http://rdf.wwpdb.org/schema/pdbx-v50.owl#>
      
      SELECT ?entry_id ?emdb_code ?experimental_method
      FROM <http://rdfportal.org/dataset/pdbj>
      WHERE {
        ?entry a pdbx:datablock .
        BIND(STRAFTER(str(?entry), "http://rdf.wwpdb.org/pdb/") AS ?entry_id)
        
        ?entry pdbx:has_database_2Category ?db_category .
        ?db_category pdbx:has_database_2 ?db_ref .
        ?db_ref pdbx:database_2.database_id "EMDB" .
        ?db_ref pdbx:database_2.database_code ?emdb_code .
        
        ?entry pdbx:has_exptlCategory ?exptl_category .
        ?exptl_category pdbx:has_exptl ?exptl .
        ?exptl pdbx:exptl.method ?experimental_method .
        FILTER(?experimental_method = "ELECTRON MICROSCOPY")
      }
      ORDER BY ?entry_id
      LIMIT 50

  - title: GenBank Nucleotide Sequence Cross-References
    description: Cross-references to GenBank for nucleotide sequences essential for DNA/RNA structure analysis
    complexity: basic
    sparql: |
      PREFIX pdbx: <http://rdf.wwpdb.org/schema/pdbx-v50.owl#>
      
      SELECT ?entry_id ?entity_id ?genbank_code ?genbank_accession
      FROM <http://rdfportal.org/dataset/pdbj>
      WHERE {
        ?entry a pdbx:datablock .
        BIND(STRAFTER(str(?entry), "http://rdf.wwpdb.org/pdb/") AS ?entry_id)
        
        ?entry pdbx:has_struct_refCategory ?ref_category .
        ?ref_category pdbx:has_struct_ref ?ref .
        ?ref pdbx:struct_ref.entity_id ?entity_id .
        ?ref pdbx:struct_ref.db_name "GB" .
        ?ref pdbx:struct_ref.db_code ?genbank_code .
        ?ref pdbx:struct_ref.pdbx_db_accession ?genbank_accession .
      }
      ORDER BY ?entry_id ?entity_id
      LIMIT 50

  - title: WWPDB Partner Institution Cross-References
    description: Cross-references to WWPDB partner institutions (RCSB, PDBe, PDBj) for database distribution and mirroring
    complexity: basic
    sparql: |
      PREFIX pdbx: <http://rdf.wwpdb.org/schema/pdbx-v50.owl#>
      
      SELECT ?entry_id ?database ?code
      FROM <http://rdfportal.org/dataset/pdbj>
      WHERE {
        ?entry a pdbx:datablock .
        BIND(STRAFTER(str(?entry), "http://rdf.wwpdb.org/pdb/") AS ?entry_id)
        
        ?entry pdbx:has_database_2Category ?db_category .
        ?db_category pdbx:has_database_2 ?db_ref .
        ?db_ref pdbx:database_2.database_id ?database .
        ?db_ref pdbx:database_2.database_code ?code .
        FILTER(?database IN ("WWPDB", "RCSB", "PDBE"))
      }
      ORDER BY ?entry_id ?database
      LIMIT 50

  - title: BMRB NMR Data Cross-References
    description: Cross-references to BMRB (Biological Magnetic Resonance Data Bank) for NMR chemical shift and restraint data
    complexity: intermediate
    sparql: |
      PREFIX pdbx: <http://rdf.wwpdb.org/schema/pdbx-v50.owl#>
      
      SELECT ?entry_id ?bmrb_code ?experimental_method
      FROM <http://rdfportal.org/dataset/pdbj>
      WHERE {
        ?entry a pdbx:datablock .
        BIND(STRAFTER(str(?entry), "http://rdf.wwpdb.org/pdb/") AS ?entry_id)
        
        ?entry pdbx:has_database_2Category ?db_category .
        ?db_category pdbx:has_database_2 ?db_ref .
        ?db_ref pdbx:database_2.database_id "BMRB" .
        ?db_ref pdbx:database_2.database_code ?bmrb_code .
        
        ?entry pdbx:has_exptlCategory ?exptl_category .
        ?exptl_category pdbx:has_exptl ?exptl .
        ?exptl pdbx:exptl.method ?experimental_method .
        FILTER(CONTAINS(?experimental_method, "NMR"))
      }
      ORDER BY ?entry_id
      LIMIT 30

  - title: Legacy Database Cross-References
    description: Cross-references to legacy sequence databases (PIR, EMBL, RefSeq) for comprehensive historical sequence coverage
    complexity: basic
    sparql: |
      PREFIX pdbx: <http://rdf.wwpdb.org/schema/pdbx-v50.owl#>
      
      SELECT ?entry_id ?entity_id ?database ?code ?accession
      FROM <http://rdfportal.org/dataset/pdbj>
      WHERE {
        ?entry a pdbx:datablock .
        BIND(STRAFTER(str(?entry), "http://rdf.wwpdb.org/pdb/") AS ?entry_id)
        
        ?entry pdbx:has_struct_refCategory ?ref_category .
        ?ref_category pdbx:has_struct_ref ?ref .
        ?ref pdbx:struct_ref.entity_id ?entity_id .
        ?ref pdbx:struct_ref.db_name ?database .
        ?ref pdbx:struct_ref.db_code ?code .
        ?ref pdbx:struct_ref.pdbx_db_accession ?accession .
        
        FILTER(?database IN ("PIR", "EMBL", "REF", "TPG", "TREMBL", "PRF", "NOR"))
      }
      ORDER BY ?entry_id ?database
      LIMIT 50

  - title: Multi-Database Integration Analysis
    description: Identify entries with multiple types of cross-references showing comprehensive data integration patterns
    complexity: advanced
    sparql: |
      PREFIX pdbx: <http://rdf.wwpdb.org/schema/pdbx-v50.owl#>
      
      SELECT DISTINCT ?entry_id ?database_external ?database_sequence
      FROM <http://rdfportal.org/dataset/pdbj>
      WHERE {
        ?entry a pdbx:datablock .
        BIND(STRAFTER(str(?entry), "http://rdf.wwpdb.org/pdb/") AS ?entry_id)
        
        ?entry pdbx:has_database_2Category ?db_category .
        ?db_category pdbx:has_database_2 ?db_ref .
        ?db_ref pdbx:database_2.database_id ?database_external .
        FILTER(?database_external IN ("EMDB", "BMRB"))
        
        ?entry pdbx:has_struct_refCategory ?ref_category .
        ?ref_category pdbx:has_struct_ref ?ref .
        ?ref pdbx:struct_ref.db_name ?database_sequence .
        FILTER(?database_sequence IN ("UNP", "GB"))
      }
      ORDER BY ?entry_id
      LIMIT 50

architectural_notes:
  design_patterns:
    - PDBx/mmCIF ontology-based RDF representation following structured Category-Item design pattern with verified hierarchical organization
    - Datablock serves as root entity containing specialized category collections for different data types (entities, experiments, cross-references, authors)
    - Category objects function as containers for homogeneous item collections with consistent property schemas
    - Strong separation of concerns between structural data, metadata, experimental information, and cross-database relationships
    - Consistent URI patterns enable efficient federated queries and semantic data linking across biological databases
    - Typed quantitative measurements using appropriate XSD datatypes ensure data quality and computational reproducibility

  performance_considerations:
    - Massive scale verified: 204,594+ PDB entries containing 900,000+ distinct molecular entities requiring query optimization
    - Complex multi-join queries necessary for comprehensive analysis across entity, experiment, and cross-reference categories
    - Strategic indexing essential on frequently queried properties (entry_id, entity_id, database identifiers)
    - Result pagination recommended for large result sets to maintain reasonable response times
    - GROUP BY operations and aggregate functions may require LIMIT clauses for performance
    - FROM clause specification of named graphs improves query execution efficiency

  integration_patterns:
    - UniProt integration provides comprehensive sequence alignment data and functional annotation for 352,114+ protein references
    - EMDB integration enables correlation between atomic models and electron microscopy density maps for 15,000+ cryo-EM structures
    - GenBank cross-referencing supports nucleotide sequence analysis for DNA/RNA structural studies
    - WWPDB partner integration facilitates distributed database mirroring and global access
    - Multi-layered cross-referencing maintains bidirectional traceability across major biological databases
    - OWL ontology framework supports automated reasoning and semantic validation of structural data

data_statistics:
  total_entries: 204594
  total_entities: 900000+
  experimental_method_distribution:
    x_ray_diffraction: 174904
    electron_microscopy: 15032
    solution_nmr: 13902
    electron_crystallography: 226
    neutron_diffraction: 212
    solid_state_nmr: 162
    solution_scattering: 77
    fiber_diffraction: 39
    powder_diffraction: 20
    epr: 8
  cross_reference_coverage:
    uniprot_refs: 352114
    uniprot_unique_entries: 189677
    genbank_refs: 5874
    emdb_structures: 15000+
    bmrb_nmr_structures: 1000+
  collaboration_metrics:
    max_authors_per_entry: 88
    entries_with_10plus_authors: 500+
    average_authors_per_entry: 4.2
  data_quality_metrics:
    entries_with_uniprot_refs_percent: 92.7
    entries_with_author_info_percent: 99.8
    entries_with_experimental_method_percent: 100.0
    entries_with_sequence_data_percent: 85.3