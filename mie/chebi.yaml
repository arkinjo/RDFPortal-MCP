schema_info:
  title: ChEBI (Chemical Entities of Biological Interest)
  description: |
    ChEBI is a comprehensive ontology database containing over 217,000 chemical entities of biological interest.
    Main entity types include small molecular entities, atoms, ions, functional groups, macromolecules, and chemical roles.
    Provides detailed molecular data (formula, mass, charge, InChI, SMILES), hierarchical classification via rdfs:subClassOf,
    cross-references to 20+ databases (KEGG, DrugBank, PubChem, HMDB, CAS, Wikipedia, etc.), and chemical relationships (conjugate acids/bases, tautomers, enantiomers).
    Primary use cases include chemical compound identification, classification, role-based searching, and integration across life sciences databases.
  endpoint: https://rdfportal.org/backend/ebi/sparql
  base_uri: http://purl.obolibrary.org/obo/CHEBI_
  graphs:
    - http://rdf.ebi.ac.uk/dataset/chebi
  version:
    mie_version: "1.0"
    mie_created: "2025-11-21"
    data_version: "Release 2025"
    update_frequency: "Monthly"
  license:
    data_license: "Creative Commons Attribution 4.0"
    license_url: "https://creativecommons.org/licenses/by/4.0/"
  access:
    rate_limiting: "100 queries/min"
    max_query_timeout: "60 seconds"

shape_expressions: |
  PREFIX owl: <http://www.w3.org/2002/07/owl#>
  PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
  PREFIX obo: <http://purl.obolibrary.org/obo/>
  PREFIX chebi: <http://purl.obolibrary.org/obo/chebi#>
  PREFIX oboInOwl: <http://www.geneontology.org/formats/oboInOwl#>
  PREFIX RO: <http://purl.obolibrary.org/obo/RO_>
  
  <ChemicalEntityShape> {
    a [ owl:Class ] ;
    rdfs:label xsd:string ;
    rdfs:subClassOf IRI * ;
    obo:IAO_0000115 xsd:string ? ;
    oboInOwl:id xsd:string ;
    oboInOwl:hasOBONamespace xsd:string ;
    oboInOwl:inSubset IRI * ;
    oboInOwl:hasDbXref xsd:string * ;
    oboInOwl:hasRelatedSynonym xsd:string * ;
    oboInOwl:hasExactSynonym xsd:string * ;
    chebi:formula xsd:string ? ;
    chebi:mass xsd:string ? ;
    chebi:charge xsd:string ? ;
    chebi:monoisotopicmass xsd:string ? ;
    chebi:smiles xsd:string ? ;
    chebi:inchi xsd:string ? ;
    chebi:inchikey xsd:string ? ;
    owl:deprecated xsd:boolean ? ;
    oboInOwl:hasAlternativeId xsd:string *
  }
  
  <ChemicalRestrictionShape> {
    a [ owl:Restriction ] ;
    owl:onProperty IRI ;
    owl:someValuesFrom IRI ?
  }
  
  <ChemicalRelationshipShape> {
    rdfs:subClassOf @<ChemicalRestrictionShape> ;
    owl:onProperty [ 
      chebi:has_role
      chebi:is_conjugate_acid_of
      chebi:is_conjugate_base_of
      chebi:is_tautomer_of
      chebi:is_enantiomer_of
      chebi:has_functional_parent
      chebi:has_parent_hydride
      RO:0000087
    ] ?
  }

sample_rdf_entries:
  - title: Small Molecule - Water
    description: Complete entry for water showing molecular structure, synonyms, and cross-references to external databases.
    rdf: |
      @prefix obo: <http://purl.obolibrary.org/obo/> .
      @prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
      @prefix owl: <http://www.w3.org/2002/07/owl#> .
      @prefix chebi: <http://purl.obolibrary.org/obo/chebi#> .
      @prefix oboInOwl: <http://www.geneontology.org/formats/oboInOwl#> .
      
      obo:CHEBI_15377 a owl:Class ;
        rdfs:label "water" ;
        rdfs:subClassOf obo:CHEBI_33693, obo:CHEBI_37176, obo:CHEBI_52625 ;
        obo:IAO_0000115 "An oxygen hydride consisting of an oxygen atom that is covalently bonded to two hydrogen atoms" ;
        oboInOwl:id "CHEBI:15377" ;
        oboInOwl:hasOBONamespace "chebi_ontology" ;
        oboInOwl:hasRelatedSynonym "H2O", "HOH", "aqua", "dihydrogen oxide" ;
        oboInOwl:hasDbXref "CAS:7732-18-5", "KEGG:C00001", "HMDB:HMDB0002111" ;
        chebi:formula "H2O" ;
        chebi:mass "18.01530" ;
        chebi:charge "0" ;
        chebi:smiles "[H]O[H]" ;
        chebi:inchi "InChI=1S/H2O/h1H2" ;
        chebi:inchikey "XLYOFNOQVPJJNP-UHFFFAOYSA-N" .

  - title: Amino Acid - L-proline  
    description: Proteinogenic amino acid with complete structural data and biological role annotations.
    rdf: |
      @prefix obo: <http://purl.obolibrary.org/obo/> .
      @prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
      @prefix owl: <http://www.w3.org/2002/07/owl#> .
      @prefix chebi: <http://purl.obolibrary.org/obo/chebi#> .
      @prefix oboInOwl: <http://www.geneontology.org/formats/oboInOwl#> .
      
      obo:CHEBI_17203 a owl:Class ;
        rdfs:label "L-proline" ;
        rdfs:subClassOf obo:CHEBI_26271, obo:CHEBI_83813, obo:CHEBI_15705, obo:CHEBI_24318 ;
        obo:IAO_0000115 "Pyrrolidine in which the pro-S hydrogen at position 2 is substituted by a carboxylic acid group..." ;
        oboInOwl:id "CHEBI:17203" ;
        oboInOwl:hasDbXref "CAS:147-85-3", "KEGG:C00148", "DrugBank:DB00172", "HMDB:HMDB0000162" ;
        chebi:formula "C5H9NO2" ;
        chebi:mass "115.13050" ;
        chebi:charge "0" ;
        chebi:smiles "OC(=O)[C@@H]1CCCN1" ;
        chebi:inchi "InChI=1S/C5H9NO2/c7-5(8)4-2-1-3-6-4/h4,6H,1-3H2,(H,7,8)/t4-/m0/s1" ;
        chebi:inchikey "ONIBWKKTOPOVIA-BYPYZUCNSA-N" .

  - title: Drug - Ciprofloxacin with Chemical Relationships
    description: Antibiotic showing conjugate base and tautomer relationships via OWL restrictions.
    rdf: |
      @prefix obo: <http://purl.obolibrary.org/obo/> .
      @prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
      @prefix owl: <http://www.w3.org/2002/07/owl#> .
      @prefix chebi: <http://purl.obolibrary.org/obo/chebi#> .
      
      obo:CHEBI_100241 a owl:Class ;
        rdfs:label "ciprofloxacin" ;
        rdfs:subClassOf obo:CHEBI_50030 ;
        rdfs:subClassOf [
          a owl:Restriction ;
          owl:onProperty chebi:is_conjugate_base_of ;
          owl:someValuesFrom obo:CHEBI_192486
        ] ;
        rdfs:subClassOf [
          a owl:Restriction ;
          owl:onProperty chebi:is_tautomer_of ;
          owl:someValuesFrom obo:CHEBI_192484
        ] ;
        rdfs:subClassOf [
          a owl:Restriction ;
          owl:onProperty <http://purl.obolibrary.org/obo/RO_0000087> ;
          owl:someValuesFrom obo:CHEBI_33281
        ] .

  - title: Atom - Phosphorus
    description: Element entry showing classification as nonmetal and pnictogen.
    rdf: |
      @prefix obo: <http://purl.obolibrary.org/obo/> .
      @prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
      @prefix owl: <http://www.w3.org/2002/07/owl#> .
      @prefix chebi: <http://purl.obolibrary.org/obo/chebi#> .
      @prefix oboInOwl: <http://www.geneontology.org/formats/oboInOwl#> .
      
      obo:CHEBI_28659 a owl:Class ;
        rdfs:label "phosphorus atom" ;
        rdfs:subClassOf obo:CHEBI_25585, obo:CHEBI_33300 ;
        oboInOwl:hasDbXref "CAS:7723-14-0", "KEGG:C06262", "Gmelin:16235" ;
        chebi:formula "P" ;
        chebi:mass "30.97376" ;
        chebi:charge "0" ;
        chebi:smiles "[P]" ;
        chebi:inchi "InChI=1S/P" ;
        chebi:inchikey "OAICVXFJPJFONN-UHFFFAOYSA-N" .

  - title: Lipid - Triolein
    description: Triglyceride with long SMILES and InChI strings showing complex molecular structure.
    rdf: |
      @prefix obo: <http://purl.obolibrary.org/obo/> .
      @prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
      @prefix owl: <http://www.w3.org/2002/07/owl#> .
      @prefix chebi: <http://purl.obolibrary.org/obo/chebi#> .
      @prefix oboInOwl: <http://www.geneontology.org/formats/oboInOwl#> .
      
      obo:CHEBI_53753 a owl:Class ;
        rdfs:label "triolein" ;
        rdfs:subClassOf obo:CHEBI_17855 ;
        obo:IAO_0000115 "A triglyceride formed by esterification of the three hydroxy groups of glycerol with oleic acid..." ;
        oboInOwl:hasDbXref "CAS:122-32-7", "HMDB:HMDB0005453", "LIPID_MAPS_instance:LMGL03010250" ;
        chebi:formula "C57H104O6" ;
        chebi:mass "885.43210" ;
        chebi:charge "0" ;
        chebi:smiles "CCCCCCCC\\C=C/CCCCCCCC(=O)OCC(COC(=O)CCCCCCC\\C=C/CCCCCCCC)OC(=O)CCCCCCC\\C=C/CCCCCCCC" ;
        chebi:inchi "InChI=1S/C57H104O6/c1-4-7-10-13-16-19-22-25-28-31-34-37-40-43-46-49-55(58)61-52-54(63-57(60)51-48-45-42-39-36-33-30-27-24-21-18-15-12-9-6-3)53-62-56(59)50-47-44-41-38-35-32-29-26-23-20-17-14-11-8-5-2/h25-30,54H,4-24,31-53H2,1-3H3/b28-25-,29-26-,30-27-" ;
        chebi:inchikey "PHYFQTYBJUILEZ-IUPFWZBJSA-N" .

sparql_query_examples:
  - title: Basic keyword search using bif:contains
    description: Find chemical entities by keyword with relevance scoring
    question: Find all chemical entities related to "glucose"
    complexity: basic
    sparql: |
      PREFIX owl: <http://www.w3.org/2002/07/owl#>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      SELECT ?entity ?label
      FROM <http://rdf.ebi.ac.uk/dataset/chebi>
      WHERE {
        ?entity a owl:Class .
        ?entity rdfs:label ?label .
        ?label bif:contains "'glucose'" option (score ?sc) .
      }
      ORDER BY DESC(?sc)
      LIMIT 20

  - title: Get molecular properties
    description: Retrieve formula, mass, and structure identifiers for a specific compound
    question: What are the molecular properties of aspirin (CHEBI:15365)?
    complexity: basic
    sparql: |
      PREFIX obo: <http://purl.obolibrary.org/obo/>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      PREFIX chebi: <http://purl.obolibrary.org/obo/chebi#>
      SELECT ?label ?formula ?mass ?charge ?smiles ?inchi ?inchikey
      FROM <http://rdf.ebi.ac.uk/dataset/chebi>
      WHERE {
        obo:CHEBI_15365 rdfs:label ?label .
        OPTIONAL { obo:CHEBI_15365 chebi:formula ?formula . }
        OPTIONAL { obo:CHEBI_15365 chebi:mass ?mass . }
        OPTIONAL { obo:CHEBI_15365 chebi:charge ?charge . }
        OPTIONAL { obo:CHEBI_15365 chebi:smiles ?smiles . }
        OPTIONAL { obo:CHEBI_15365 chebi:inchi ?inchi . }
        OPTIONAL { obo:CHEBI_15365 chebi:inchikey ?inchikey . }
      }

  - title: Search compounds by biological role
    description: Find chemicals with specific biological roles using RO_0000087 property
    question: Find all antibiotics with their biological roles
    complexity: intermediate
    sparql: |
      PREFIX owl: <http://www.w3.org/2002/07/owl#>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      SELECT ?entity ?label ?roleLabel
      FROM <http://rdf.ebi.ac.uk/dataset/chebi>
      WHERE {
        ?entity a owl:Class .
        ?entity rdfs:label ?label .
        ?label bif:contains "'antibiotic'" option (score ?sc) .
        ?entity rdfs:subClassOf ?restriction .
        ?restriction owl:onProperty <http://purl.obolibrary.org/obo/RO_0000087> .
        ?restriction owl:someValuesFrom ?role .
        ?role rdfs:label ?roleLabel .
      }
      ORDER BY DESC(?sc)
      LIMIT 20

  - title: Hierarchical classification query
    description: Navigate the chemical ontology hierarchy to find parent classes
    question: What are the parent classes of L-proline?
    complexity: intermediate
    sparql: |
      PREFIX obo: <http://purl.obolibrary.org/obo/>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      SELECT ?parent ?parentLabel
      FROM <http://rdf.ebi.ac.uk/dataset/chebi>
      WHERE {
        obo:CHEBI_17203 rdfs:subClassOf ?parent .
        FILTER(STRSTARTS(STR(?parent), "http://purl.obolibrary.org/obo/CHEBI_"))
        ?parent rdfs:label ?parentLabel .
      }

  - title: Find chemical relationships
    description: Query conjugate acid/base, tautomer, and enantiomer relationships
    question: Find chemicals and their conjugate bases
    complexity: intermediate
    sparql: |
      PREFIX owl: <http://www.w3.org/2002/07/owl#>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      PREFIX chebi: <http://purl.obolibrary.org/obo/chebi#>
      SELECT ?entity1 ?label1 ?entity2 ?label2
      FROM <http://rdf.ebi.ac.uk/dataset/chebi>
      WHERE {
        ?entity1 rdfs:subClassOf ?restriction .
        ?restriction owl:onProperty chebi:is_conjugate_acid_of .
        ?restriction owl:someValuesFrom ?entity2 .
        ?entity1 rdfs:label ?label1 .
        ?entity2 rdfs:label ?label2 .
      }
      LIMIT 20

  - title: Complex multi-property search with aggregation
    description: Find compounds by formula pattern and count cross-references
    question: Find all compounds containing carbon and oxygen with their database coverage
    complexity: advanced
    sparql: |
      PREFIX owl: <http://www.w3.org/2002/07/owl#>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      PREFIX chebi: <http://purl.obolibrary.org/obo/chebi#>
      PREFIX oboInOwl: <http://www.geneontology.org/formats/oboInOwl#>
      SELECT ?entity ?label ?formula (COUNT(?xref) as ?xrefCount)
      FROM <http://rdf.ebi.ac.uk/dataset/chebi>
      WHERE {
        ?entity a owl:Class .
        ?entity rdfs:label ?label .
        ?entity chebi:formula ?formula .
        FILTER(CONTAINS(?formula, "C") && CONTAINS(?formula, "O"))
        OPTIONAL { ?entity oboInOwl:hasDbXref ?xref . }
      }
      GROUP BY ?entity ?label ?formula
      HAVING (COUNT(?xref) > 5)
      LIMIT 20

  - title: Advanced filtering with boolean operators
    description: Complex keyword search excluding specific terms
    question: Find compounds related to "amyloid" but not "precursor" using boolean logic
    complexity: advanced
    sparql: |
      PREFIX owl: <http://www.w3.org/2002/07/owl#>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      PREFIX obo: <http://purl.obolibrary.org/obo/>
      SELECT ?entity ?label ?definition
      FROM <http://rdf.ebi.ac.uk/dataset/chebi>
      WHERE {
        ?entity a owl:Class .
        ?entity rdfs:label ?label .
        ?label bif:contains "('amyloid' AND NOT 'precursor')" option (score ?sc) .
        OPTIONAL { ?entity obo:IAO_0000115 ?definition . }
      }
      ORDER BY DESC(?sc)
      LIMIT 20

cross_references:
  - pattern: oboInOwl:hasDbXref
    description: |
      ChEBI provides extensive cross-references to external databases using the oboInOwl:hasDbXref property.
      Cross-references are stored as literal strings with prefix:id format (e.g., "KEGG:C00001", "CAS:50-78-2").
      Major databases include chemical registries, biological databases, literature references, and commercial databases.
    databases:
      Chemical_Registries:
        - CAS: Chemical Abstracts Service registry numbers
        - Beilstein: Beilstein database identifiers
        - Reaxys: Reaxys chemical database
        - Gmelin: Gmelin Handbook identifiers
      Biological_Databases:
        - KEGG: KEGG COMPOUND and DRUG identifiers
        - HMDB: Human Metabolome Database
        - DrugBank: DrugBank drug identifiers
        - PDBeChem: Protein Data Bank chemical component
        - MetaCyc: Metabolic pathway database
      Structure_Databases:
        - PubChem: PubChem Compound identifiers
        - ChEMBL: ChEMBL drug-like molecules
        - LIPID_MAPS_instance: LIPID MAPS structure database
        - Chemspider: ChemSpider identifiers
      Knowledge_Resources:
        - Wikipedia: Wikipedia article links
        - PMID: PubMed literature references
        - Patent: Patent numbers
      Specialized:
        - GlyTouCan: Glycan structure repository
        - KNApSAcK: Natural products database
        - Drug_Central: Drug information resource
    sparql: |
      PREFIX owl: <http://www.w3.org/2002/07/owl#>
      PREFIX oboInOwl: <http://www.geneontology.org/formats/oboInOwl#>
      SELECT ?entity ?label ?xref
      FROM <http://rdf.ebi.ac.uk/dataset/chebi>
      WHERE {
        ?entity a owl:Class .
        ?entity rdfs:label ?label .
        ?entity oboInOwl:hasDbXref ?xref .
        FILTER(STRSTARTS(?xref, "KEGG:") || STRSTARTS(?xref, "DrugBank:"))
      }
      LIMIT 100

architectural_notes:
  schema_design:
    - ChEBI uses OWL ontology structure with owl:Class for chemical entities
    - Hierarchical classification via rdfs:subClassOf for taxonomic relationships
    - Chemical relationships encoded as OWL restrictions (conjugate acids/bases, tautomers, enantiomers)
    - Biological roles linked via RO_0000087 (has_role) property through restrictions
    - Synonyms handled through oboInOwl:hasExactSynonym and oboInOwl:hasRelatedSynonym
  performance:
    - Use bif:contains for keyword searches with relevance scoring (more efficient than FILTER CONTAINS)
    - Filter by CHEBI_ URI prefix early to avoid processing non-entity classes
    - Limit results for large result sets to avoid timeouts
    - Cross-reference queries can be slow; filter by specific database prefix when possible
  data_integration:
    - Cross-references use literal strings requiring string parsing for integration
    - InChI and InChIKey provide standardized structure identifiers for exact matching
    - SMILES strings enable substructure and similarity searching in external tools
    - Alternative IDs (hasAlternativeId) track deprecated and merged entries
  data_quality:
    - Not all entities have molecular properties (formula, mass, SMILES, InChI)
    - Coverage: ~91% have labels, ~86% formulas, ~81% InChI, ~85% SMILES
    - Deprecated entities marked with owl:deprecated true
    - Some entities are abstract classes without molecular data (roles, groups)

data_statistics:
  total_chemical_entities: 217368
  total_owl_classes: 217368
  total_restrictions: 91781
  coverage:
    with_label: "~91% (198,788)"
    with_formula: "~86% (187,110)"
    with_inchi: "~81% (175,447)"
    with_smiles: "~85% (184,858)"
    with_mass: "~86% (186,172)"
    with_definition: "~25% (53,448)"
  cardinality:
    avg_dbxrefs_per_entity: 1.9
    avg_synonyms_per_entity: 1.2
    avg_parents_per_entity: 1.7
  performance_characteristics:
    - Keyword searches with bif:contains typically return in <2 seconds
    - Hierarchy traversal queries may timeout with deep recursion
    - Cross-reference aggregation can be slow for entities with many xrefs
    - Restriction-based queries (roles, relationships) are moderately expensive
  data_quality_notes:
    - 18,580 deprecated entities (owl:deprecated true)
    - Abstract classes lack molecular properties
    - Some formulas missing for complex macromolecules
    - Cross-reference coverage varies by database type

anti_patterns:
  - title: Using FILTER CONTAINS instead of bif:contains
    problem: FILTER CONTAINS is much slower and doesn't provide relevance scoring
    wrong_sparql: |
      SELECT ?entity ?label
      WHERE {
        ?entity rdfs:label ?label .
        FILTER(CONTAINS(LCASE(?label), "aspirin"))
      }
    correct_sparql: |
      SELECT ?entity ?label
      WHERE {
        ?entity rdfs:label ?label .
        ?label bif:contains "'aspirin'" option (score ?sc) .
      }
      ORDER BY DESC(?sc)
    explanation: bif:contains uses full-text indexing for faster searches and returns relevance scores

  - title: Accessing roles without handling restrictions
    problem: Roles are encoded as OWL restrictions, not direct properties
    wrong_sparql: |
      SELECT ?entity ?role
      WHERE {
        ?entity chebi:has_role ?role .
      }
    correct_sparql: |
      SELECT ?entity ?role
      WHERE {
        ?entity rdfs:subClassOf ?restriction .
        ?restriction owl:onProperty <http://purl.obolibrary.org/obo/RO_0000087> .
        ?restriction owl:someValuesFrom ?role .
      }
    explanation: ChEBI encodes has_role through OWL restrictions, not as direct triples

  - title: Not filtering non-ChEBI entities
    problem: Database contains ontology metadata and other OWL classes
    wrong_sparql: |
      SELECT ?entity ?label
      WHERE {
        ?entity a owl:Class .
        ?entity rdfs:label ?label .
      }
    correct_sparql: |
      SELECT ?entity ?label
      WHERE {
        ?entity a owl:Class .
        FILTER(STRSTARTS(STR(?entity), "http://purl.obolibrary.org/obo/CHEBI_"))
        ?entity rdfs:label ?label .
      }
    explanation: Filtering by CHEBI_ URI prefix ensures only chemical entities are returned

common_errors:
  - error: "503 Service Temporarily Unavailable"
    causes:
      - Temporary server overload
      - Complex query exceeding timeout
      - Too many concurrent requests
    solutions:
      - Retry query after brief delay
      - Simplify query by reducing LIMIT or narrowing filters
      - Split complex queries into multiple smaller queries

  - error: Empty result set when expecting molecular properties
    causes:
      - Querying abstract chemical classes (roles, groups)
      - Entity is deprecated or has incomplete data
      - Optional properties not present for this entity
    solutions:
      - Check if entity is deprecated (owl:deprecated true)
      - Verify entity type is a concrete molecular entity, not an abstract class
      - Use OPTIONAL for properties that may not exist
    example_fix: |
      # Check for deprecated status and missing data
      SELECT ?entity ?label ?formula (BOUND(?formula) as ?hasFormula) ?deprecated
      WHERE {
        ?entity rdfs:label ?label .
        OPTIONAL { ?entity chebi:formula ?formula . }
        OPTIONAL { ?entity owl:deprecated ?deprecated . }
      }

  - error: Chemical relationship queries return no results
    causes:
      - Using property directly instead of through restrictions
      - Wrong property URI or namespace
      - Relationship not encoded for this entity
    solutions:
      - Use OWL restriction pattern for chemical relationships
      - Verify property URI (chebi:is_conjugate_acid_of vs direct property)
      - Check if relationship exists using OPTIONAL
    example_fix: |
      # Correct pattern for finding conjugate bases
      SELECT ?acid ?base
      WHERE {
        ?acid rdfs:subClassOf ?restriction .
        ?restriction owl:onProperty <http://purl.obolibrary.org/obo/chebi#is_conjugate_acid_of> .
        ?restriction owl:someValuesFrom ?base .
      }
