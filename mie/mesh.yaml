schema_info:
  title: Medical Subject Headings (MeSH) RDF
  description: |
    National Library of Medicine's controlled vocabulary thesaurus for indexing biomedical literature in PubMed.
    Provides hierarchical medical concepts including descriptors (main subjects), qualifiers (subheadings), supplementary
    chemical and disease records. Organized in tree structure with 16 main categories covering anatomy, organisms, diseases,
    chemicals, techniques, and more. Essential for biomedical information retrieval and literature indexing.
  endpoint: https://rdfportal.org/primary/sparql
  base_uri: http://id.nlm.nih.gov/mesh/
  graphs:
    - http://id.nlm.nih.gov/mesh

shape_expressions: |
  PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
  PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
  PREFIX meshv: <http://id.nlm.nih.gov/mesh/vocab#>
  PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
  
  <TopicalDescriptor> {
    a [ meshv:TopicalDescriptor ] ;
    rdfs:label xsd:string ;
    meshv:active xsd:string ;
    meshv:identifier xsd:string ;
    meshv:preferredConcept IRI ? ;
    meshv:preferredTerm IRI ? ;
    meshv:broaderDescriptor IRI * ;
    meshv:treeNumber IRI * ;
    meshv:allowableQualifier IRI * ;
    meshv:concept IRI * ;
    meshv:dateCreated xsd:string ? ;
    meshv:dateEstablished xsd:string ? ;
    meshv:dateRevised xsd:string ? ;
    meshv:seeAlso IRI *
  }
  
  <Term> {
    a [ meshv:Term ] ;
    meshv:active xsd:string ;
    meshv:identifier xsd:string ;
    meshv:prefLabel xsd:string ;
    meshv:lexicalTag xsd:string ;
    meshv:altLabel xsd:string * ;
    meshv:dateCreated xsd:string ? ;
    meshv:thesaurusID xsd:string *
  }
  
  <Concept> {
    a [ meshv:Concept ] ;
    rdfs:label xsd:string ;
    meshv:active xsd:string ;
    meshv:identifier xsd:string ;
    meshv:preferredTerm IRI ;
    meshv:relatedConcept IRI * ;
    meshv:scopeNote xsd:string ?
  }
  
  <TreeNumber> {
    a [ meshv:TreeNumber ] ;
    rdfs:label xsd:string ;
    meshv:active xsd:string ;
    meshv:parentTreeNumber IRI ?
  }
  
  <Qualifier> {
    a [ meshv:Qualifier ] ;
    rdfs:label xsd:string ;
    meshv:active xsd:string ;
    meshv:identifier xsd:string ;
    meshv:annotation xsd:string ? ;
    meshv:concept IRI *
  }
  
  <SCR_Chemical> {
    a [ meshv:SCR_Chemical ] ;
    rdfs:label xsd:string ;
    meshv:active xsd:string ;
    meshv:identifier xsd:string ;
    meshv:preferredMappedTo IRI * ;
    meshv:registryNumber xsd:string * ;
    meshv:note xsd:string ?
  }

sample_rdf_entries:
  - title: Topical Descriptor with Hierarchy
    description: Disease descriptor with tree numbers and allowable qualifiers
    rdf: |
      mesh:D000130 a meshv:TopicalDescriptor ;
        rdfs:label "Achondroplasia" ;
        meshv:active "1" ;
        meshv:identifier "D000130" ;
        meshv:broaderDescriptor mesh:D010009 ;
        meshv:treeNumber mesh:C05.116.099.343.110 ;
        meshv:allowableQualifier mesh:Q000209 ;
        meshv:dateEstablished "1966-01-01" .

  - title: Term with Lexical Information
    description: Preferred term showing alternative labels
    rdf: |
      mesh:T000387 a meshv:Term ;
        meshv:active "1" ;
        meshv:identifier "T000387" ;
        meshv:prefLabel "Achondroplasia" ;
        meshv:altLabel "Achondroplasias" ;
        meshv:lexicalTag "NON" ;
        meshv:thesaurusID "NLM (1966)" .

  - title: Concept with Scope Note
    description: Semantic concept with detailed medical definition
    rdf: |
      mesh:M0000205 a meshv:Concept ;
        rdfs:label "Achondroplasia" ;
        meshv:active "1" ;
        meshv:identifier "M0000205" ;
        meshv:preferredTerm mesh:T000387 ;
        meshv:scopeNote "An autosomal dominant disorder that is the most frequent form of short-limb dwarfism." .

  - title: Hierarchical Tree Number
    description: Tree position showing parent-child relationship
    rdf: |
      mesh:C05.116.099.343.110 a meshv:TreeNumber ;
        rdfs:label "C05.116.099.343.110" ;
        meshv:active "1" ;
        meshv:parentTreeNumber mesh:C05.116.099.343 .

  - title: Chemical Supplementary Record
    description: Chemical substance with mapping to descriptor
    rdf: |
      mesh:C008242 a meshv:SCR_Chemical ;
        rdfs:label "lactacyd" ;
        meshv:active "1" ;
        meshv:identifier "C008242" ;
        meshv:preferredMappedTo mesh:D007106 ;
        meshv:note "lactoserum-lactic acid compound soap" .

sparql_query_examples:
  - title: Find Main Descriptors
    description: Retrieve medical subject headings with identifiers
    question: What are MeSH descriptors?
    complexity: basic
    sparql: |
      PREFIX meshv: <http://id.nlm.nih.gov/mesh/vocab#>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      SELECT ?descriptor ?label ?identifier
      FROM <http://id.nlm.nih.gov/mesh>
      WHERE {
        ?descriptor a meshv:TopicalDescriptor ;
                    rdfs:label ?label ;
                    meshv:identifier ?identifier .
      }
      LIMIT 50

  - title: Search by Keyword
    description: Find descriptors containing specific medical terms
    question: Which descriptors relate to diabetes?
    complexity: basic
    sparql: |
      PREFIX meshv: <http://id.nlm.nih.gov/mesh/vocab#>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      SELECT ?descriptor ?label
      FROM <http://id.nlm.nih.gov/mesh>
      WHERE {
        ?descriptor a meshv:TopicalDescriptor ;
                    rdfs:label ?label .
        FILTER(CONTAINS(LCASE(?label), "diabetes"))
      }
      LIMIT 30

  - title: Get Hierarchical Relationships
    description: Find parent-child relationships between descriptors
    question: What is the hierarchy for a concept?
    complexity: intermediate
    sparql: |
      PREFIX meshv: <http://id.nlm.nih.gov/mesh/vocab#>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      SELECT ?concept ?label ?broader ?broaderLabel
      FROM <http://id.nlm.nih.gov/mesh>
      WHERE {
        ?concept a meshv:TopicalDescriptor ;
                 rdfs:label ?label ;
                 meshv:broaderDescriptor ?broader .
        ?broader rdfs:label ?broaderLabel .
      }
      LIMIT 50

  - title: Find Chemical Substances
    description: Retrieve supplementary chemical records
    question: What chemicals are indexed?
    complexity: intermediate
    sparql: |
      PREFIX meshv: <http://id.nlm.nih.gov/mesh/vocab#>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      SELECT ?chemical ?label ?registryNum
      FROM <http://id.nlm.nih.gov/mesh>
      WHERE {
        ?chemical a meshv:SCR_Chemical ;
                  rdfs:label ?label .
        OPTIONAL { ?chemical meshv:registryNumber ?registryNum }
      }
      LIMIT 50

  - title: Explore Tree Categories
    description: Get top-level MeSH tree categories
    question: What are main classification categories?
    complexity: intermediate
    sparql: |
      PREFIX meshv: <http://id.nlm.nih.gov/mesh/vocab#>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      SELECT DISTINCT ?label
      FROM <http://id.nlm.nih.gov/mesh>
      WHERE {
        ?descriptor meshv:treeNumber ?tree .
        ?tree rdfs:label ?label .
        FILTER(REGEX(?label, "^[A-Z][0-9]{2}$"))
      }
      ORDER BY ?label

  - title: Get Allowable Qualifiers
    description: Find qualifiers that can modify descriptors
    question: What qualifiers are available?
    complexity: basic
    sparql: |
      PREFIX meshv: <http://id.nlm.nih.gov/mesh/vocab#>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      SELECT ?qualifier ?label ?annotation
      FROM <http://id.nlm.nih.gov/mesh>
      WHERE {
        ?qualifier a meshv:Qualifier ;
                   rdfs:label ?label .
        OPTIONAL { ?qualifier meshv:annotation ?annotation }
      }
      ORDER BY ?label

  - title: Chemical-Descriptor Mappings
    description: Map chemicals to main descriptors
    question: How do chemicals relate to descriptors?
    complexity: advanced
    sparql: |
      PREFIX meshv: <http://id.nlm.nih.gov/mesh/vocab#>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      SELECT ?chemical ?chemLabel ?descriptor ?descLabel
      FROM <http://id.nlm.nih.gov/mesh>
      WHERE {
        ?chemical a meshv:SCR_Chemical ;
                  rdfs:label ?chemLabel ;
                  meshv:preferredMappedTo ?descriptor .
        ?descriptor rdfs:label ?descLabel .
      }
      LIMIT 50

cross_references:
  - title: Chemical to Descriptor Mappings
    description: Link chemicals to medical concepts via preferredMappedTo
    complexity: intermediate
    sparql: |
      PREFIX meshv: <http://id.nlm.nih.gov/mesh/vocab#>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      SELECT ?chemical ?chemName ?descriptor ?descName
      FROM <http://id.nlm.nih.gov/mesh>
      WHERE {
        ?chemical a meshv:SCR_Chemical ;
                  rdfs:label ?chemName ;
                  meshv:preferredMappedTo ?descriptor .
        ?descriptor rdfs:label ?descName .
      }
      LIMIT 50

  - title: See Also Relationships
    description: Find related descriptors through cross-references
    complexity: basic
    sparql: |
      PREFIX meshv: <http://id.nlm.nih.gov/mesh/vocab#>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      SELECT ?source ?sourceLabel ?related ?relatedLabel
      FROM <http://id.nlm.nih.gov/mesh>
      WHERE {
        ?source a meshv:TopicalDescriptor ;
                rdfs:label ?sourceLabel ;
                meshv:seeAlso ?related .
        ?related rdfs:label ?relatedLabel .
      }
      LIMIT 50

  - title: Concept Relationships
    description: Map related concepts showing semantic connections
    complexity: intermediate
    sparql: |
      PREFIX meshv: <http://id.nlm.nih.gov/mesh/vocab#>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      SELECT ?concept1 ?label1 ?concept2 ?label2
      FROM <http://id.nlm.nih.gov/mesh>
      WHERE {
        ?concept1 a meshv:Concept ;
                  rdfs:label ?label1 ;
                  meshv:relatedConcept ?concept2 .
        ?concept2 rdfs:label ?label2 .
      }
      LIMIT 50

architectural_notes:
  schema_design:
    - Multi-layered structure with Descriptors, Concepts, and Terms
    - Tree numbers provide hierarchical alphanumeric classification
    - Qualifiers allow precise aspect specification (etiology, therapy, etc.)
    - Supplementary records handle specific substances not warranting full descriptors
  
  performance:
    - Tree queries benefit from regex filtering on specific patterns
    - Use LIMIT clauses for large result sets (2.5M total entities)
    - Mapping queries can be resource-intensive (428K preferredMappedTo)
    - Case-insensitive searches use LCASE() and CONTAINS()
  
  data_integration:
    - MeSH identifiers (D, Q, C prefixes) provide stable cross-references
    - Tree numbers enable hierarchical browsing
    - Qualifier-descriptor combinations support literature indexing
    - Date properties track vocabulary evolution
  
  data_quality:
    - Annual updates with new descriptors and revisions
    - Active status field indicates current validity
    - Alternative IDs preserve historical references
    - Scope notes provide detailed medical definitions

data_statistics:
  total_entities: 2456909
  topical_descriptors: 30248
  terms: 869536
  concepts: 466976
  chemicals: 250445
  qualifiers: 84
  
  indexed_properties:
    - meshv:identifier
    - rdfs:label
    - meshv:treeNumber
    - meshv:preferredMappedTo
  
  key_relationships:
    preferred_mappings: 428906
    allowable_qualifiers: 628088