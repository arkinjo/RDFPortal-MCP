schema_info:
  title: BacDive
  description: |
    BacDive (the Bacterial Diversity metadatabase) is a comprehensive resource containing detailed 
    information about bacterial and archaeal strains. It provides taxonomic classification, 
    morphological and physiological characteristics, culture conditions, enzyme activities, 
    sequence data, and geographic/ecological information for over 97,000 microbial strains. 
    The database serves as a central hub for microbial strain data, integrating information 
    from culture collections worldwide and scientific literature.
  endpoint: https://rdfportal.org/primary/sparql
  base_uri: https://purl.dsmz.de/
  graphs:
    - http://rdfportal.org/dataset/bacdive

shape_expressions: |
  PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
  PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
  PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
  PREFIX dct: <http://purl.org/dc/terms/>
  PREFIX schema: <https://purl.dsmz.de/schema/>
  
  <StrainShape> {
    a [ schema:Strain ] ;
    rdfs:label xsd:string ;
    rdfs:hasScientificName xsd:string ? ;
    dct:description xsd:string ? ;
    schema:hasBacDiveID xsd:integer ;
    schema:hasDomain xsd:string ? ;
    schema:hasPhylum xsd:string ? ;
    schema:hasClass xsd:string ? ;
    schema:hasOrder xsd:string ? ;
    schema:hasFamily xsd:string ? ;
    schema:hasGenus xsd:string ;
    schema:hasSpecies xsd:string ;
    schema:hasSpeciesEpithet xsd:string ? ;
    schema:hasDesignation xsd:string ? ;
    schema:hasStrainNames . * ;
    schema:hasStrainNumber xsd:string ? ;
    schema:hasTaxID . ? ;                     # Mixed types (integer/string)
    schema:hasTaxonomicRank xsd:string * ;
    schema:isTypeStrain xsd:boolean ? ;
    schema:matchesTaxIDLevel xsd:string ? ;
    schema:hasReference @<ReferenceShape> *
  }
  
  <CellMotilityShape> {
    a [ schema:CellMotility schema:MicrobialPhenotype schema:Phenotype ] ;
    rdfs:label xsd:boolean ? ;
    schema:describesStrain @<StrainShape> ;
    schema:hasPhenotypeInformation xsd:boolean ? ;
    schema:hasReference @<ReferenceShape> * ;
    schema:isMotile xsd:boolean ?
  }
  
  <CellShapeShape> {
    a [ schema:CellMorphology schema:CellShape schema:Phenotype ] ;
    rdfs:label xsd:string ? ;
    schema:describesStrain @<StrainShape> ;
    schema:hasReference @<ReferenceShape> *
  }
  
  <CellSizeShape> {
    a [ schema:CellMorphology schema:CellSize schema:MicrobialPhenotype schema:Phenotype ] ;
    rdfs:label xsd:string ? ;
    schema:describesStrain @<StrainShape> ;
    schema:hasLength xsd:string ? ;
    schema:hasLengthRangeEnd xsd:float ? ;
    schema:hasLengthRangeStart xsd:float ? ;
    schema:hasLengthUnit xsd:string ? ;
    schema:hasPhenotypeInformation xsd:float ? ;
    schema:hasReference @<ReferenceShape> * ;
    schema:hasWidth xsd:float ? ;
    schema:hasWidthRangeEnd xsd:float ? ;
    schema:hasWidthRangeStart xsd:float ? ;
    schema:hasWidthUnit xsd:string ?
  }
  
  <ColonyMorphologyShape> {
    a [ schema:ColonyMorphology schema:MicrobialPhenotype schema:Phenotype ] ;
    schema:describesStrain @<StrainShape> ;
    schema:hasColonyColor xsd:string ? ;
    schema:hasColonyLength xsd:string ? ;
    schema:hasColonyLengthRangeEnd xsd:float ? ;
    schema:hasColonyLengthRangeStart xsd:float ? ;
    schema:hasColonyMorphologyInformation xsd:string ? ;
    schema:hasGrowthInformation . ? ;
    schema:hasIncubationInformation xsd:string ? ;
    schema:hasIncubationPeriod xsd:string ? ;
    schema:hasIncubationPeriodRangeEnd xsd:float ? ;
    schema:hasIncubationPeriodRangeStart xsd:float ? ;
    schema:hasMediumComposition . ? ;
    schema:hasColonyShape xsd:string ? ;
    schema:hasReference @<ReferenceShape> *
  }
  
  <CultureCollectionNumberShape> {
    a [ schema:CultureCollectionNumber schema:Identifier schema:OrganismIdentifier schema:StrainNumber ] ;
    rdfs:label xsd:string ;
    schema:describesStrain @<StrainShape> ;
    schema:hasLink IRI ? ;
    schema:hasReference @<ReferenceShape> *
  }
  
  <CultureMediumShape> {
    a [ schema:ConceptualEntity schema:CultureCondition schema:CultureMedium ] ;
    rdfs:label xsd:string ? ;
    schema:describesStrain @<StrainShape> ;
    schema:hasGrowthInformation xsd:boolean ? ;
    schema:hasMediaDiveID xsd:string ? ;
    schema:hasMediaLink IRI ? ;
    schema:hasMediumGrowth xsd:boolean ? ;
    schema:hasReference @<ReferenceShape> * ;
    schema:providedBy xsd:string ?
  }
  
  <CulturePHShape> {
    a [ schema:ConceptualEntity schema:CultureCondition schema:CulturePH ] ;
    rdfs:label xsd:string ? ;
    schema:describesStrain @<StrainShape> ;
    schema:hasGrowthInformation xsd:string ? ;
    schema:hasPHRangeEnd xsd:float ? ;
    schema:hasPHRangeStart xsd:float ? ;
    schema:hasReference @<ReferenceShape> * ;
    schema:hasTestAbility xsd:string ? ;
    schema:hasTestType xsd:string ?
  }
  
  <CultureTempShape> {
    a [ schema:ConceptualEntity schema:CultureCondition schema:CultureTemperature ] ;
    rdfs:label xsd:string ? ;
    schema:describesStrain @<StrainShape> ;
    schema:growthObserved xsd:string ? ;
    schema:hasGrowthInformation xsd:float ? ;
    schema:hasReference @<ReferenceShape> * ;
    schema:hasTemperatureRangeEnd xsd:float ? ;
    schema:hasTemperatureRangeStart xsd:float ? ;
    schema:hasTestType xsd:string ?
  }
  
  <EnzymeShape> {
    a [ schema:Enzyme schema:GeneProduct schema:Protein ] ;
    rdfs:label xsd:string ? ;
    schema:describesStrain @<StrainShape> ;
    schema:hasActivity xsd:string ? ;           # Typically "+" or "-"
    schema:hasECNumber xsd:string ? ;
    schema:hasEnzyme xsd:string ? ;
    schema:hasReference @<ReferenceShape> *
  }
  
  <GCContentShape> {
    a [ schema:GCContent schema:MolecularProperty schema:PropertyOrAttribute ] ;
    rdfs:label xsd:string ? ;
    schema:describesStrain @<StrainShape> ;
    schema:hasGCContentRangeEnd xsd:float ? ;
    schema:hasGCContentRangeStart xsd:float ? ;
    schema:hasGCInformation xsd:float ? ;
    schema:hasGCMethod xsd:string ? ;
    schema:hasReference @<ReferenceShape> *
  }
  
  <GramStainShape> {
    a [ schema:CellMorphology schema:GramStain schema:MicrobialPhenotype schema:Phenotype ] ;
    rdfs:label xsd:string ? ;
    schema:describesStrain @<StrainShape> ;
    schema:hasGramStain xsd:string ;           # "positive", "negative", or "variable"
    schema:hasPhenotypeInformation xsd:string ? ;
    schema:hasReference @<ReferenceShape> *
  }
  
  <HalophilyShape> {
    a [ schema:MetabolicPhenotype schema:Phenotype schema:SaltTolerance ] ;
    schema:describesStrain @<StrainShape> ;
    schema:hasReference @<ReferenceShape> *
  }
  
  <IsolationShape> {
    a [ schema:IsolationInformation schema:IsolationSource schema:Origin ] ;
    rdfs:label xsd:string ? ;
    schema:describesStrain @<StrainShape>
  }
  
  <LocationShape> {
    a [ schema:LocationOfOrigin schema:Origin ] ;
    rdfs:label xsd:string ? ;
    schema:describesStrain @<StrainShape> ;
    schema:hasCountry xsd:string ? ;
    schema:hasLatitude xsd:float ? ;
    schema:hasLocation xsd:float ? ;
    schema:hasLongitude xsd:float ?
  }
  
  <OxygenToleranceShape> {
    a [ schema:MetabolicPhenotype schema:OxygenTolerance schema:Phenotype ] ;
    schema:describesStrain @<StrainShape> ;
    schema:hasGrowthInformation xsd:string ? ;
    schema:hasOxygenTolerance xsd:string ? ;
    schema:hasReference @<ReferenceShape> *
  }
  
  <RiskAssessmentShape> {
    a [ schema:RiskAssessment ] ;
    rdfs:comment xsd:string ? ;
    rdfs:label xsd:string ? ;
    schema:describesStrain @<StrainShape> ;
    schema:hasBiosafetyLevel xsd:string ? ;
    schema:hasReference @<ReferenceShape> *
  }
  
  <Sequence16SShape> {
    a [ schema:16SSequence schema:NucleotideSequence schema:RNASequence schema:rRNASequence ] ;
    rdfs:label xsd:string ? ;
    schema:describesStrain @<StrainShape> ;
    schema:fromSequenceDB xsd:string ? ;
    schema:hasReference @<ReferenceShape> * ;
    schema:hasSequenceAccession xsd:string ? ;
    schema:hasSequenceInformation xsd:string ? ;
    schema:hasSequenceLength xsd:integer ? ;
    schema:hasTaxID xsd:integer ?
  }
  
  <SequenceGenomesShape> {
    a [ schema:DNASequence schema:GenomeSequence schema:NucleotideSequence ] ;
    rdfs:label xsd:string ? ;
    schema:describesStrain @<StrainShape> ;
    schema:fromSequenceDB xsd:string ? ;
    schema:hasAssemblyLevel xsd:string ? ;
    schema:hasReference @<ReferenceShape> * ;
    schema:hasSequenceAccession xsd:string ? ;
    schema:hasSequenceInformation xsd:string ? ;
    schema:hasTaxID xsd:integer ?
  }
  
  <StrainDesignationShape> {
    a [ schema:Identifier schema:OrganismIdentifier schema:StrainDesignation schema:StrainNumber ] ;
    rdfs:label xsd:string ? ;
    schema:describesStrain @<StrainShape> ;
    schema:hasReference @<ReferenceShape> *
  }
  
  <ReferenceShape> {
    a [ schema:Reference ] ;
    dct:creator xsd:string ? ;
    rdfs:seeAlso IRI ? ;
    schema:hasBibliographicInformation xsd:string ? ;
    schema:hasCatalogueID xsd:string ? ;
    schema:hasCatalogueInformation xsd:string ? ;
    schema:hasCatalogueInstitution xsd:string ? ;
    schema:hasDocumentType xsd:string ?
  }
  
  <PathogenicityShape> {
    a [ schema:ConceptualEntity schema:Pathogenicity ] ;
    schema:describesStrain @<StrainShape> ;
    schema:hasReference @<ReferenceShape> * ;
    schema:isAnimalPathogen xsd:string ? ;
    schema:isHumanPathogen xsd:string ? ;
    schema:isPathogen xsd:string ? ;
    schema:isPlantPathogen xsd:string ?
  }
  
  <PigmentationShape> {
    a [ schema:CellMorphology schema:CellPigmentation schema:MicrobialPhenotype schema:Phenotype ] ;
    rdfs:label xsd:string ? ;
    schema:describesStrain @<StrainShape> ;
    schema:hasPigmentInformation xsd:boolean ? ;
    schema:hasPigmentName xsd:string ? ;
    schema:hasPigmentProduction xsd:boolean ? ;
    schema:hasReference @<ReferenceShape> *
  }
  
  <SporeFormationShape> {
    a [ schema:MicrobialPhenotype schema:Phenotype schema:SporeFormation ] ;
    rdfs:comment xsd:string ? ;
    rdfs:label xsd:string ? ;
    schema:describesStrain @<StrainShape> ;
    schema:hasAbility xsd:boolean ? ;
    schema:hasReference @<ReferenceShape> *
  }

sample_rdf_entries:
  - title: Core Bacterial Strain Entity
    description: Complete strain record with taxonomic classification and metadata
    rdf: |
      @prefix schema: <https://purl.dsmz.de/schema/> .
      @prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
      @prefix dct: <http://purl.org/dc/terms/> .
      
      <https://purl.dsmz.de/bacdive/strain/187> a schema:Strain ;
          rdfs:label "Actinomyces oricola 187" ;
          dct:description "Actinomyces oricola R5292 is an anaerobe, mesophilic, Gram-positive human pathogen that was isolated from human, dental abscess." ;
          rdfs:hasScientificName "Actinomyces oricola Hall et al. 2003" ;
          schema:hasBacDiveID 187 ;
          schema:hasTaxID 206043 ;
          schema:hasTaxID "species" ;
          schema:hasDomain "Bacteria" ;
          schema:hasPhylum "Actinobacteria" ;
          schema:hasClass "Actinobacteria" ;
          schema:hasOrder "Actinomycetales" ;
          schema:hasFamily "Actinomycetaceae" ;
          schema:hasGenus "Actinomyces" ;
          schema:hasSpecies "Actinomyces oricola" ;
          schema:hasSpeciesEpithet "oricola" ;
          schema:hasDesignation "R5292" ;
          schema:hasStrainNames "R5292", "KCTC 15234, DSM 17234, CCUG 46090, CIP 107639, Hall R5292, JCM 17565" ;
          schema:isTypeStrain true ;
          schema:hasReference <https://purl.dsmz.de/bacdive/reference/6830> .
  
  - title: Enzyme Activity Record
    description: Enzyme activity data with EC number and activity status
    rdf: |
      @prefix schema: <https://purl.dsmz.de/schema/> .
      @prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
      
      <https://purl.dsmz.de/bacdive/enzyme/100> a schema:Enzyme, schema:Protein, schema:GeneProduct ;
          rdfs:label "alkaline phosphatase" ;
          schema:describesStrain <https://purl.dsmz.de/bacdive/strain/3166> ;
          schema:hasActivity "-" ;
          schema:hasECNumber "3.1.3.1" .
      
      <https://purl.dsmz.de/bacdive/enzyme/1000> a schema:Enzyme, schema:Protein, schema:GeneProduct ;
          rdfs:label "catalase" ;
          schema:describesStrain <https://purl.dsmz.de/bacdive/strain/130644> ;
          schema:hasActivity "+" ;
          schema:hasECNumber "1.11.1.6" .
  
  - title: 16S rRNA Sequence Data
    description: 16S ribosomal RNA sequence information with external database links
    rdf: |
      @prefix schema: <https://purl.dsmz.de/schema/> .
      
      <https://purl.dsmz.de/bacdive/sequence_16S/AB626631> a schema:16SSequence, schema:NucleotideSequence, schema:RNASequence, schema:rRNASequence ;
          schema:describesStrain <https://purl.dsmz.de/bacdive/strain/187> ;
          schema:hasSequenceAccession "AB626631" ;
          schema:hasSequenceLength 1346 ;
          schema:fromSequenceDB "ena" ;
          schema:hasTaxID 206043 .
      
      <https://purl.dsmz.de/bacdive/sequence_genomes/GCA_004104015> a schema:DNASequence, schema:GenomeSequence, schema:NucleotideSequence ;
          schema:describesStrain <https://purl.dsmz.de/bacdive/strain/187> ;
          schema:hasSequenceAccession "GCA_004104015" ;
          schema:hasAssemblyLevel "complete" ;
          schema:fromSequenceDB "ncbi" .
  
  - title: Phenotypic Characteristics
    description: Gram staining and morphological properties
    rdf: |
      @prefix schema: <https://purl.dsmz.de/schema/> .
      @prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
      
      <https://purl.dsmz.de/bacdive/gram_strain/106> a schema:GramStain, schema:CellMorphology, schema:MicrobialPhenotype, schema:Phenotype ;
          rdfs:label "Gram positive" ;
          schema:describesStrain <https://purl.dsmz.de/bacdive/strain/187> ;
          schema:hasGramStain "positive" ;
          schema:hasPhenotypeInformation "positive" .
      
      <https://purl.dsmz.de/bacdive/cell_motility/106> a schema:CellMotility, schema:MicrobialPhenotype, schema:Phenotype ;
          schema:describesStrain <https://purl.dsmz.de/bacdive/strain/187> ;
          schema:isMotile false .
  
  - title: Culture Collection Cross-Reference
    description: External culture collection identifiers with direct links
    rdf: |
      @prefix schema: <https://purl.dsmz.de/schema/> .
      @prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
      @prefix dct: <http://purl.org/dc/terms/> .
      
      <https://purl.dsmz.de/bacdive/culture_collection_number/9542> a schema:CultureCollectionNumber, schema:Identifier, schema:OrganismIdentifier, schema:StrainNumber ;
          rdfs:label "DSM 51003" ;
          schema:describesStrain <https://purl.dsmz.de/bacdive/strain/3549> ;
          schema:hasLink <https://www.dsmz.de/collection/catalogue/details/culture/DSM-51003> .
      
      <https://purl.dsmz.de/bacdive/reference/115969> a schema:Reference ;
          dct:creator "Curators of the CIP" ;
          schema:hasDocumentType "catalogue" ;
          schema:hasCatalogueID "CIP 111405" .

sparql_query_examples:
  - title: Basic Strain Retrieval
    description: Retrieve basic information about bacterial strains including taxonomy
    question: What are the genus, species, and phylum of strains in BacDive?
    complexity: basic
    sparql: |
      PREFIX schema: <https://purl.dsmz.de/schema/>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      
      SELECT ?strain ?label ?genus ?species ?phylum
      FROM <http://rdfportal.org/dataset/bacdive>
      WHERE {
        ?strain a schema:Strain ;
                rdfs:label ?label ;
                schema:hasGenus ?genus ;
                schema:hasSpecies ?species ;
                schema:hasPhylum ?phylum .
      }
      LIMIT 10
  
  - title: Gram Stain Filtering
    description: Find strains with their Gram staining characteristics
    question: Which strains are Gram-positive or Gram-negative?
    complexity: basic
    sparql: |
      PREFIX schema: <https://purl.dsmz.de/schema/>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      
      SELECT ?strain ?label ?genus ?species ?gramStain
      FROM <http://rdfportal.org/dataset/bacdive>
      WHERE {
        ?strain a schema:Strain ;
                rdfs:label ?label ;
                schema:hasGenus ?genus ;
                schema:hasSpecies ?species .
        ?gram a schema:GramStain ;
              schema:describesStrain ?strain ;
              schema:hasGramStain ?gramStain .
      }
      LIMIT 20
  
  - title: Taxonomic Distribution
    description: Count strains by phylum to understand taxonomic diversity
    question: How many strains belong to each bacterial phylum?
    complexity: intermediate
    sparql: |
      PREFIX schema: <https://purl.dsmz.de/schema/>
      
      SELECT ?phylum (COUNT(DISTINCT ?strain) as ?strainCount)
      FROM <http://rdfportal.org/dataset/bacdive>
      WHERE {
        ?strain a schema:Strain ;
                schema:hasPhylum ?phylum .
      }
      GROUP BY ?phylum
      ORDER BY DESC(?strainCount)
  
  - title: Thermophile Discovery
    description: Find strains that grow at high temperatures with culture conditions
    question: Which strains can grow at temperatures above 70°C?
    complexity: intermediate
    sparql: |
      PREFIX schema: <https://purl.dsmz.de/schema/>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      
      SELECT ?strain ?genus ?species ?tempStart ?tempEnd
      FROM <http://rdfportal.org/dataset/bacdive>
      WHERE {
        ?strain a schema:Strain ;
                schema:hasGenus ?genus ;
                schema:hasSpecies ?species .
        ?temp a schema:CultureTemperature ;
              schema:describesStrain ?strain ;
              schema:hasTemperatureRangeStart ?tempStart ;
              schema:hasTemperatureRangeEnd ?tempEnd .
        FILTER(?tempStart >= 70 || ?tempEnd >= 70)
      }
      ORDER BY DESC(?tempStart)
      LIMIT 10
  
  - title: Enzyme Activity Analysis
    description: Analyze enzyme activities across different bacterial genera
    question: What enzymes are commonly found in Escherichia species?
    complexity: intermediate
    sparql: |
      PREFIX schema: <https://purl.dsmz.de/schema/>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      
      SELECT ?enzymeName ?ecNumber (COUNT(?strain) as ?strainCount)
      FROM <http://rdfportal.org/dataset/bacdive>
      WHERE {
        ?strain a schema:Strain ;
                schema:hasGenus "Escherichia" .
        ?enzyme a schema:Enzyme ;
                schema:describesStrain ?strain ;
                rdfs:label ?enzymeName ;
                schema:hasActivity "+" .
        OPTIONAL { ?enzyme schema:hasECNumber ?ecNumber }
      }
      GROUP BY ?enzymeName ?ecNumber
      ORDER BY DESC(?strainCount)
      LIMIT 20
  
  - title: Sequence Data Integration
    description: Complex query combining 16S rRNA and genome sequence information
    question: Which strains have both 16S sequences and genome assemblies?
    complexity: advanced
    sparql: |
      PREFIX schema: <https://purl.dsmz.de/schema/>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      
      SELECT ?strain ?label ?seqAccession ?seqLength ?genomeAccession ?assemblyLevel
      FROM <http://rdfportal.org/dataset/bacdive>
      WHERE {
        ?strain a schema:Strain ;
                rdfs:label ?label .
        ?seq16s a schema:16SSequence ;
                schema:describesStrain ?strain ;
                schema:hasSequenceAccession ?seqAccession ;
                schema:hasSequenceLength ?seqLength .
        ?genome a schema:GenomeSequence ;
                schema:describesStrain ?strain ;
                schema:hasSequenceAccession ?genomeAccession .
        OPTIONAL { ?genome schema:hasAssemblyLevel ?assemblyLevel }
      }
      ORDER BY ?label
      LIMIT 10
  
  - title: Geographic and Ecological Analysis
    description: Multi-entity query linking strains, locations, and isolation sources
    question: What bacterial strains have been isolated from specific geographic locations with coordinates?
    complexity: advanced
    sparql: |
      PREFIX schema: <https://purl.dsmz.de/schema/>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      
      SELECT ?strain ?genus ?species ?country ?latitude ?longitude ?isolation
      FROM <http://rdfportal.org/dataset/bacdive>
      WHERE {
        ?strain a schema:Strain ;
                schema:hasGenus ?genus ;
                schema:hasSpecies ?species .
        ?location a schema:LocationOfOrigin ;
                  schema:describesStrain ?strain ;
                  schema:hasCountry ?country ;
                  schema:hasLatitude ?latitude ;
                  schema:hasLongitude ?longitude .
        OPTIONAL {
          ?iso a schema:IsolationInformation ;
               schema:describesStrain ?strain ;
               rdfs:label ?isolation .
        }
        FILTER(bound(?latitude) && bound(?longitude))
      }
      ORDER BY ?country ?genus
      LIMIT 15

cross_references:
  - pattern: schema:hasLink (Culture Collection Numbers)
    description: |
      Culture collection identifiers provide direct links to strain repositories worldwide.
      These are stored as CultureCollectionNumber entities with hasLink property pointing to collection URLs.
    databases:
      major_collections:
        - DSMZ (German Collection): DSM numbers, >99% have links
        - ATCC (American Type Culture Collection): ATCC numbers
        - KCTC (Korean Collection): KCTC numbers
        - JCM (Japan Collection): JCM numbers
        - CCUG (Culture Collection University of Göteborg): CCUG numbers
        - CIP (Institut Pasteur Collection): CIP numbers
    complexity: basic
    sparql: |
      PREFIX schema: <https://purl.dsmz.de/schema/>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      
      SELECT ?strain ?collectionNumber ?link ?genus ?species
      FROM <http://rdfportal.org/dataset/bacdive>
      WHERE {
        ?strain a schema:Strain ;
                schema:hasGenus ?genus ;
                schema:hasSpecies ?species .
        ?ccn a schema:CultureCollectionNumber ;
             schema:describesStrain ?strain ;
             rdfs:label ?collectionNumber ;
             schema:hasLink ?link .
        # Filter by collection type:
        # FILTER(CONTAINS(?collectionNumber, "DSM"))
        # FILTER(CONTAINS(?collectionNumber, "ATCC"))
      }
      LIMIT 10
  
  - pattern: schema:hasSequenceAccession (Sequence Databases)
    description: |
      Sequence data links to NCBI and ENA databases through accession numbers.
      Both 16S rRNA sequences and genome sequences use hasSequenceAccession property.
    databases:
      sequence_repositories:
        - ENA (European Nucleotide Archive): ~26% of strains have 16S sequences
        - NCBI GenBank/RefSeq: genome assemblies (~15% of strains)
        - Assembly accessions: GCA_ prefix for GenBank assemblies
    complexity: intermediate
    sparql: |
      PREFIX schema: <https://purl.dsmz.de/schema/>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      
      SELECT ?strain ?genus ?species ?seqAccession ?seqType ?seqDB
      FROM <http://rdfportal.org/dataset/bacdive>
      WHERE {
        ?strain a schema:Strain ;
                schema:hasGenus ?genus ;
                schema:hasSpecies ?species .
        {
          ?seq a schema:16SSequence ;
               schema:describesStrain ?strain ;
               schema:hasSequenceAccession ?seqAccession ;
               schema:fromSequenceDB ?seqDB .
          BIND("16S rRNA" as ?seqType)
        } UNION {
          ?seq a schema:GenomeSequence ;
               schema:describesStrain ?strain ;
               schema:hasSequenceAccession ?seqAccession ;
               schema:fromSequenceDB ?seqDB .
          BIND("Genome" as ?seqType)
        }
      }
      LIMIT 15
  
  - pattern: schema:hasTaxID (NCBI Taxonomy)
    description: |
      Cross-references to NCBI Taxonomy through TaxID mappings.
      Note: TaxID field has mixed types (integer for NCBI IDs, string for hierarchy levels like "species").
    databases:
      taxonomy:
        - NCBI Taxonomy: ~99% of strains have numeric TaxIDs
    complexity: basic
    sparql: |
      PREFIX schema: <https://purl.dsmz.de/schema/>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      
      SELECT ?strain ?genus ?species ?taxID ?scientificName
      FROM <http://rdfportal.org/dataset/bacdive>
      WHERE {
        ?strain a schema:Strain ;
                schema:hasGenus ?genus ;
                schema:hasSpecies ?species ;
                schema:hasTaxID ?taxID ;
                rdfs:hasScientificName ?scientificName .
        FILTER(isNumeric(?taxID))
      }
      LIMIT 10

architectural_notes:
  schema_design:
    - Central hub entity is Strain, connected to all phenotype and sequence data via schema:describesStrain
    - Consistent inverse relationship pattern: phenotype/data entities point to strains, not vice versa
    - Multiple inheritance patterns for phenotype classes (e.g., GramStain extends CellMorphology, MicrobialPhenotype, Phenotype)
    - Reference entities link data to scientific literature and culture collections
  
  performance:
    - Genus and species properties are well-indexed for taxonomic filtering
    - BacDiveID provides efficient unique identifier access
    - Complex enzyme queries benefit from limiting strain scope first with genus/species filter
    - Temperature and pH range queries work efficiently with numeric comparisons
  
  data_integration:
    - NCBI TaxID enables integration with NCBI Taxonomy and other taxonomic databases
    - Sequence accessions link to ENA, GenBank, and other sequence repositories
    - Culture collection numbers provide direct links to strain repositories worldwide
    - EC numbers connect enzyme data to enzyme classification databases
  
  data_quality:
    - TaxID field contains mixed types (integer for NCBI IDs, string for hierarchy levels like "species")
    - Not all strains have complete phenotypic characterization (~16% have Gram stain data)
    - Enzyme activity uses "+" and "-" notation consistently for positive/negative results
    - Geographic coordinates available for limited subset of strains (<5%)

data_statistics:
  # Entity counts
  total_strains: 97334
  total_enzymes: 573112
  total_references: 123819
  total_culture_collection_numbers: 149377
  total_16s_sequences: 87045
  total_genome_sequences: 87045
  
  # Coverage (sampled from database)
  coverage:
    strains_with_complete_taxonomy: ">99%"
    strains_with_ncbi_taxid: "~99%"
    strains_with_type_strain_info: "100%"
    strains_with_gram_stain: "~16%"
    strains_with_16s_sequences: "~26%"
    strains_with_enzyme_data: "~30%"
    strains_with_culture_temperature: "~50%"
    strains_with_genome_sequences: "~15%"
    strains_with_geographic_coordinates: "<5%"
  
  # Cardinality
  cardinality:
    avg_enzymes_per_strain: 18.8
    max_enzymes_per_strain: 106
    avg_culture_collection_numbers_per_strain: 1.5
    max_culture_collection_numbers_per_strain: 15
    avg_references_per_strain: 1.3
    max_references_per_strain: 8
  
  # Performance patterns
  performance_characteristics:
    - "Taxonomic filtering by genus/species is highly efficient"
    - "Enzyme queries can return many rows per strain - use LIMIT generously"
    - "Geographic coordinate filtering very selective due to low coverage (<5%)"
    - "Type strain filtering (isTypeStrain=1) reduces results to ~25,000 strains"
    - "Complex phenotype queries benefit from strain-first filtering approach"
    - "Temperature range queries efficient with numeric comparisons"
  
  # Data quality
  data_quality_notes:
    - "TaxID property has mixed types (integer for NCBI IDs, string for rank names like 'species')"
    - "Enzyme activity notation consistent ('+' for positive, '-' for negative)"
    - "Temperature and pH ranges use separate start/end properties"
    - "Not all strains have complete phenotypic characterization"
    - "Culture collection cross-references highly reliable and comprehensive"
