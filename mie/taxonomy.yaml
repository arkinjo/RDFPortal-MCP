schema_info:
  title: NCBI Taxonomy RDF Schema
  description: |
    Comprehensive biological taxonomic classification covering 3M+ organisms from bacteria to mammals. Provides hierarchical
    relationships from species through genus, family, order, class, phylum, kingdom to superkingdom. Includes scientific names,
    common names, taxonomic authorities, and genetic code assignments. Extensive cross-references to OBO NCBITaxon, UniProt,
    NCBI Gene, and MBGD databases. Essential for biological data integration and comparative genomics.
  endpoint: https://rdfportal.org/primary/sparql
  base_uri: http://identifiers.org/taxonomy/
  graphs:
    - http://rdfportal.org/ontology/taxonomy

shape_expressions: |
  PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
  PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
  PREFIX owl: <http://www.w3.org/2002/07/owl#>
  PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
  PREFIX dcterms: <http://purl.org/dc/terms/>
  PREFIX tax: <http://ddbj.nig.ac.jp/ontologies/taxonomy/>
  PREFIX tio: <http://togoid.dbcls.jp/ontology#>
  
  <Taxon> {
    a [ tax:Taxon ] ;
    rdfs:label xsd:string ;
    dcterms:identifier xsd:string ;
    tax:rank @<Rank> ;
    rdfs:subClassOf @<Taxon> * ;
    owl:sameAs IRI * ;
    rdfs:seeAlso IRI * ;
    tax:scientificName xsd:string ? ;
    tax:authority xsd:string ? ;
    tax:genbankCommonName xsd:string ? ;
    tax:commonName xsd:string * ;
    tax:synonym xsd:string * ;
    tax:uniqueName xsd:string ? ;
    tax:geneticCode @<GeneticCode> ? ;
    tax:geneticCodeMt @<GeneticCode> ? ;
    tio:TIO_000002 IRI * ;                      # MBGD cross-ref
    tio:TIO_000065 IRI *                        # NCBI Gene cross-ref
  }
  
  <Rank> {
    a [ tax:Rank ] ;
    rdfs:label xsd:string
  }
  
  <GeneticCode> {
    rdfs:label xsd:string
  }

sample_rdf_entries:
  - title: Human Species with Complete Metadata
    description: Homo sapiens showing hierarchy and cross-references
    rdf: |
      taxon:9606 a tax:Taxon ;
        rdfs:label "Homo sapiens" ;
        rdfs:subClassOf taxon:9605 ;
        dcterms:identifier "9606" ;
        tax:rank tax:Species ;
        tax:scientificName "Homo sapiens" ;
        tax:authority "Homo sapiens Linnaeus, 1758" ;
        tax:genbankCommonName "human" ;
        tax:commonName "human" ;
        tax:geneticCode tax:GeneticCode1 ;
        tax:geneticCodeMt tax:GeneticCode2 ;
        owl:sameAs obo:NCBITaxon_9606 .

  - title: Bacterial Strain Entry
    description: Shigella flexneri strain with gene cross-references
    rdf: |
      taxon:1086030 a tax:Taxon ;
        rdfs:label "Shigella flexneri 5a str. M90T" ;
        rdfs:subClassOf taxon:623 ;
        dcterms:identifier "1086030" ;
        tax:rank tax:Strain ;
        tax:scientificName "Shigella flexneri 5a str. M90T" ;
        tio:TIO_000065 <http://identifiers.org/ncbigene/40047288> .

  - title: Genus Level Classification
    description: Escherichia genus showing genus rank
    rdf: |
      taxon:561 a tax:Taxon ;
        rdfs:label "Escherichia" ;
        rdfs:subClassOf taxon:543 ;
        dcterms:identifier "561" ;
        tax:rank tax:Genus ;
        tax:scientificName "Escherichia" .

  - title: Kingdom Level
    description: Animal kingdom (Metazoa) high-level classification
    rdf: |
      taxon:33208 a tax:Taxon ;
        rdfs:label "Metazoa" ;
        rdfs:subClassOf taxon:2759 ;
        dcterms:identifier "33208" ;
        tax:rank tax:Kingdom ;
        tax:scientificName "Metazoa" ;
        tax:commonName "animals" .

  - title: Root of Taxonomy Tree
    description: Top-level root node
    rdf: |
      taxon:1 a tax:Taxon ;
        rdfs:label "root" ;
        dcterms:identifier "1" ;
        tax:rank tax:NoRank .

sparql_query_examples:
  - title: Get Basic Taxa Information
    description: Retrieve taxonomic entities with names and IDs
    question: What are some organisms in the database?
    complexity: basic
    sparql: |
      PREFIX tax: <http://ddbj.nig.ac.jp/ontologies/taxonomy/>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      PREFIX dcterms: <http://purl.org/dc/terms/>
      SELECT ?taxon ?label ?id
      WHERE { 
        ?taxon a tax:Taxon ;
               rdfs:label ?label ;
               dcterms:identifier ?id .
      }
      LIMIT 20

  - title: Get Complete Lineage
    description: Retrieve full taxonomic lineage for an organism
    question: What is the complete lineage of humans?
    complexity: intermediate
    sparql: |
      PREFIX tax: <http://ddbj.nig.ac.jp/ontologies/taxonomy/>
      PREFIX taxon: <http://identifiers.org/taxonomy/>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      PREFIX dcterms: <http://purl.org/dc/terms/>
      SELECT ?ancestor ?rank ?label ?id
      WHERE {
        taxon:9606 rdfs:subClassOf* ?ancestor .
        ?ancestor a tax:Taxon ;
                  tax:rank ?rank ;
                  rdfs:label ?label ;
                  dcterms:identifier ?id .
      }
      ORDER BY DESC(?id)

  - title: Find Species in Genus
    description: Get all species within a specific genus
    question: What species are in genus Escherichia?
    complexity: intermediate
    sparql: |
      PREFIX tax: <http://ddbj.nig.ac.jp/ontologies/taxonomy/>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      PREFIX dcterms: <http://purl.org/dc/terms/>
      SELECT ?species ?label ?id
      WHERE {
        ?species a tax:Taxon ;
                 rdfs:label ?label ;
                 dcterms:identifier ?id ;
                 tax:rank tax:Species ;
                 rdfs:subClassOf ?genus .
        ?genus rdfs:label "Escherichia" ;
               tax:rank tax:Genus .
      }
      LIMIT 20

  - title: Count Species Per Genus
    description: Biodiversity analysis counting species in genera
    question: Which genera have most species?
    complexity: advanced
    sparql: |
      PREFIX tax: <http://ddbj.nig.ac.jp/ontologies/taxonomy/>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      SELECT ?genus ?genus_label (COUNT(?species) AS ?count)
      WHERE {
        ?species a tax:Taxon ;
                 tax:rank tax:Species ;
                 rdfs:subClassOf ?genus .
        ?genus tax:rank tax:Genus ;
               rdfs:label ?genus_label .
      }
      GROUP BY ?genus ?genus_label
      ORDER BY DESC(?count)
      LIMIT 20

  - title: Get Taxonomic Ranks
    description: Retrieve all taxonomic ranks used
    question: What ranks are in the taxonomy?
    complexity: basic
    sparql: |
      PREFIX tax: <http://ddbj.nig.ac.jp/ontologies/taxonomy/>
      SELECT DISTINCT ?rank
      WHERE { 
        ?taxon a tax:Taxon ;
               tax:rank ?rank .
      }
      ORDER BY ?rank

  - title: Find Organisms with Genetic Codes
    description: Get organisms with genetic code assignments
    question: Which organisms have genetic codes?
    complexity: intermediate
    sparql: |
      PREFIX tax: <http://ddbj.nig.ac.jp/ontologies/taxonomy/>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      SELECT ?taxon ?label ?genetic_code ?mt_code
      WHERE {
        ?taxon a tax:Taxon ;
               rdfs:label ?label ;
               tax:geneticCode ?genetic_code .
        OPTIONAL { ?taxon tax:geneticCodeMt ?mt_code }
      }
      LIMIT 20

  - title: Search by Common Name
    description: Find organisms by common name
    question: Find organisms with "mouse" in common name
    complexity: basic
    sparql: |
      PREFIX tax: <http://ddbj.nig.ac.jp/ontologies/taxonomy/>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      SELECT ?taxon ?label ?commonName
      WHERE {
        ?taxon a tax:Taxon ;
               rdfs:label ?label ;
               tax:commonName ?commonName .
        FILTER(CONTAINS(LCASE(?commonName), "mouse"))
      }
      LIMIT 20

cross_references:
  - title: OBO NCBITaxon Links
    description: Cross-reference to OBO Foundry NCBITaxon ontology
    complexity: basic
    sparql: |
      PREFIX tax: <http://ddbj.nig.ac.jp/ontologies/taxonomy/>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      PREFIX owl: <http://www.w3.org/2002/07/owl#>
      SELECT ?taxon ?label ?obo_ref
      WHERE {
        ?taxon a tax:Taxon ;
               rdfs:label ?label ;
               owl:sameAs ?obo_ref .
        FILTER(CONTAINS(STR(?obo_ref), "obolibrary.org/obo/NCBITaxon"))
      }
      LIMIT 20

  - title: UniProt Taxonomy Links
    description: Cross-reference to UniProt Taxonomy database
    complexity: basic
    sparql: |
      PREFIX tax: <http://ddbj.nig.ac.jp/ontologies/taxonomy/>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      SELECT ?taxon ?label ?uniprot_ref
      WHERE {
        ?taxon a tax:Taxon ;
               rdfs:label ?label ;
               rdfs:seeAlso ?uniprot_ref .
        FILTER(CONTAINS(STR(?uniprot_ref), "uniprot.org/taxonomy"))
      }
      LIMIT 20

  - title: NCBI Gene Database Links
    description: Cross-references to NCBI Gene via TogoID
    complexity: intermediate
    sparql: |
      PREFIX tax: <http://ddbj.nig.ac.jp/ontologies/taxonomy/>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      PREFIX tio: <http://togoid.dbcls.jp/ontology#>
      SELECT ?taxon ?label ?gene_id
      WHERE {
        ?taxon a tax:Taxon ;
               rdfs:label ?label ;
               tio:TIO_000065 ?gene_id .
      }
      LIMIT 20

architectural_notes:
  schema_design:
    - Hierarchical classification via rdfs:subClassOf for parent-child relationships
    - Extensive cross-referencing with owl:sameAs for database interoperability
    - Specialized taxonomic properties under tax namespace
    - TogoID integration for systematic cross-database linking
  
  performance:
    - 3M+ taxa require query optimization and LIMIT clauses
    - Hierarchical queries with rdfs:subClassOf* can be expensive
    - Cross-reference queries should be limited
    - Indexing on ranks improves filtering performance
  
  data_integration:
    - OBO NCBITaxon for ontology interoperability
    - UniProt for protein context
    - NCBI Gene for gene-level data
    - MBGD for comparative genomics
    - Berkeley BOP for reasoning
  
  data_quality:
    - Systematic cross-referencing ensures consistency
    - Authority citations provide provenance
    - Multiple naming systems accommodate contexts
    - Genetic code assignments reflect translation systems

data_statistics:
  total_taxa: 3046425
  estimated_species: ~1500000
  estimated_genera: ~200000
  taxonomic_ranks: 47
  
  indexed_properties:
    - rdfs:label
    - dcterms:identifier
    - tax:rank
    - rdfs:subClassOf
  
  most_diverse_genera:
    - Cortinarius (1962 species)
    - Astragalus (1558 species)
    - Megaselia (1284 species)